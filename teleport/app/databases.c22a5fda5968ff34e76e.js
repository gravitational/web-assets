"use strict";(self.webpackChunk_gravitational_teleport=self.webpackChunk_gravitational_teleport||[]).push([[58,179],{9161:(e,t,r)=>{r.d(t,{cZ:()=>Z,cN:()=>$,fK:()=>E,$N:()=>g,ZP:()=>K});var n=r(2784),a=r(3980),o=r.n(a),s=r(917),c=r(3502);const l=["children","dialogCss"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}class m extends n.Component{render(){const e=this.props,{children:t,dialogCss:r}=e,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l);return n.createElement(c.Z,d({role:"dialog"},a),n.createElement(b,null,n.createElement(f,{"data-testid":"dialogbox",dialogCss:r},t)))}}m.defaultProps={disableBackdropClick:!0,disableEscapeKeyDown:!0},m.propTypes=u(u({},c.Z.propTypes),{},{children:o().node,dialogCss:o().func});const b=s.ZP.div(["height:100%;outline:none;color:black;display:flex;align-items:center;justify-content:center;opacity:1;will-change:opacity;transition:opacity 225ms cubic-bezier(0.4,0,0.2,1) 0ms;"]),f=s.ZP.div(["padding:32px;padding-top:24px;background:",";color:",";border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,0.24);display:flex;flex-direction:column;position:relative;overflow-y:auto;max-height:calc(100% - 96px);",";"],(e=>e.theme.colors.primary.main),(e=>e.theme.colors.text.primary),(e=>e.dialogCss&&e.dialogCss(e)));var y=r(7294);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function g(e){return n.createElement(y.Z,h({typography:"h3",color:"text.primary",caps:!0},e))}var x=r(2865),O=r(9097);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function E(e){return n.createElement(w,v({minHeight:"32px",mb:"3",alignItems:"center"},e))}const w=(0,s.ZP)(O.Z)(["",""],x.cp);var P=r(1218);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const k=(0,s.ZP)(P.kC)([""]);k.defaultProps=j(j({},P.kC.defaultProps),{},{mb:"5",flex:"1",flexDirection:"column"});const Z=k;function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const I=(0,s.ZP)(P.xu)([""]);I.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},P.xu.defaultProps);const $=I,K=m},5070:(e,t,r)=>{function n(e){return navigator.clipboard.writeText(e).catch((e=>{window.prompt("Cannot copy to clipboard. Use ctrl/cmd + c",e)}))}r.d(t,{Z:()=>n})},3388:(e,t,r)=>{function n(e){let t,r;window.getSelection&&document.createRange&&(r=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),r.removeAllRanges(),r.addRange(t))}r.d(t,{Z:()=>n})},5208:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(2784),a=r(1218),o=r(2398),s=r(7067),c=r(5769),l=r(2499),i=r(2479),u=r(3652),p=r(9161),d=r(1347),m=r(3228);const b=function(e){let{username:t,clusterId:r,dbName:o,onClose:s,authType:c,accessRequestId:l}=e;return n.createElement(p.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%"}),disableEscapeKeyDown:!1,onClose:s,open:!0},n.createElement(p.fK,{mb:4},n.createElement(p.$N,null,"Connect To Database")),n.createElement(p.cZ,{minHeight:"240px",flex:"0 0 auto"},n.createElement(a.xu,{mb:4},n.createElement(a.xv,{bold:!0,as:"span"},"Step 1")," - Login to Teleport",n.createElement(d.Z,{mt:"2",text:(0,m.Sl)({authType:c,clusterId:r,username:t,accessRequestId:l})})),n.createElement(a.xu,{mb:4},n.createElement(a.xv,{bold:!0,as:"span"},"Step 2")," - Retrieve credentials for the database",n.createElement(d.Z,{mt:"2",text:`tsh db login [--db-user=<user>] [--db-name=<name>] ${o}`})),n.createElement(a.xu,{mb:4},n.createElement(a.xv,{bold:!0,as:"span"},"Step 3")," - Connect to the database",n.createElement(d.Z,{mt:"2",text:`tsh db connect [--db-user=<user>] [--db-name=<name>] ${o}`})),l&&n.createElement(a.xu,{mb:4},n.createElement(a.xv,{bold:!0,as:"span"},"Step 4 (Optional)")," - When finished, drop the assumed role",n.createElement(d.Z,{mt:"2",text:"tsh request drop"})),n.createElement(a.xu,null,"* Note: To connect with a GUI database client, see our ",n.createElement(a.rU,{href:"https://goteleport.com/docs/database-access/guides/gui-clients/",target:"_blank"},"documentation")," for instructions.")),n.createElement(p.cN,null,n.createElement(a.PL,{onClick:s},"Close")))};var f=r(6071);const y=function(e){const{databases:t=[],pageSize:r,username:o,clusterId:s,authType:c,totalCount:l,fetchNext:i,fetchPrev:p,fetchStatus:d,from:m,to:y,params:h,setParams:g,startKeys:x,setSort:O,pathname:v,replaceHistory:E,onLabelClick:w,accessRequestId:P}=e,[C,j]=(0,n.useState)(null);return n.createElement(n.Fragment,null,n.createElement(u.ZP,{data:t,columns:[{key:"name",headerText:"Name",isSortable:!0},{key:"description",headerText:"Description",isSortable:!0},{key:"type",headerText:"Type",isSortable:!0},{key:"labels",headerText:"Labels",render:e=>{let{labels:t}=e;return n.createElement(u.aW,{labels:t,onClick:w})}},{altKey:"connect-btn",render:e=>function(e,t){let{name:r,protocol:o}=e;return n.createElement(u.bL,{align:"right"},n.createElement(a.ku,{size:"small",onClick:()=>{t({name:r,protocol:o})}},"Connect"))}(e,j)}],pagination:{pageSize:r},fetching:{onFetchNext:i,onFetchPrev:p,fetchStatus:d},serversideProps:{sort:h.sort,setSort:O,startKeys:x,serversideSearchPanel:n.createElement(f.Z,{from:m,to:y,count:l,params:h,setParams:g,pathname:v,replaceHistory:E})},isSearchable:!0,emptyText:"No Databases Found"}),C&&n.createElement(b,{username:o,clusterId:s,dbName:C.name,dbProtocol:C.protocol,onClose:()=>j(null),authType:c,accessRequestId:P}))};var h=r(4517),g=r(4696),x=r(321),O=r(6828),v=r(1392),E=r(9068);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){const{attempt:t,isLeafCluster:r,canCreate:o,username:u,clusterId:p,authType:d,results:m,fetchNext:b,fetchPrev:f,from:h,to:g,pageSize:x,params:O,setParams:v,startKeys:E,setSort:w,pathname:P,replaceHistory:C,fetchStatus:j,isSearchEmpty:k,onLabelClick:Z,accessRequestId:D}=e,T=0===m.databases.length&&k;return n.createElement(s.Ob,null,n.createElement(s.OX,{alignItems:"center",justifyContent:"space-between"},n.createElement(s.u4,null,"Databases"),"success"===t.status&&!T&&n.createElement(i.Z,{agent:"database",beginsWithVowel:!1,isLeafCluster:r,canCreate:o})),"processing"===t.status&&n.createElement(a.xu,{textAlign:"center",m:10},n.createElement(a.z$,null)),"failed"===t.status&&n.createElement(l.Z,{message:t.statusText}),"processing"!==t.status&&!T&&n.createElement(y,{databases:m.databases,username:u,clusterId:p,authType:d,fetchNext:b,fetchPrev:f,fetchStatus:j,from:h,to:g,totalCount:m.totalCount,pageSize:x,params:O,setParams:v,startKeys:E,setSort:w,pathname:P,replaceHistory:C,onLabelClick:Z,accessRequestId:D}),"success"===t.status&&T&&n.createElement(c.Z,{clusterId:p,canCreate:o&&!r,emptyStateInfo:S}))}const S={title:"Add your first database to Teleport",byline:"Teleport Database Access provides secure access to PostgreSQL, MySQL, MariaDB, MongoDB, Redis, and Microsoft SQL Server.",docsURL:"https://goteleport.com/docs/database-access/guides/",resourceType:"database",readOnly:{title:"No Databases Found",resource:"databases"}},k=function(){const e=function(e){const{search:t,pathname:r}=(0,h.TH)(),[a,o]=(0,n.useState)([]),{attempt:s,setAttempt:c}=(0,g.Z)("processing"),{clusterId:l,isLeafCluster:i}=(0,O.Z)(),u=e.storeUser.state.username,p=e.storeUser.getTokenAccess().create,d=e.storeUser.state.authType,m=e.storeUser.getAccessRequestId(),[b,f]=(0,n.useState)(""),[y,w]=(0,n.useState)(P({sort:{fieldName:"name",dir:"ASC"}},(0,x.Z)(t))),C=!(null!=y&&y.query||null!=y&&y.search),[j,S]=(0,n.useState)({databases:[],startKey:"",totalCount:0}),k=j.totalCount>0?15*(a.length-2)+1:0,Z=j.totalCount>0?k+j.databases.length-1:0;function D(e){v.Z.replace(e)}return(0,n.useEffect)((()=>{c({status:"processing"}),e.databaseService.fetchDatabases(l,P(P({},y),{},{limit:15})).then((e=>{S({databases:e.agents,startKey:e.startKey,totalCount:e.totalCount}),f(e.startKey?"":"disabled"),o(["",e.startKey]),c({status:"success"})})).catch((e=>{c({status:"failed",statusText:e.message}),S(P(P({},j),{},{databases:[],totalCount:0})),o([""])}))}),[l,t]),{attempt:s,canCreate:p,isLeafCluster:i,username:u,clusterId:l,authType:d,results:j,fetchNext:()=>{f("loading"),e.databaseService.fetchDatabases(l,P(P({},y),{},{limit:15,startKey:j.startKey})).then((e=>{S(P(P({},j),{},{databases:e.agents,startKey:e.startKey})),f(e.startKey?"":"disabled"),o([...a,e.startKey])})).catch((e=>{c({status:"failed",statusText:e.message})}))},fetchPrev:()=>{f("loading"),e.databaseService.fetchDatabases(l,P(P({},y),{},{limit:15,startKey:a[a.length-3]})).then((e=>{const t=a;t.pop(),o(t),S(P(P({},j),{},{databases:e.agents,startKey:e.startKey})),f("")})).catch((e=>{c({status:"failed",statusText:e.message})}))},pageSize:15,from:k,to:Z,params:y,setParams:w,startKeys:a,setSort:function(e){w(P(P({},y),{},{sort:e}))},pathname:r,replaceHistory:D,fetchStatus:b,isSearchEmpty:C,onLabelClick:e=>(0,E.Z)(e,y,w,r,D),accessRequestId:m}}((0,o.Z)());return n.createElement(j,e)}},2479:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(2784),a=r(7933),o=r(1218),s=r(7278);const c=function(e){const{canCreate:t,isLeafCluster:r,onClick:c,agent:l,beginsWithVowel:i}=e,u=r||!t;let p="";return t||(p=`You do not have access to add ${i?"an":"a"} ${l}`),r&&(p=`Adding ${i?"an":"a"} ${l} to a leaf cluster is not supported`),n.createElement(a.rU,{to:{pathname:`${s.Z.routes.root}/discover`,state:{entity:l}},style:{textDecoration:"none"}},n.createElement(o.DF,{title:p,disabled:u,width:"240px",onClick:c},"Add ",l))}},5769:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(2784),a=r(7933),o=r(1218),s=r(9049),c=r(7278);const l=r.p+"assets/img/img-b7a4b8.png",i=r.p+"assets/img/img-6693d4.png",u=r.p+"assets/img/img-7ba430.png",p=r.p+"assets/img/img-73fbbf.png";function d(e){return{application:l,database:i,desktop:u,kubernetes:p,server:p}[e]}const m=function(e){const{canCreate:t,clusterId:r,emptyStateInfo:l}=e,{byline:i,docsURL:u,resourceType:p,readOnly:m,title:b}=l;return t?n.createElement(o.xu,{p:8,pt:5,as:o.kC,width:"100%",mx:"auto",alignItems:"center",justifyContent:"center"},n.createElement(o.xu,{maxWidth:600},n.createElement(o.xu,{mb:4,textAlign:"center"},n.createElement(s.Z,{src:d(p),ml:"auto",mr:"auto",mb:4,height:"160px"}),n.createElement(o.xv,{typography:"h5",mb:2,fontWeight:700,fontSize:24},b),n.createElement(o.xv,{fontWeight:400,fontSize:14,style:{opacity:"0.6"}},i)),n.createElement(o.xu,{textAlign:"center"},n.createElement(a.rU,{to:{pathname:`${c.Z.routes.root}/discover`,state:{entity:p}},style:{textDecoration:"none"}},n.createElement(o.DF,{width:"224px"},"Add ",p)),n.createElement(o.JU,{size:"medium",as:"a",href:u,target:"_blank",width:"224px",ml:4,rel:"noreferrer"},"View Documentation")))):n.createElement(o.xu,{p:8,mx:"auto",maxWidth:"664px",textAlign:"center",color:"text.primary",borderRadius:"12px"},n.createElement(o.xv,{typography:"h2",mb:"3"},m.title),n.createElement(o.xv,null,"Either there are no ",m.resource,' in the "',n.createElement(o.xv,{as:"span",bold:!0},r),"\" cluster, or your roles don't grant you access."))}},7067:(e,t,r)=>{r.d(t,{Ob:()=>p,OX:()=>i,u4:()=>u,E2:()=>d});var n=r(917),a=r(1218),o=r(135);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const i=(0,n.ZP)(a.kC)(["flex-shrink:0;border-bottom:1px solid ",";height:56px;margin-left:-40px;margin-right:-40px;padding-left:40px;padding-right:40px;"],(e=>e.theme.colors.primary.main));i.defaultProps={alignItems:"center",mb:4};const u=(0,n.ZP)(a.xv)(["white-space:nowrap;"]);u.defaultProps=c(c({},a.xv.defaultProps),{},{typography:"h3"});const p=(0,n.ZP)(a.kC)(["width:100%;height:100%;flex-direction:column;::after{content:' ';padding-bottom:24px;}"]);p.defaultProps={theme:o.Z,px:6},n.ZP.div(["position:absolute;width:100%;height:100%;display:flex;"]),n.ZP.div(["display:flex;flex-direction:column;width:100%;"]);const d=n.ZP.button(["color:",";cursor:pointer;display:inline-flex;font-size:14px;padding:12px 40px;position:relative;text-decoration:none;font-weight:500;&:hover{background:",";}&.active{color:",";}&.active:after{background-color:",";content:'';position:absolute;bottom:0;left:0;width:100%;height:4px;}"],(e=>e.theme.colors.text.secondary),(e=>e.active?e.theme.colors.primary.light:"rgba(255, 255, 255, .06)"),(e=>e.theme.colors.light),(e=>e.theme.colors.accent))},1347:(e,t,r)=>{r.d(t,{r:()=>p,Z:()=>x});var n=r(2784),a=r(5070),o=r(3388),s=r(1218),c=r(917);const l=["text","fontFamily","allowMultiline","onCopy","bash"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var u=r(3757);function p(e){var t,r;let{lines:c,bash:l=!0}=e;const i=(0,n.useRef)([]),p=null===(t=window.navigator)||void 0===t||null===(r=t.userAgent)||void 0===r?void 0:r.toLowerCase().includes("firefox");return n.createElement(y,{bg:"bgTerminal",pl:3,pt:2,pr:7,borderRadius:2,pb:p?3:2},n.createElement(f,{mr:1},c.map(((e,t)=>{const r=t===c.length-1;return n.createElement(s.xu,{pt:2,pb:r?0:2,key:t,ref:e=>i.current[t]=e},e.comment&&n.createElement(m,null,e.comment),n.createElement(s.kC,null,n.createElement(s.kC,null,l&&n.createElement(s.xu,{mr:"1"},"$"),n.createElement("div",{className:"text-to-copy"},n.createElement(h,null,e.text))),n.createElement(g,{pr:3},n.createElement(b,{onClick:()=>function(e){(0,a.Z)(c[e].text).then((()=>{const t=i.current[e].getElementsByClassName("icon-container")[0];t.classList.toggle("copied"),setTimeout((()=>{t.classList.toggle("copied")}),1e3)}));const t=i.current[e].getElementsByClassName("text-to-copy")[0];(0,o.Z)(t)}(t)},n.createElement(d,{className:"icon-container"},n.createElement(u.CKM,{"data-testid":"btn-copy"}),n.createElement(u.JrY,{"data-testid":"btn-check"}))))))}))))}const d=c.ZP.div([".icon-check{display:none;}.icon-copy{display:block;}&.copied{.icon-check{display:block;}.icon-copy{display:none;}}"]),m=c.ZP.div(["color:rgb(117 113 94 / 80%);"]),b=(0,c.ZP)(s.PL)(["height:28px;width:28px;border-radius:20px;min-height:auto;padding:0;margin-top:-4px;"]),f=(0,c.ZP)(s.xu)(["white-space:pre;word-break:break-all;font-size:12px;font-family:",";overflow:scroll;line-height:20px;"],(e=>{let{theme:t}=e;return t.fonts.mono}));var y=(0,c.ZP)(s.xu)({position:"relative"}),h=(0,c.ZP)("pre")({margin:0}),g=(0,c.ZP)(s.xu)(["position:absolute;right:0px;"]);const x=function(e){let{text:t,fontFamily:r,allowMultiline:u,onCopy:p,bash:d=!0}=e,m=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l);const b=r||(0,c.Fg)().fonts.mono,f=n.useRef(),[y,h]=n.useState((()=>"Copy")),g=d&&!u?{overflow:"auto",whiteSpace:"pre",wordBreak:"break-all",fontSize:"12px",fontFamily:b}:{wordBreak:"break-all",fontSize:"12px",fontFamily:b};return n.createElement(s.kC,i({bg:"bgTerminal",p:"2",alignItems:"center",justifyContent:"space-between",borderRadius:2},m),n.createElement(s.kC,{mr:"2",style:g},d&&n.createElement(s.xu,{mr:"1",style:{userSelect:"none"}},"$"),n.createElement("div",{ref:f},t)),n.createElement(s.DF,{onClick:function(){(0,a.Z)(t).then((()=>h("Copied"))),(0,o.Z)(f.current),p&&p()},style:{maxWidth:"48px",width:"100%",padding:"4px 8px",minHeight:"10px",fontSize:"10px"}},y))}},3228:(e,t,r)=>{r.d(t,{ES:()=>s,Kp:()=>a,RB:()=>n,Sl:()=>o});const n=e=>{const t=document.createElement("a");t.setAttribute("href",`${e}`),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;const r=t.encode(e),n=await crypto.subtle.digest("SHA-256",r),a=Array.from(new Uint8Array(n)),o=a.map((e=>e.toString(16).padStart(2,"0"))).join("");return o}function o(e){let{authType:t,clusterId:r="",username:n,accessRequestId:a=""}=e;const{hostname:o,port:s}=window.location,c=`${o}:${s||"443"}`,l=a?` --request-id=${a}`:"";switch(t){case"sso":return`tsh login --proxy=${c} ${r}${l}`.trim();case"local":case"passwordless":return`tsh login --proxy=${c} --auth=${t} --user=${n} ${r}${l}`.trim();default:throw new Error(`auth type ${t} is not supported`)}}function s(e,t){return e&&t?e.filter((e=>!t.includes(e))):[]}},6828:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(4517),a=r(2784),o=r(7278);function s(){var e;const t=(0,a.useRef)({clusterId:o.Z.proxyCluster,hasClusterUrl:!1,isLeafCluster:!1}),r=(0,n.$B)(o.Z.routes.cluster),s=null==r||null===(e=r.params)||void 0===e?void 0:e.clusterId;return s&&(t.current.clusterId=s,t.current.isLeafCluster=s!==o.Z.proxyCluster),t.current.hasClusterUrl=!!s,t.current}},2398:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(2784),a=r(3665);function o(){const e=n.useContext(a.U);if(!e)throw new Error("Unable to retrieve Teleport Context");return window.teleContext=e}}}]);