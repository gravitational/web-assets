"use strict";(self.webpackChunk_gravitational_teleport=self.webpackChunk_gravitational_teleport||[]).push([[681],{5070:(e,t,n)=>{function r(e){return navigator.clipboard.writeText(e).catch((e=>{window.prompt("Cannot copy to clipboard. Use ctrl/cmd + c",e)}))}n.d(t,{Z:()=>r})},3388:(e,t,n)=>{function r(e){let t,n;window.getSelection&&document.createRange&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}n.d(t,{Z:()=>r})},2030:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(2784),o=n(7849),a=n(8197);const s=["label","labelTip","value","onChange","onKeyPress","placeholder","defaultValue","min","max","rule","type","autoFocus","autoComplete","inputMode","readonly"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const i=(0,r.forwardRef)(((e,t)=>{let{label:n,labelTip:i,value:p,onChange:m,onKeyPress:d,placeholder:h,defaultValue:f,min:b,max:g,rule:v=c,type:E="text",autoFocus:y=!1,autoComplete:C="off",inputMode:x="text",readonly:O=!1}=e,w=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);const{valid:P,message:k}=(0,a.kQ)(v(p)),S=!P,Z=S?k:n,j=r.createElement(o.II,{mt:1,ref:t,type:E,hasError:S,placeholder:h,autoFocus:y,value:p,min:b,max:g,autoComplete:C,onChange:m,onKeyPress:d,readOnly:O,inputMode:x,defaultValue:f});return r.createElement(o.xu,l({mb:"4"},w),n?r.createElement(o.SO,{mb:0,hasError:S},Z,i&&r.createElement(u,{text:i}),j):j)})),c=()=>()=>({valid:!0}),u=e=>{let{text:t}=e;return r.createElement(o.xv,{as:"span",style:{fontWeight:"normal"}},` - ${t}`)},p=i},1271:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(917),o=n(2784),a=n(7849),s=n(8197),l=n(7038);const i=["label","labelTip","value","options","onChange","placeholder","maxMenuHeight","isClearable","isMulti","menuPosition","rule","isSearchable","isSimpleValue","autoFocus","isDisabled"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=()=>()=>({valid:!0}),p=e=>{let{text:t}=e;return o.createElement(m,null,` - ${t}`)};var m=(0,r.ZP)("span")({fontWeight:"normal",textTransform:"none"});const d=function(e){let{label:t,labelTip:n,value:r,options:m,onChange:d,placeholder:h,maxMenuHeight:f,isClearable:b,isMulti:g,menuPosition:v,rule:E=u,isSearchable:y=!1,isSimpleValue:C=!1,autoFocus:x=!1,isDisabled:O=!1}=e,w=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);const{valid:P,message:k}=(0,s.kQ)(E(r)),S=Boolean(!P),Z=S?k:t;return o.createElement(a.xu,c({mb:"4"},w),t&&o.createElement(a.SO,{htmlFor:"select",hasError:S},Z,n&&o.createElement(p,{text:n})),o.createElement(l.ZP,{inputId:"select",menuPosition:v,hasError:S,isSimpleValue:C,isSearchable:y,isClearable:b,value:r,onChange:d,options:m,maxMenuHeight:f,placeholder:h,isMulti:g,autoFocus:x,isDisabled:O}))}},3937:(e,t,n)=>{n.d(t,{j2:()=>d,Oq:()=>c,sN:()=>r.sN,ZH:()=>r.ZH});var r=n(2760),o=n(2784),a=n(7849),s=n(3757);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.Component{constructor(e){super(e),i(this,"anchorEl",null),i(this,"state",{open:!1}),i(this,"onOpen",(e=>{e.stopPropagation(),this.setState({open:!0})})),i(this,"onClose",(()=>{this.setState({open:!1})})),this.state.open=e.defaultOpen||!1}render(){const{open:e}=this.state,{children:t,buttonIconProps:n,menuProps:i}=this.props;return o.createElement(o.Fragment,null,o.createElement(a.Ei,l({},n,{setRef:e=>this.anchorEl=e,onClick:this.onOpen,"data-testid":"button"}),o.createElement(s.mH4,null)),o.createElement(r.ZP,l({menuListCss:u,anchorEl:this.anchorEl,open:e,onClose:this.onClose,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},i),e&&this.renderItems(t)))}renderItems(e){return o.Children.toArray(e).map((e=>o.cloneElement(e,{onClick:this.makeOnClick(e.props.onClick)})))}makeOnClick(e){return t=>{t.stopPropagation(),this.onClose(),e&&e(t)}}}const u=()=>"\n  min-width: 100px;\n";function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o.Component{constructor(e){super(e),m(this,"anchorEl",null),m(this,"state",{open:!1}),m(this,"onOpen",(e=>{e.stopPropagation(),this.setState({open:!0})})),m(this,"onClose",(()=>{this.setState({open:!1})})),this.state.open=e.defaultOpen||!1}render(){const{open:e}=this.state,{children:t,menuProps:n,buttonProps:l}=this.props;return o.createElement(o.Fragment,null,o.createElement(a.ku,p({height:"24px",size:"small",setRef:e=>this.anchorEl=e,onClick:this.onOpen},l),"OPTIONS",o.createElement(s.E_,{ml:2,mr:-2,fontSize:"2",color:"text.secondary"})),o.createElement(r.ZP,p({getContentAnchorEl:null,menuListCss:h,anchorEl:this.anchorEl,open:e,onClose:this.onClose,transformOrigin:{vertical:"top",horizontal:"right"},anchorOrigin:{vertical:"center",horizontal:"right"}},n),e&&this.renderItems(t)))}renderItems(e){return o.Children.toArray(e).map((e=>o.cloneElement(e,{onClick:this.makeOnClick(e.props.onClick)})))}makeOnClick(e){return t=>{t.stopPropagation(),this.onClose(),e&&e(t)}}}const h=()=>"\n  min-width: 100px;\n"},8197:(e,t,n)=>{n.d(t,{ZP:()=>m,kQ:()=>p});var r=n(9259),o=n.n(r),a=n(2784),s=n(2418);const l=s.Z.create("validation");class i{constructor(){var e;(e="valid")in this?Object.defineProperty(this,e,{value:true,enumerable:!0,configurable:!0,writable:!0}):this[e]=true,this._subs=[]}subscribe(e){this._subs.push(e)}unsubscribe(e){const t=this._subs.indexOf(e);t>-1&&this._subs.splice(t,1)}addResult(e){let t=!1;o()(e)?t=e.valid:l.error("rule should return a valid object"),this.valid=this.valid&&Boolean(t)}reset(){this.valid=!0,this.validating=!1}validate(){return this.reset(),this.validating=!0,this._subs.forEach((e=>{try{e()}catch(e){l.error(e)}})),this.valid}}const c=a.createContext({}),u=s.Z.create("validation");function p(e){if("function"!=typeof e)return void u.warn("useRule(fn), fn() must be a function");const[,t]=a.useState(),n=function(){const e=a.useContext(c);return e instanceof i||l.warn("Missing Validation Context declaration"),e}();return a.useEffect((()=>{function r(){if(n.validating){const r=e();n.addResult(r),t({})}}return n.subscribe(r),function(){n.unsubscribe(r)}}),[e]),n.validating?e():{valid:!0}}const m=function(e){const[t]=a.useState((()=>new i)),n="function"==typeof e.children?e.children({validator:t}):e.children;return a.createElement(c.Provider,{value:t},n)}},7097:(e,t,n)=>{n.d(t,{Sb:()=>o,el:()=>s,lp:()=>r,qQ:()=>a});const r=e=>t=>()=>{const n=!(!t||0===t.length);return{valid:n,message:n?"":e}},o=e=>()=>e&&0!==e.length?{valid:!0}:{valid:!1,message:"Token is required"},a=e=>()=>!e||e.length<6?{valid:!1,message:"Enter at least 6 characters"}:{valid:!0},s=e=>t=>()=>t?t!==e?{valid:!1,message:"Password does not match"}:{valid:!0}:{valid:!1,message:"Please confirm your password"}},9127:(e,t,n)=>{n.d(t,{tg:()=>o.Z,lo:()=>a.Z,d4:()=>r.useEffect,U7:()=>s,eJ:()=>r.useState});var r=n(2784),o=n(4851),a=n(4696);function s(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{var n;e.shouldFocus&&(null===(n=t.current)||void 0===n||n.focus())}),[e.shouldFocus,t,...e.refocusDeps||[]]),t}},4851:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(2784);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=n(2418).Z.create("shared/hooks/useAttempt"),i={isProcessing:!1,isFailed:!1,isSuccess:!1,message:""};function c(e){const[t,n]=r.useState((()=>a(a({},i),e))),o=r.useMemo((()=>function(e){function t(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(a(a({},i),{},{isSuccess:!0,message:t}))}function n(){e(a(a({},i),{},{isProcessing:!0}))}function r(t){l.error("attempt",t),e(a(a({},i),{},{isFailed:!0,message:t.message}))}return{do:function(e){try{return n(),e().then((()=>{t()})).catch((e=>{throw r(e),e}))}catch(e){r(e)}},stop:t,start:n,clear:function(){e(a({},i))},error:r}}(n)),[n]);return[t,o]}},3190:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(2784),o=n(7849),a=n(7067),s=n(3652),l=n(3937);const i=e=>{let{user:t,onEdit:n,onReset:o,onDelete:a}=e;return t.isLocal?r.createElement(s.bL,{align:"right"},r.createElement(l.j2,null,r.createElement(l.sN,{onClick:()=>n(t)},"Edit..."),r.createElement(l.sN,{onClick:()=>o(t)},"Reset Authentication..."),r.createElement(l.sN,{onClick:()=>a(t)},"Delete..."))):r.createElement(s.bL,{align:"right"})},c=e=>{let{roles:t}=e;const n=t.map((e=>r.createElement(o.__,{mb:"1",mr:"1",key:e,kind:"secondary"},e)));return r.createElement(s.bL,null,n)},u=function(e){let{users:t=[],pageSize:n=20,onEdit:o,onDelete:a,onReset:l}=e;return r.createElement(s.ZP,{data:t,columns:[{key:"name",headerText:"Name",isSortable:!0},{key:"roles",headerText:"Roles",isSortable:!0,onSort:(e,t)=>{const n=e.toString(),r=t.toString();return n<r?-1:n>r?1:0},render:e=>{let{roles:t}=e;return r.createElement(c,{roles:t})}},{key:"authType",headerText:"Type",isSortable:!0,render:e=>{let{authType:t}=e;return r.createElement(s.bL,{style:{textTransform:"capitalize"}},t)}},{altKey:"options-btn",render:e=>r.createElement(i,{user:e,onEdit:o,onReset:l,onDelete:a})}],emptyText:"No Users Found",isSearchable:!0,pagination:{pageSize:n}})};var p=n(9161),m=n(8197),d=n(2030),h=n(1271),f=n(7097),b=n(7185),g=n(1347),v=n(7278);const E=function(e){let{token:t,onClose:n,asInvite:a=!1}=e;const s=v.Z.getUserResetTokenRoute(t.value,a),l=(0,b.Z)(Date.now(),t.expires);return r.createElement(p.ZP,{dialogCss:()=>({maxWidth:"500px",width:"100%"}),disableEscapeKeyDown:!1,onClose:close,open:!0},r.createElement(p.fK,null,r.createElement(p.$N,null,"Share Link")),r.createElement(p.cZ,null,a?r.createElement(o.xv,{mb:4,mt:1},"User",r.createElement(o.xv,{bold:!0,as:"span"},` ${t.username} `),"has been created but requires a password. Share this URL with the user to set up a password, link is valid for ",l,"."):r.createElement(o.xv,{mb:4,mt:1},"User",r.createElement(o.xv,{bold:!0,as:"span"},` ${t.username} `),"has been reset. Share this URL with the user to set up a new password, link is valid for ",l,"."),r.createElement(g.Z,{text:s,bash:!1})),r.createElement(p.cN,null,r.createElement(o.PL,{onClick:n},"Close")))};var y=n(9127);function C(e){const{onChangeName:t,onChangeRoles:n,onClose:a,roles:s,attempt:l,name:i,selectedRoles:c,onSave:u,isNew:b,token:g}=e;if("success"===l.status&&b)return r.createElement(E,{onClose:a,token:g,asInvite:!0});const v=s.map((e=>({value:e,label:e})));return r.createElement(m.ZP,null,(e=>{let{validator:s}=e;return r.createElement(p.ZP,{dialogCss:()=>({maxWidth:"500px",width:"100%",overflow:"initial"}),disableEscapeKeyDown:!1,onClose:a,open:!0},r.createElement(p.fK,null,r.createElement(p.$N,null,b?"Create User":"Edit User")),r.createElement(p.cZ,null,"failed"===l.status&&r.createElement(o.bZ,{kind:"danger",children:l.statusText}),r.createElement(d.Z,{label:"Username",rule:(0,f.lp)("Username is required"),autoFocus:!0,value:i,onChange:e=>t(e.target.value),readonly:!b}),r.createElement(h.Z,{menuPosition:"fixed",label:"User Roles",rule:(0,f.lp)("At least one role is required"),placeholder:"Click to select a role",isSearchable:!0,isMulti:!0,isSimpleValue:!0,isClearable:!1,value:c,onChange:e=>n(e),options:v})),r.createElement(p.cN,null,r.createElement(o.DF,{mr:"3",disabled:"processing"===l.status,onClick:()=>function(e){e.validate()&&u()}(s)},"Save"),r.createElement(o.PL,{disabled:"processing"===l.status,onClick:a},"Cancel")))}))}const x=function(e){const t=function(e){const{attempt:t,setAttempt:n}=(0,y.lo)(""),[o,a]=(0,r.useState)(e.user.name),[s,l]=(0,r.useState)(null),[i,c]=(0,r.useState)(e.user.roles.map((e=>({value:e,label:e}))));return{onClose:e.onClose,onSave:function(){const t={name:o,roles:i.map((e=>e.value))},r=e=>n({status:"failed",statusText:e.message});n({status:"processing"}),e.isNew?e.onCreate(t).then((e=>{l(e),n({status:"success"})})).catch(r):e.onUpdate(t).then((()=>{e.onClose()})).catch(r)},onChangeName:function(){a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},onChangeRoles:function(){c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},roles:e.roles,isNew:e.isNew,attempt:t,name:o,selectedRoles:i,token:s}}(e);return r.createElement(C,t)};function O(e){let{username:t,onDelete:n,onClose:a,attempt:s}=e;return r.createElement(p.ZP,{dialogCss:()=>({maxWidth:"500px",width:"100%"}),disableEscapeKeyDown:!1,onClose:close,open:!0},r.createElement(p.fK,null,r.createElement(p.$N,null,"Delete User?")),r.createElement(p.cZ,null,"failed"===s.status&&r.createElement(o.bZ,{children:s.statusText}),r.createElement(o.xv,{mb:4},"You are about to delete user",r.createElement(o.xv,{bold:!0,as:"span"},` ${t}`),". This will revoke the user's access to this cluster.")),r.createElement(p.cN,null,r.createElement(o.U3,{mr:"3",disabled:"processing"===s.status,onClick:n},"I understand, delete user"),r.createElement(o.PL,{onClick:a},"Cancel")))}const w=function(e){const t=function(e){const{attempt:t,setAttempt:n}=(0,y.lo)();return{username:e.username,onClose:e.onClose,onDelete:function(){n({status:"processing"}),e.onDelete(e.username).then((()=>{n({status:"success"}),e.onClose()})).catch((e=>{n({status:"failed",statusText:e.message})}))},attempt:t}}(e);return r.createElement(O,t)};function P(e){let{username:t,onReset:n,onClose:a,attempt:s,token:l}=e;return"success"===s.status?r.createElement(E,{onClose:a,token:l,asInvite:!1}):r.createElement(p.ZP,{dialogCss:()=>({maxWidth:"500px",width:"100%"}),disableEscapeKeyDown:!1,onClose:close,open:!0},r.createElement(p.fK,null,r.createElement(p.$N,null,"Reset User Authentication?")),r.createElement(p.cZ,null,"failed"===s.status&&r.createElement(o.bZ,{kind:"danger",children:s.statusText}),r.createElement(o.xv,{mb:4,mt:1},"You are about to reset authentication for user",r.createElement(o.xv,{bold:!0,as:"span"},` ${t} `),". This will generate a temporary URL which can be used to set up new authentication.")),r.createElement(p.cN,null,r.createElement(o.DF,{mr:"3",disabled:"processing"===s.status,onClick:n},"Generate reset url"),r.createElement(o.PL,{onClick:a},"Cancel")))}const k=function(e){const t=function(e){const{attempt:t,run:n}=(0,y.lo)(),[o,a]=r.useState(null);return{username:e.username,onClose:e.onClose,token:o,onReset:function(){n((()=>e.onReset(e.username).then(a)))},attempt:t}}(e);return r.createElement(P,t)};var S=n(2398);function Z(e){const{attempt:t,users:n,roles:s,operation:l,onStartCreate:i,onStartDelete:c,onStartEdit:p,onStartReset:m,onClose:d,onCreate:h,onUpdate:f,onDelete:b,onReset:g}=e;return r.createElement(a.Ob,null,r.createElement(a.OX,null,r.createElement(a.u4,null,"Users"),t.isSuccess&&r.createElement(o.DF,{ml:"auto",width:"240px",onClick:i},"Create New User")),t.isProcessing&&r.createElement(o.xu,{textAlign:"center",m:10},r.createElement(o.z$,null)),t.isFailed&&r.createElement(o.bZ,{kind:"danger",children:t.message}),t.isSuccess&&r.createElement(u,{users:n,onEdit:p,onDelete:c,onReset:m}),("create"===l.type||"edit"===l.type)&&r.createElement(x,{isNew:"create"===l.type,roles:s,onClose:d,onCreate:h,onUpdate:f,user:l.user}),"delete"===l.type&&r.createElement(w,{onClose:d,onDelete:b,username:l.user.name}),"reset"===l.type&&r.createElement(k,{onClose:d,onReset:g,username:l.user.name}))}const j=function(){const e=function(){const e=(0,S.Z)(),[t,n]=(0,y.tg)({isProcessing:!0}),[o,a]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[i,c]=(0,r.useState)({type:"none"});return(0,r.useEffect)((()=>{n.do((()=>Promise.all([e.getFeatureFlags().roles?e.resourceService.fetchRoles().then((e=>e.map((e=>e.name)))):Promise.resolve([]),e.userService.fetchUsers()]).then((e=>{l(e[0]),a(e[1])}))))}),[]),{attempt:t,users:o,roles:s,operation:i,onStartCreate:function(){const e={name:"",roles:[],created:new Date};c({type:"create",user:e})},onStartDelete:function(e){c({type:"delete",user:e})},onStartEdit:function(e){c({type:"edit",user:e})},onStartReset:function(e){c({type:"reset",user:e})},onClose:function(){c({type:"none"})},onDelete:function(t){return e.userService.deleteUser(t).then((()=>{const e=o.filter((e=>e.name!==t));a(e)}))},onCreate:function(t){return e.userService.createUser(t).then((e=>a([e,...o]))).then((()=>e.userService.createResetPasswordToken(t.name,"invite")))},onUpdate:function(t){return e.userService.updateUser(t).then((e=>{a([e,...o.filter((e=>e.name!==t.name))])}))},onReset:function(t){return e.userService.createResetPasswordToken(t,"password")}}}();return r.createElement(Z,e)}},7067:(e,t,n)=>{n.d(t,{Ob:()=>p,OX:()=>c,u4:()=>u,E2:()=>m});var r=n(917),o=n(7849),a=n(135);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,r.ZP)(o.kC)(["flex-shrink:0;border-bottom:1px solid ",";height:56px;margin-left:-40px;margin-right:-40px;padding-left:40px;padding-right:40px;"],(e=>e.theme.colors.primary.main));c.defaultProps={alignItems:"center",mb:4};const u=(0,r.ZP)(o.xv)(["white-space:nowrap;"]);u.defaultProps=l(l({},o.xv.defaultProps),{},{typography:"h3"});const p=(0,r.ZP)(o.kC)(["width:100%;height:100%;flex-direction:column;::after{content:' ';padding-bottom:24px;}"]);p.defaultProps={theme:a.Z,px:6},r.ZP.div(["position:absolute;width:100%;height:100%;display:flex;"]),r.ZP.div(["display:flex;flex-direction:column;width:100%;"]);const m=r.ZP.button(["color:",";cursor:pointer;display:inline-flex;font-size:14px;padding:12px 40px;position:relative;text-decoration:none;font-weight:500;&:hover{background:",";}&.active{color:",";}&.active:after{background-color:",";content:'';position:absolute;bottom:0;left:0;width:100%;height:4px;}"],(e=>e.theme.colors.text.secondary),(e=>e.active?e.theme.colors.primary.light:"rgba(255, 255, 255, .06)"),(e=>e.theme.colors.light),(e=>e.theme.colors.accent))},1347:(e,t,n)=>{n.d(t,{r:()=>p,Z:()=>v});var r=n(2784),o=n(5070),a=n(3388),s=n(7849),l=n(917);const i=["text","fontFamily","allowMultiline","onCopy","bash"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=n(3757);function p(e){var t,n;let{lines:l,bash:i=!0}=e;const c=(0,r.useRef)([]),p=null===(t=window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toLowerCase().includes("firefox");return r.createElement(b,{bg:"bgTerminal",pl:3,pt:2,pr:7,borderRadius:2,pb:p?3:2},r.createElement(f,{mr:1},l.map(((e,t)=>{const n=t===l.length-1;return r.createElement(s.xu,{pt:2,pb:n?0:2,key:t,ref:e=>c.current[t]=e},e.comment&&r.createElement(d,null,e.comment),r.createElement(s.kC,null,r.createElement(s.kC,null,i&&r.createElement(s.xu,{mr:"1"},"$"),r.createElement("div",{className:"text-to-copy"},e.text)),r.createElement(g,{pr:3},r.createElement(h,{onClick:()=>function(e){(0,o.Z)(l[e].text).then((()=>{const t=c.current[e].getElementsByClassName("icon-container")[0];t.classList.toggle("copied"),setTimeout((()=>{t.classList.toggle("copied")}),1e3)}));const t=c.current[e].getElementsByClassName("text-to-copy")[0];(0,a.Z)(t)}(t)},r.createElement(m,{className:"icon-container"},r.createElement(u.CKM,{"data-testid":"btn-copy"}),r.createElement(u.JrY,{"data-testid":"btn-check"}))))))}))))}const m=l.ZP.div([".icon-check{display:none;}.icon-copy{display:block;}&.copied{.icon-check{display:block;}.icon-copy{display:none;}}"]),d=l.ZP.div(["color:rgb(117 113 94 / 80%);"]),h=(0,l.ZP)(s.PL)(["height:28px;width:28px;border-radius:20px;min-height:auto;padding:0;margin-top:-4px;"]),f=(0,l.ZP)(s.xu)(["white-space:pre;word-break:break-all;font-size:12px;font-family:",";overflow:scroll;line-height:20px;"],(e=>{let{theme:t}=e;return t.fonts.mono}));var b=(0,l.ZP)(s.xu)({position:"relative"}),g=(0,l.ZP)(s.xu)(["position:absolute;right:0px;"]);const v=function(e){let{text:t,fontFamily:n,allowMultiline:u,onCopy:p,bash:m=!0}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);const h=n||(0,l.Fg)().fonts.mono,f=r.useRef(),[b,g]=r.useState((()=>"Copy")),v=m&&!u?{overflow:"auto",whiteSpace:"pre",wordBreak:"break-all",fontSize:"12px",fontFamily:h}:{wordBreak:"break-all",fontSize:"12px",fontFamily:h};return r.createElement(s.kC,c({bg:"bgTerminal",p:"2",alignItems:"center",justifyContent:"space-between",borderRadius:2},d),r.createElement(s.kC,{mr:"2",style:v},m&&r.createElement(s.xu,{mr:"1",style:{userSelect:"none"}},"$"),r.createElement("div",{ref:f},t)),r.createElement(s.DF,{onClick:function(){(0,o.Z)(t).then((()=>g("Copied"))),(0,a.Z)(f.current),p&&p()},style:{maxWidth:"48px",width:"100%",padding:"4px 8px",minHeight:"10px",fontSize:"10px"}},b))}}}]);