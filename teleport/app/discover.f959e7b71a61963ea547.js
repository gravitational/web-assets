"use strict";(self.webpackChunk_gravitational_teleport=self.webpackChunk_gravitational_teleport||[]).push([[23],{5070:(e,t,n)=>{function r(e){return navigator.clipboard.writeText(e).catch((e=>{window.prompt("Cannot copy to clipboard. Use ctrl/cmd + c",e)}))}n.d(t,{Z:()=>r})},3388:(e,t,n)=>{function r(e){let t,n;window.getSelection&&document.createRange&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}n.d(t,{Z:()=>r})},1271:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(917),a=n(2784),o=n(7849),i=n(8197),l=n(7038);const s=["label","labelTip","value","options","onChange","placeholder","maxMenuHeight","isClearable","isMulti","menuPosition","rule","isSearchable","isSimpleValue","autoFocus","isDisabled"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=()=>()=>({valid:!0}),d=e=>{let{text:t}=e;return a.createElement(m,null,` - ${t}`)};var m=(0,r.ZP)("span")({fontWeight:"normal",textTransform:"none"});const g=function(e){let{label:t,labelTip:n,value:r,options:m,onChange:g,placeholder:p,maxMenuHeight:I,isClearable:b,isMulti:h,menuPosition:x,rule:E=u,isSearchable:A=!1,isSimpleValue:y=!1,autoFocus:C=!1,isDisabled:M=!1}=e,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);const{valid:w,message:N}=(0,i.kQ)(E(r)),D=Boolean(!w),v=D?N:t;return a.createElement(o.xu,c({mb:"4"},f),t&&a.createElement(o.SO,{htmlFor:"select",hasError:D},v,n&&a.createElement(d,{text:n})),a.createElement(l.ZP,{inputId:"select",menuPosition:x,hasError:D,isSimpleValue:y,isSearchable:A,isClearable:b,value:r,onChange:g,options:m,maxMenuHeight:I,placeholder:p,isMulti:h,autoFocus:C,isDisabled:M}))}},4221:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(2784),a=n(8069),o=n.n(a);n(8170),n(8074),n(6110),n(997);const i=n(917).ZP.div(["overflow:hidden;border-radius:4px;flex:1;display:flex;position:relative;border:none;background:",";.ace-monokai{background:",";}.ace-monokai .ace_gutter,.ace-monokai .ace_gutter-cell{color:rgba(255,255,255,0.56);background:",";}> .ace_editor{position:absolute;top:8px;right:0px;bottom:0px;left:0px;}"],(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal)),{UndoManager:l}=o().require("ace/undomanager");class s extends r.Component{constructor(){var e,t;super(...arguments),t=()=>{const e=this.editor.session.getUndoManager().isClean();this.props.onDirty&&this.props.onDirty(!e);const t=this.editor.session.getValue();this.props.onChange&&this.props.onChange(t)},(e="onChange")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}getData(){return this.sessions.map((e=>e.getValue()))}componentDidUpdate(e){e.activeIndex!==this.props.activeIndex&&this.setActiveSession(this.props.activeIndex),this.editor.resize()}createSession(e){let{content:t,type:n,tabSize:r=2}=e;const a="json"===n?"ace/mode/json":"ace/mode/yaml";let i=new(o().EditSession)(t),s=new l;return s.markClean(),i.setUndoManager(s),i.setUseWrapMode(!1),i.setOptions({tabSize:r,useSoftTabs:!0,useWorker:!1}),i.setMode(a),i}setActiveSession(e){let t=this.sessions[e];t||(t=this.createSession({content:""})),this.editor.setSession(t),this.editor.focus()}initSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.isDirty=!1,this.sessions=e.map((e=>this.createSession(e))),this.setActiveSession(0)}componentDidMount(){const{data:e,readOnly:t,theme:n="ace/theme/monokai"}=this.props;this.editor=o().edit(this.ace_viewer),this.editor.setFadeFoldWidgets(!0),this.editor.setWrapBehavioursEnabled(!0),this.editor.setHighlightActiveLine(!1),this.editor.setShowInvisibles(!1),this.editor.renderer.setShowGutter(!1),this.editor.renderer.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!0),this.editor.on("input",this.onChange),this.editor.setReadOnly(t),this.editor.setTheme(n),this.initSessions(e),this.editor.focus()}componentWillUnmount(){this.editor.destroy(),this.editor=null,this.session=null}render(){return r.createElement(i,null,r.createElement("div",{ref:e=>this.ace_viewer=e}))}}const c=s},5914:(e,t,n)=>{n.r(t),n.d(t,{default:()=>wo});var r=n(2784),a=n(917),o=n(7849),i=n(9124),l=n(4517),s=n(6735),c=n(2545),u=n(7067),d=n(9182),m=n(7278),g=n(3298),p=n(3757),I=n(161);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){let t=0;for(const n of e)n.views?t+=E(n.views):t+=1;return t}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];for(const r of e){const e=h(h({},r),{},{index:t,parent});r.views?(e.views=A(r.views,t),t+=E(r.views)):t+=1,n.push(e)}return n}function y(e,t){for(const n of e){if(n.views){const e=y(n.views,t);if(e)return e}if(t===n.index)return n}}function C(e,t){for(const n of e){if(n.index===t)return!0;if(n.views&&C(n.views,t))return!0}return!1}function M(e){if(e.view.hide)return null;let t,n=e.currentStep===e.view.index;e.view.views&&(t=r.createElement(o.xu,{ml:2},r.createElement(j,{views:e.view.views,currentStep:e.currentStep})),n||(n=C(e.view.views,e.currentStep)));const a=e.currentStep>e.view.index;return r.createElement(v,{active:a||n},r.createElement(f,null,function(e,t){return t?r.createElement(N,null):e?r.createElement(D,null):r.createElement(w,null)}(a,n),e.view.title),t)}const f=a.ZP.div(["display:flex;align-items:center;"]),w=a.ZP.span(["height:14px;width:14px;border:1px solid #9b9b9b;border-radius:50%;margin-right:8px;display:flex;align-items:center;justify-content:center;"]),N=(0,a.ZP)(w)(["border-color:",";background:",";:before{content:'';height:8px;width:8px;border-radius:50%;border:2px solid ",";}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.primary.main)),D=(0,a.ZP)(w)(["border-color:",";background:",";:before{content:'✓';}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main)),v=(0,a.ZP)(o.xv)(["display:flex;flex-direction:column;color:",";margin-bottom:8px;"],(e=>e.active?"inherit":e.theme.colors.text.secondary));function j(e){const t=e.views.map(((t,n)=>r.createElement(M,{key:n,view:t,currentStep:e.currentStep})));return r.createElement(o.xu,{style:{marginLeft:7},mt:2},t)}const S=(0,a.ZP)(I.JL)(["min-width:var(--sidebar-width);width:var(--sidebar-width);"]),k=(0,a.ZP)(I.VY)(["padding:0 20px;"]);function T(e){let t;return e.views&&(t=r.createElement(j,{views:e.views,currentStep:e.currentStep})),r.createElement(S,null,r.createElement(I.TR,null),r.createElement(k,null,r.createElement(z,{border:"1px solid rgba(255,255,255,0.1);",borderRadius:"8px",p:3},r.createElement(o.kC,{alignItems:"center"},r.createElement(o.kC,{borderRadius:5,alignItems:"center",justifyContent:"center",bg:"secondary.main",height:"30px",width:"30px",mr:2},e.selectedResource?e.selectedResource.icon:r.createElement(p.xFH,null)),r.createElement(o.xv,{bold:!0},"Add New Resource")),r.createElement(o.xu,{mt:3},t))))}var z=(0,a.ZP)(o.xu)({backgroundColor:"rgba(255,255,255,0.02);"});const Z=a.ZP.div(["position:relative;"]),O=a.ZP.label(["cursor:pointer;display:flex;justify-content:center;padding:10px;width:","%;z-index:1;"],(e=>100/e.itemCount)),P=a.ZP.input(["display:none;"]),L=a.ZP.div(["background-color:#512fc9;border-radius:",";box-shadow:0px 2px 6px rgba(12,12,14,0.1);height:",";left:calc(","% + 8px);margin:",";position:absolute;top:0;transition:all 0.3s ease;width:calc(","% - 16px);"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"56px":"40px"),(e=>100/e.itemCount*e.activeIndex),(e=>"xlarge"===e.size?"12px 12px 12px 0":"4px 4px 4px 0"),(e=>100/e.itemCount)),U=a.ZP.nav(["align-items:center;background-color:rgba(255,255,255,0.05);border-radius:",";display:flex;height:",";justify-content:space-around;"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"80px":"47px")),Q=function(e){let{appearance:t="square",initialSelected:n=0,name:a="slide-tab",onChange:o,size:i="xlarge",tabs:l}=e;const[s,c]=(0,r.useState)(n);return(0,r.useEffect)((()=>{o(s)}),[s]),r.createElement(Z,null,r.createElement(U,{role:"tablist",appearance:t,size:i},l.map(((e,t)=>{const n="string"==typeof e,o=n?e:e.name,i=n?e:e.component;return r.createElement(O,{role:"tab",htmlFor:`${a}-${o}`,onClick:()=>c(t),itemCount:l.length,key:`${o}-${t}`},i,r.createElement(P,{type:"radio",name:a,id:`${a}-${o}`}))}))),r.createElement(L,{itemCount:l.length,activeIndex:s,appearance:t,size:i}))};var Y=n(9161),R=n(2398);function G(e){return r.createElement(B,{ml:"4",typography:"h5",key:e.title,active:e.active,onClick:e.onClick},r.createElement(p.ZPm,{as:e.Icon,mr:"2"}),e.title)}const B=(0,a.ZP)(o.xv)(["align-items:center;display:flex;padding:4px 8px;cursor:pointer;border-bottom:4px solid transparent;",""],(e=>{let{active:t,theme:n}=e;return t&&`\n    font-weight: 500;\n    border-bottom: 4px solid ${n.colors.accent};\n  `}));var V=n(1347);const W="https://get.gravitational.com/";function H(e,t,n){let r="linux-amd64";const a=n?"ent-":"";return"mac"===e?`${W}teleport-${a}${t}.pkg`:("linux32"===e&&(r="linux-386"),`${W}teleport-${a}v${t}-${r}-bin.tar.gz`)}const F=function(e){let{isEnterprise:t,version:n}=e;return r.createElement(o.xu,null,r.createElement(o.rU,{href:H("mac",n,t),target:"_blank",mr:"2"},"MacOS"),r.createElement(o.rU,{href:H("linux64",n,t),target:"_blank",mr:"2"},"Linux 64-bit"),r.createElement(o.rU,{href:H("linux32",n,t),target:"_blank"},"Linux 32-bit"))},J=`${m.Z.configDir}/app_config.yaml`,K=`teleport start --config=${J}`;function X(e,t){return`teleport configure --output=${J} --app-name=[example-app] --app-uri=http://localhost/ --roles=app --token=${e} --proxy=${t} --data-dir=${m.Z.configDir}`}const q=e=>{let{tshLoginCmd:t,host:n}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(V.Z,{mt:"2",text:t})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(V.Z,{mt:"2",text:"tctl tokens add --type=app"})),r.createElement(o.xu,{mb:"4"},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Configure your teleport agent",r.createElement(V.Z,{mt:"2",text:X("[generated-join-token]",n)})),r.createElement(o.xu,null,r.createElement(o.xv,{bold:!0,as:"span"},"Step 5")," - Start the Teleport agent with the generated configuration file",r.createElement(V.Z,{mt:"2",text:K})),r.createElement(o.xu,null,"* Note: For a self-hosted Teleport version, you may need to update DNS and obtain a TLS certificate for this application.\n            Learn more about application access ",r.createElement(o.rU,{href:"https://goteleport.com/docs/application-access/introduction/",target:"_blank"},"here"),"."))},$=e=>{let{token:t,host:n,createToken:a}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Configure your teleport agent",r.createElement(o.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(o.xv,{bold:!0,as:"span"},t.expiryText,".")),r.createElement(V.Z,{mt:"2",text:X(t.id,n)}),r.createElement(o.xu,null,r.createElement(o.ZP,{onClick:a},"Regenerate Token"))),r.createElement(o.xu,null,r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Start the Teleport agent with the configuration file",r.createElement(V.Z,{mt:"2",text:K})))},_=function(e){let{isEnterprise:t,user:n,version:a,onClose:i,isAuthTypeLocal:l,token:s,createToken:c,attempt:u}=e;const{hostname:d,port:m}=window.document.location,g=`${d}:${m||"443"}`;let p=`tsh login --proxy=${g}`;return l&&(p=`${p} --auth=local --user=${n}`),"processing"===u.status?r.createElement(o.xu,{textAlign:"center"},r.createElement(o.z$,null)):r.createElement(r.Fragment,null,r.createElement(Y.cZ,{flex:"0 0 auto"},r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," ","- Download Teleport package to your computer",r.createElement(F,{isEnterprise:t,version:a})),"failed"===u.status?r.createElement(q,{host:g,tshLoginCmd:p}):r.createElement($,{createToken:c,host:g,token:s})),r.createElement(Y.cN,null,r.createElement(o.PL,{onClick:i},"Close")))};var ee=n(8197),te=n(2030);const ne=/^[-\w/:. ]+$/,re=e=>()=>{if(!e)return{valid:!1,message:"Required"};try{new URL(e)}catch{return{valid:!1,message:"URL is invalid"}}return e.match(ne)?{valid:!0}:{valid:!1,message:"Invalid app URI"}},ae=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,oe=e=>()=>e&&0!==e.length?e.length>63?{valid:!1,message:"Must be 63 chars or less"}:e.match(ae)?{valid:!0}:{valid:!1,message:"Invalid DNS sub-domain name"}:{valid:!1,message:"Required"},ie=(e,t,n)=>{const r=encodeURIComponent(n).replace(/'/g,"%27");return`sudo bash -c "$(curl -fsSL '${m.Z.baseUrl+m.Z.api.appNodeScriptPath.replace(":token",e).replace(":name",t).replace(":uri",r)}')"`},le=function(e){const{onClose:t,attempt:n,token:a}=e,[i,l]=r.useState(""),[s,c]=r.useState(""),[u,d]=r.useState("");function m(t){t.validate()&&e.onCreate(i,s)}function g(e){if(!e.validate())return;const t=ie(a.id,i,s);d(t)}function p(e,t){"Enter"===e.key&&(u?m(t):g(t))}return r.useEffect((()=>{if(i&&s){const e=ie(a.id,i,s);d(e)}}),[a]),r.createElement(ee.ZP,null,(e=>{let{validator:d}=e;return r.createElement(r.Fragment,null,r.createElement(Y.cZ,{minHeight:"254px",flex:"0 0 auto"},r.createElement(o.kC,{alignItems:"center",flexDirection:"row"},r.createElement(te.Z,{rule:oe,label:"App Name",autoFocus:!0,value:i,placeholder:"jenkins",width:"320px",mr:"3",onKeyPress:e=>p(e,d),onChange:e=>l(e.target.value.toLowerCase())}),r.createElement(te.Z,{rule:re,label:"INTERNAL APPLICATION URL",width:"100%",value:s,placeholder:"https://localhost:4000",onKeyPress:e=>p(e,d),onChange:e=>c(e.target.value)})),!u&&r.createElement(o.xv,{mb:"3"},"Teleport can automatically set up application access. Provide the name and URL of your application to generate our auto-installer script.",r.createElement(o.xv,{mt:"2"},"The script will install the Teleport agent to provide secure access to your application.")),"failed"===n.status&&r.createElement(o.bZ,{kind:"danger",children:n.statusText}),u&&r.createElement(r.Fragment,null,r.createElement(o.xv,{mb:"3"},"Use the script below to add an application to your cluster."," ","The script will be valid for",r.createElement(o.xv,{bold:!0,as:"span"},` ${a.expiryText}`,"."),function(){const e=`https://${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}.${window.location.host}`;return r.createElement(o.xv,null,"This app will be available on ","  ",r.createElement(o.rU,{target:"_blank",href:e},`${e}`))}(i)),r.createElement(V.Z,{text:u,mb:2}))),r.createElement(Y.cN,null,!u&&r.createElement(o.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>g(d)},"Generate Script"),u&&r.createElement(o.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>m(d)},"Regenerate"),r.createElement(o.PL,{disabled:"processing"===n.status,onClick:t},"Close")))}))};var se=n(4696);function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function ue(e){let{user:t,onClose:n,createToken:a,isEnterprise:i,version:l,attempt:s,automatic:c,setAutomatic:u,isAuthTypeLocal:d,token:m}=e;return r.createElement(Y.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%",minHeight:"330px"}),disableEscapeKeyDown:!1,onClose:n,open:!0},r.createElement(o.kC,{flex:"1",flexDirection:"column"},r.createElement(o.kC,{alignItems:"center",justifyContent:"space-between",mb:"4"},r.createElement(Y.$N,{mr:"auto"},"Add Application"),i&&r.createElement(r.Fragment,null,r.createElement(G,{Icon:p.$8D,title:"Automatically",active:c,onClick:()=>u(!0)}),r.createElement(G,{Icon:p.Oz3,title:"Manually",active:!c,onClick:()=>u(!1)}))),c&&r.createElement(le,{onClose:n,onCreate:a,attempt:s,token:m}),!c&&r.createElement(_,{isAuthTypeLocal:d,isEnterprise:i,onClose:n,user:t,version:l,createToken:a,attempt:s,token:m})))}const de=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)(""),a=e.storeUser.state.username,o=e.storeUser.state.cluster.authVersion,i=!e.storeUser.isSso(),l=e.isEnterprise,[s,c]=(0,r.useState)(l),[u,d]=(0,r.useState)();function m(){return n((()=>e.joinTokenService.fetchJoinToken(["App"]).then(d)))}return(0,r.useEffect)((()=>{m()}),[]),{user:a,version:o,createToken:m,attempt:t,automatic:s,setAutomatic:c,isAuthTypeLocal:i,isEnterprise:l,token:u}}((0,R.Z)());return r.createElement(ue,ce({},t,e))};var me=n(7038),ge=n(133);function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}function Ie(e){let{createJoinToken:t,attempt:n,token:a,authType:i,username:l,onClose:s,isEnterprise:c,version:u}=e;const{hostname:d,port:m}=window.document.location,g=`${d}:${m||"443"}`,[p]=(0,r.useState)((()=>Ee.map((e=>({value:e,label:e.title}))))),[I,b]=(0,r.useState)(p[0]),h="sso"===i?`tsh login --proxy=${g}`:`tsh login --proxy=${g} --auth=local --user=${l}`;return r.createElement(Y.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%"}),disableEscapeKeyDown:!1,onClose:s,open:!0},r.createElement(Y.fK,{mb:4},r.createElement(Y.$N,null,"Add Database")),r.createElement(Y.cZ,null,"processing"===n.status&&r.createElement(o.xu,{textAlign:"center"},r.createElement(o.z$,null)),"failed"===n.status&&r.createElement(he,{loginCommand:h,addCommand:xe(I.value.type,I.value.protocol,g,""),selectedDb:I,onDbChange:e=>b(e),dbOptions:p,isEnterprise:c,version:u}),"success"===n.status&&r.createElement(be,{selectedDb:I,onDbChange:e=>b(e),dbOptions:p,command:xe(I.value.type,I.value.protocol,g,a.id),expiry:a.expiryText,onRegenerateToken:t,isEnterprise:c,version:u})),"processing"!==n.status&&r.createElement(Y.cN,null,r.createElement(o.PL,{onClick:s},"Close")))}const be=e=>{let{selectedDb:t,onDbChange:n,dbOptions:a,expiry:i,command:l,onRegenerateToken:s,isEnterprise:c,version:u}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:c,version:u})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Select the database type and protocol to use",r.createElement(o.xu,{mt:2},r.createElement(me.ZP,{value:t,onChange:n,options:a,isSearchable:!0,maxMenuHeight:220}))),r.createElement(o.xu,{mb:2},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate the Teleport config file",r.createElement(o.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(o.xv,{bold:!0,as:"span"},i,".")),r.createElement(V.Z,{mt:"2",text:l}),r.createElement(o.ZP,{onClick:s},"Regenerate Token")),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Start the Teleport agent with the following parameters",r.createElement(V.Z,{mt:"2",text:"teleport start"})),r.createElement(o.xu,null,"Learn more about database access in our ",r.createElement(o.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},he=e=>{let{loginCommand:t,addCommand:n,selectedDb:a,dbOptions:i,onDbChange:l,isEnterprise:s,version:c}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:s,version:c})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(V.Z,{mt:"2",text:t})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(V.Z,{mt:"2",text:"tctl tokens add --type=db"})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Select the database type and protocol to use",r.createElement(o.xu,{mt:2},r.createElement(me.ZP,{value:a,onChange:l,options:i,isSearchable:!0,maxMenuHeight:220}))),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 5")," - Generate the Teleport config file",r.createElement(V.Z,{mt:"2",text:n})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 6")," - Start the Teleport agent with the following parameters",r.createElement(V.Z,{mt:"2",text:"teleport start"})),r.createElement(o.xu,null,"Learn more about database access in our ",r.createElement(o.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},xe=(e,t,n,r)=>{let a=`teleport db configure create --token=${r||"[generated-join-token]"} --proxy=${n} --name=[db-name] --protocol=${t} --uri=[uri] -o file`;switch("sqlserver"===t&&(a=`${a} --ad-keytab-file=/path/to/teleport.keytab --ad-domain=EXAMPLE.COM --ad-spn=MSSQLSvc/sqlserver.example.com:1433`),e){case"self-hosted":return a;case"rds":return`${a} --aws-region=[region]`;case"redshift":return`${a} --aws-region=[region] --aws-redshift-cluster-id=[cluster-id]`;case"gcp":return`${a} --ca-cert-file=[instance-ca-filepath] --gcp-project-id=[project-id] --gcp-instance-id=[instance-id]`;default:return"unknown type and protocol"}},Ee=[(0,ge.D)("rds","postgres"),(0,ge.D)("rds","mysql"),(0,ge.D)("rds","sqlserver"),(0,ge.D)("redshift","postgres"),(0,ge.D)("gcp","postgres"),(0,ge.D)("gcp","mysql"),(0,ge.D)("gcp","sqlserver"),(0,ge.D)("self-hosted","postgres"),(0,ge.D)("self-hosted","mysql"),(0,ge.D)("self-hosted","mongodb"),(0,ge.D)("self-hosted","sqlserver"),(0,ge.D)("self-hosted","redis")],Ae=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)("processing"),[a,o]=(0,r.useState)();function i(){return n((()=>e.joinTokenService.fetchJoinToken(["Db"]).then(o)))}return(0,r.useEffect)((()=>{i()}),[]),{createJoinToken:i,attempt:t,token:a}}((0,R.Z)());return r.createElement(Ie,pe({},t,e))};var ye=n(7933),Ce=n(8227);const Me=e=>{let{onProceed:t=null,proceedHref:n="",disableProceed:a=!1,lastStep:i=!1}=e;return r.createElement(o.xu,{mt:4},n&&r.createElement(o.DF,{size:"medium",as:"a",href:n,target:"_blank",width:"224px",mr:3,rel:"noreferrer"},"View Documentation"),t&&r.createElement(o.DF,{width:"165px",onClick:t,mr:3,disabled:a},i?"Finish":"Next"),r.createElement(Ce.PL,{as:ye.OL,to:m.Z.routes.root,mt:3,width:"165px"},"Exit"))},fe=(0,a.ZP)(o.oD)(["color:",";font-weight:normal;padding-left:0;font-size:inherit;min-height:auto;"],(e=>{let{theme:t}=e;return t.colors.link})),we=e=>{let{children:t}=e;return r.createElement(o.xv,{my:1,fontSize:"18px",bold:!0},t)},Ne=e=>{let{children:t}=e;return r.createElement(o.xv,{mb:5},t)},De=e=>{let{children:t,onPrev:n}=e;return r.createElement(o.kC,{alignItems:"center"},r.createElement(o.Ei,{size:1,title:"Go Back",onClick:n,ml:-2},r.createElement(p.xhZ,{fontSize:"24px"})),r.createElement(o.xv,{my:1,fontSize:"18px",bold:!0},t))};var ve=n(1392);const je=n.p+"assets/img/img-55ebd1.png";function Se(e){let t;return e.agentMeta&&e.agentMeta.resourceName&&(t=`Resource [${e.agentMeta.resourceName}] has been successfully added to\n        this Teleport Cluster.`),r.createElement(ke,{width:"600px",flexDirection:"column",alignItems:"center"},r.createElement(o.Ee,{width:"120px",height:"120px",src:je}),r.createElement(o.xv,{mt:3,mb:2,typography:"h4",bold:!0},"Resource Successfully Added"),r.createElement(o.xv,{mb:3},t," You can start accessing this resource right away or add another resource."),r.createElement(o.kC,null,r.createElement(o.DF,{width:"270px",size:"large",onClick:()=>ve.Z.push(m.Z.routes.root,!0),mr:3},"Browse Existing Resources"),r.createElement(o.PL,{width:"270px",size:"large",onClick:()=>ve.Z.reload()},"Add Another Resource")))}var ke=(0,a.ZP)(o.kC)(["margin:0 auto;text-align:center;"]);const Te=a.ZP.mark(["padding:2px 5px;border-radius:6px;background-color:rgb(255 255 255 / 17%);color:inherit;"]);var ze,Ze=n(4221);function Oe(e){switch(e){case ze.Application:return"App";case ze.Database:return"Db";case ze.Desktop:return"WindowsDesktop";case ze.Kubernetes:return"Kube";case ze.Server:return"Node"}}function Pe(e){let t;return e.stepNumber&&(t=`Step ${e.stepNumber}: `),r.createElement(Le,null,r.createElement(o.xv,{bold:!0},t,e.title),r.createElement(V.Z,{text:e.text,mt:2,mb:1,bash:e.isBash}))}!function(e){e[e.Application=0]="Application",e[e.Database=1]="Database",e[e.Desktop=2]="Desktop",e[e.Kubernetes=3]="Kubernetes",e[e.Server=4]="Server"}(ze||(ze={}));const Le=a.ZP.div(["background:rgba(255,255,255,0.05);border-radius:8px;padding:16px;margin-bottom:12px;"]),Ue=(0,a.ZP)(o.xv)(["display:flex;align-items:center;.icon{margin-right:8px;}"]),Qe=(0,a.ZP)(o.xu)(["width:100%;margin-top:32px;border-radius:8px;background-color:",";padding:24px;"],(e=>e.theme.colors.primary.light)),Ye="data:image/png;base64,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";function Re(e){return r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5"},"You are not able to ",e.action,". There are two possible reasons for this:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Your Teleport Enterprise license does not include ",e.productName,". Reach out to your Teleport administrator to enable ",e.productName,"."),r.createElement("li",null,"You don’t have sufficient permissions to ",e.action,". Reach out to your Teleport administrator to request additional permissions.")))}function Ge(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Applications",productName:"Application Access"})),r.createElement(r.Fragment,null,t,r.createElement(Me,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Be(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Databases",productName:"Database Access"})),r.createElement(r.Fragment,null,t,r.createElement(Me,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Ve(e){let t=r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5",bold:!0,mb:"4px"},r.createElement(p.cEj,{mr:"8px",fontSize:"14px"}),"Note"),r.createElement(o.xv,null,"Teleport Desktop Access currently only supports Windows Desktops managed by Active Directory (AD)."),r.createElement(o.xv,null,"We are working on adding support for non-AD Windows Desktops."));return e.disabled&&(t=r.createElement(Re,{action:"add new Desktops",productName:"Desktop Access"})),r.createElement(r.Fragment,null,t,r.createElement(Me,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function We(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Kubernetes resources",productName:"Kubernetes Access"})),r.createElement(r.Fragment,null,t,r.createElement(Me,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function He(e){let t=r.createElement(Fe,null);return e.disabled&&(t=r.createElement(Re,{action:"add new Servers",productName:"Server Access"})),r.createElement(r.Fragment,null,t,r.createElement(Me,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Fe(){return r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5"},"Teleport officially supports the following operating systems:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Ubuntu 14.04+"),r.createElement("li",null,"Debian 8+"),r.createElement("li",null,"RHEL/CentOS 7+"),r.createElement("li",null,"Amazon Linux 2"),r.createElement("li",null,"macOS (Intel)")),r.createElement(o.xv,null,"For a more comprehensive list, visit"," ",r.createElement(o.rU,{href:"https://goteleport.com/download",target:"_blank"},"https://goteleport.com/download"),"."))}function Je(e){const t=(0,R.Z)(),n=t.storeUser.state,{acl:a}=n,[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),u=[{name:"server",kind:ze.Server,component:r.createElement(Ke,{iconSrc:Ye,title:"Server"}),permissionsNeeded:[a.nodes.list]},{name:"database",kind:ze.Database,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUVSURBVHgB7VdNbBtFFP5md+3EsR3nr6lJ89f0B4JEq7SoDQgqKK2oSqECoaoIVRwAwaUCqSeEhMSlcOSAxA0OnJAoolQNIgWFnxZKq6iEgpLWbVCTkp86dhxnvd6d2Z1h1nYaJ603ruHAoU9+mrW9+963877vzQxw1/5HRnBnRgquSleKvrsmpPMiFwUvK2i592nPdX/a9MjDew9cPRfYRoT/IZuSoEKUJuH+L0RcUZxJLWyNcDLft/7l/u/feO2lCfmcsxKYckCoAwMDbWP9vUdHfqp6yjJILc3KyI73Q9URx2jZnPoi+vSZdw/t3/9XAUxFIJSRkZEtwyc3fD3UrzS5yRecUZRl3Xvnxpp3nd5zcN++S8iX6dYkK8TwOfENxy6dUZoUyYJiJ2UWcrgv0u6b6fnSjVXqHi8QJBaL9abjSjtZSK4UAGj5sVzT41Ubj/Wd6kEFIKCbzN+xqZDYBSHfRdUWvdzZaN9qwGC0DiXK7wnCcigJ32NixwuLiRXpmntdALSS9RycA69NIZnJlLzHMwynVEmm59Gz14d1W1V897Gs8c/yd8lzzcmPnOfHYiPy1aL3UXRsM4BgBlPJlFeaFUAQLTd9FmOobmB49i0fdicUTIwQXL0AzFwD0kkBS+YKr3bgDziI3k/R+qAOS9Hxx7caEmMErd3ekvYEMT15fbattTUPSAhkLYq4lURgvYrNG1VZFgWMOaC2DebYyGQpdCOL62kLzHZgWvXySX/u+XQiaVQEoj4UUjWlQBuxOBgSjCPr4CZiLgA52q47XLotm+fSju3GaGtu4KXyeBIzGIlUqTSA9MzyrivyH+G9NBAiQHUVETQiEKwNoRIQpg0E5IxO/Kng9Gc8D2ZZ3qU4Fr8wQ8X07yE0NPjhr2OIZ9Il83iWw0cISc1nsGlXPeKjPnzzIUPGDKO+w0JtC4WvVgaogSwFgWkqmLkiZ23Ch8TlGhm4Cmu3MSi1WUzPznml8QbBGM31Rcps1LcTHHpPQ2rShyvnQxj9jWN2Wiojy0FNIXuGQLiZo7XdQe8+E/7oDVzsVzF1jaCtW1QOYiZxI93Z1ZW7doloS0LOiiSivRo6d/hzpeAiT9CsZcGkDPOGiVnDAJuW6qCL6tB1U1QEoqamhijKrbTJmBbSUoq3U4cjG8JywrrqiIa0ki3Tk5gN4VWaalbflpClTNy8MS9TqmsIWo2oCtWFUQkI07ZIuEnB+JCCwT4hG05RggWJlgCXV0cQq1ZrCEVtJHS9snIo3JFrh44te+oRO6fhq/cl20NBNHZZiKxh8EcEHBla8haUEqTjBKmxEKaGQuDz1Vi73UZojYUbqX+hjtxyCXftsNG5heDV7T7Mjldh+BeO2IBAJiWQ+DuvjqogUNfC0bzBxgOvUIQ6Exg6BVwbVtG+llcOwrHYzVfIqcOkyPjT6HiMYONuDarcaDBJRMbsHEF10xKGaZKUbiA5Zcu1w91C5Hc/QigVlUMcOXL40ufHT47K666FH22Z1J2Zucxt1w7iqoPzpW8uuBh788Xnf0AJBnkSc3Bw0Lx8OXbA4c744gLmLZOl6oDbSKZGY8PPyKuSW+OVNrr8yZ2PXjh7/vxOw8h+IsTC9mXlBYxLMQl/+qPhyR+3v3P49YsosdN27U4OP+qJEydaIqvbnggEA4/LQ886m/N7bS4aJV8EpSxJGRs3TeuCZZrnfj1z9vgHR9+O4z86/Cw3pciLj4GuVXQMvGsL9g91A5r2QZnbJgAAAABJRU5ErkJggg==",title:"Database"}),permissionsNeeded:[a.dbServers.read,a.dbServers.list]},{name:"kubernetes",kind:ze.Kubernetes,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,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",title:"Kubernetes"}),permissionsNeeded:[a.kubeServers.read,a.kubeServers.list]},{name:"application",kind:ze.Application,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,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",title:"Application"}),permissionsNeeded:[a.appServers.read,a.appServers.list]},{name:"desktop",kind:ze.Desktop,component:r.createElement(Ke,{iconSrc:Ye,title:"Desktop"}),permissionsNeeded:[a.desktops.read,a.desktops.list]}],d=u.findIndex((t=>t.kind===e.selectedResourceKind)),m=Math.max(0,d),g=function(e,t){return[e.tokens.create,...t.permissionsNeeded].some((e=>!e))}(a,u[m]);return r.createElement(o.xu,null,r.createElement(we,null,"Select Resource Type"),r.createElement(Ne,null,"Users are able to add and access many different types of resources through Teleport. ",r.createElement("br",null),"Start by selecting the type of resource you want to add."),r.createElement(Q,{initialSelected:m,tabs:u,onChange:t=>e.onSelect(u[t].kind)}),e.selectedResourceKind===ze.Database&&r.createElement(Be,{disabled:g,onProceed:()=>c(!0)}),e.selectedResourceKind===ze.Application&&r.createElement(Ge,{disabled:g,onProceed:()=>l(!0)}),e.selectedResourceKind===ze.Desktop&&r.createElement(Ve,{disabled:g,onProceed:()=>e.onNext()}),e.selectedResourceKind===ze.Kubernetes&&r.createElement(We,{disabled:g,onProceed:()=>e.onNext()}),e.selectedResourceKind===ze.Server&&r.createElement(He,{disabled:g,onProceed:()=>e.onNext()}),i&&r.createElement(de,{onClose:()=>l(!1)}),s&&r.createElement(Ae,{isEnterprise:t.isEnterprise,username:n.username,version:n.cluster.authVersion,authType:n.authType,onClose:()=>c(!1)}))}a.ZP.div(["background:rgba(255,255,255,0.05);border:",";border-radius:8px;box-sizing:border-box;cursor:pointer;height:72px;padding:12px;width:242px;&:hover{border:2px solid rgba(255,255,255,0.1);}"],(e=>e.selected?"2px solid rgba(255, 255, 255, 0.1);":"2px solid rgba(255, 255, 255, 0)")),a.ZP.div(["align-items:center;background-color:#512fc9;border-radius:33px;box-sizing:border-box;font-size:10px;height:15px;line-height:11px;padding:2px 10px;max-width:57px;"]);const Ke=e=>{let{iconSrc:t,title:n}=e;return r.createElement(Xe,null,r.createElement(o.Ee,{src:t,width:"32px",mr:2}),r.createElement(o.xv,{bold:!0,typography:"h5"},n))};var Xe=(0,a.ZP)(o.kC)(["align-items:center;"]),qe=n(7424);function $e(e){const t=(0,R.Z)();return r.createElement(qe.z,{navItems:t.storeNav.getTopMenuItems(),logout:e.logout,username:t.storeUser.getUsername()})}var _e=n(4852),et=n(2944),tt=n(3107),nt=n(9484),rt=n(6544),at=n(4195);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){let{attempt:t,joinToken:n,nextStep:a,pollState:i,regenerateScriptAndRepoll:l,countdownTime:s}=e;return r.createElement(o.xu,null,r.createElement(we,null,"Configure Resource"),r.createElement(Ne,null,"Install and configure the Teleport SSH Service.",r.createElement("br",null),"Run the following command on the server you want to add."),r.createElement(ct,{p:3,borderRadius:3,pollState:"failed"===t.status?"error":i,height:"processing"===t.status?"144px":"auto"},r.createElement(o.xv,{bold:!0},"Command"),"processing"===t.status&&r.createElement(o.xu,{textAlign:"center",height:"108px"},r.createElement(o.z$,null)),"failed"===t.status&&r.createElement(r.Fragment,null,r.createElement(Ue,{mt:2,mb:3},r.createElement(p.v3j,{ml:1,color:"danger"}),"Encountered Error: ",t.statusText),r.createElement(fe,{ml:2,onClick:l},"Refetch a command")),"success"===t.status&&r.createElement(r.Fragment,null,r.createElement(V.Z,{text:(c=n.id,`sudo bash -c "$(curl -fsSL ${m.Z.getNodeScriptUrl(c)})"`),mt:2,mb:1}),"polling"===i&&r.createElement(dt,null,r.createElement(p.r6F,{fontSize:4}),`Waiting for Teleport SSH Service   |   ${function(e){let{minutes:t,seconds:n}=e;const r=String(n).padStart(2,"0");let a="minute";return!t&&n>=0&&(a="seconds"),t&&(a="minutes"),`${String(t).padStart(2,"0")}:${r} ${a}`}(s)}`),"success"===i&&r.createElement(Ue,null,r.createElement(p.yGk,{ml:1,color:"success"}),"The server successfully joined this Teleport cluster"),"error"===i&&r.createElement(ut,{regenerateScriptAndRepoll:l}))),r.createElement(Me,{onProceed:a,disableProceed:"error"===i||"polling"===i||"processing"===t.status||"failed"===t.status}));var c}const ct=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border:2px solid ",";"],(e=>{switch(e.pollState){case"error":return e.theme.colors.danger;case"success":return e.theme.colors.success;default:return"#2F3659"}})),ut=e=>{let{regenerateScriptAndRepoll:t}=e;return r.createElement(o.xu,null,r.createElement(Ue,null,r.createElement(p.v3j,{ml:1,color:"danger"}),"We could not detect the server you were trying to add"," ",r.createElement(fe,{ml:1,onClick:t},"Generate a new command")),r.createElement(o.xv,{bold:!0,mt:4},"Possible reasons"),r.createElement(mt,null,r.createElement("li",null,"The command was not run on the server you were trying to add"),r.createElement("li",null,"The Teleport SSH Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"journalctl status teleport"))))};var dt=(0,a.ZP)(Ue)(["white-space:pre;"]),mt=(0,a.ZP)("ul")(["margin-top:6px;margin-bottom:0;"]),gt=n(347),pt=n(135);const It=["isMulti","isClearable","isDisabled","autoFocus"];function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const At={multiValue:(e,t)=>t.data.isFixed?xt(xt({},e),{},{backgroundColor:"gray"}):e,multiValueLabel:(e,t)=>t.data.isFixed?xt(xt({},e),{},{color:pt.Z.colors.text.onDark,paddingRight:6}):t.isDisabled?xt(xt({},e),{},{paddingRight:6}):xt(xt({},e),{},{color:pt.Z.colors.text.onLight}),multiValueRemove:(e,t)=>t.data.isFixed||t.isDisabled?xt(xt({},e),{},{display:"none"}):xt(xt({},e),{},{cursor:"pointer",color:pt.Z.colors.text.onLight}),menuList:e=>xt(xt({},e),{},{color:pt.Z.colors.text.onLight})},yt=e=>{let{isMulti:t=!0,isClearable:n=!0,isDisabled:a=!1,autoFocus:o=!1}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,It);return r.createElement(gt.ZP,bt({className:"react-select",components:{DropdownIndicator:null},styles:At},i,{isMulti:t,isClearable:n,isDisabled:a,autoFocus:o}))};function Ct(e){let{accessKind:t,traitKind:n,traitDesc:a}=e;switch(t){case"ssoUserAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(ft,null,"You don’t have any ",n," ",a," defined.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the required ",n," ",a,"."),r.createElement(Mt,{traitKind:n,userAccessReadOnly:!0}));case"noAccessAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(ft,null,"You don’t have ",n," access.",r.createElement("br",null),"Please ask your Teleport administrator to update your role:"),r.createElement(Mt,{traitKind:n}));case"noAccessButHasTraits":return r.createElement(r.Fragment,null,r.createElement(ft,null,"You don't have permission to add new ",n," ",a,".",r.createElement("br",null),"If you don't see the ",n," ",a," that you require, please ask your Teleport administrator to update your role:"),r.createElement(Mt,{traitKind:n}));case"ssoUserButHasTraits":return r.createElement(r.Fragment,null,r.createElement(ft,null,"SSO users are not able to add new ",n," ",a,".",r.createElement("br",null),"If you don't see the ",n," ",a," that you require, please ask your Teleport administrator to update your role:"),r.createElement(Mt,{traitKind:n,userAccessReadOnly:!0}))}}function Mt(e){let{traitKind:t,userAccessReadOnly:n}=e;switch(t){case"Kubernetes":return n?r.createElement(o.kC,{minHeight:"215px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    kubernetes_groups:\n    # Define Kubernetes groups for this role.\n    - kubeGroup1\n    - kubeGroup2\n    kubernetes_users:\n    # Define Kubernetes users for this role.\n    - kubeUser1\n    - kubeUser2\n"})):r.createElement(o.kC,{minHeight:"370px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    # Define Kubernetes groups for this role.\n    kubernetes_groups:\n    - '{{internal.kubernetes_groups}}'\n    - kubeGroup1\n    - kubeGroup2\n    # Define Kubernetes users for this role.\n    kubernetes_users:\n    - '{{internal.kubernetes_users}}'\n    - kubeUser1\n    - kubeUser2\n    rules:\n    # Rule that allows users to define their own Kubernetes users and groups.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"OS":return n?r.createElement(o.kC,{minHeight:"150px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - osUser1\n    - osUser2\n"})):r.createElement(o.kC,{minHeight:"245px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - '{{internal.logins}}'\n    - osUser1\n    - osUser2\n    rules:\n    # Rule that allows users to define their own logins\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"Database":return n?r.createElement(o.kC,{minHeight:"210px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - dbUser1\n    - '*'\n"})):r.createElement(o.kC,{minHeight:"340px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - '{{internal.db_names}}'\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - '{{internal.db_users}}'\n    - dbUser1\n    - '*'\n    rules:\n    # Rule that allows users to define their own Database names and users.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"ConnDiag":return r.createElement(o.kC,{minHeight:"190px",mt:3},r.createElement(wt,{content:"kind: role\nspec:\n  allow:\n    rules:\n    - resources:\n      - connection_diagnostic\n      verbs:\n      - create\n      - read\n      - update\n"}))}}const ft=e=>{let{children:t}=e;return r.createElement(o.xv,{mt:4,width:"100px"},t)},wt=e=>{let{content:t}=e;return r.createElement(Ze.Z,{readOnly:!0,data:[{content:t,type:"yaml"}]})};function Nt(e){let{attempt:t,fetchUserTraits:n,canEditUser:a,isSsoUser:i,hasTraits:l,traitKind:s,traitDescription:c,headerSubtitle:u,onProceed:d,children:m,infoContent:g}=e;const I=!i&&a;let b;switch(t.status){case"failed":b=r.createElement(r.Fragment,null,r.createElement(o.xv,{my:3},r.createElement(p.v3j,{ml:1,mr:2,color:"danger"}),"Encountered Error: ",t.statusText),r.createElement(fe,{ml:1,onClick:n},"Retry"));break;case"processing":b=r.createElement(o.xu,{mt:4,textAlign:"center",height:"70px",width:"300px"},r.createElement(o.z$,{delay:"none"}));break;case"success":b=i&&!l?r.createElement(Ct,{accessKind:"ssoUserAndNoTraits",traitKind:s,traitDesc:c}):I||l?r.createElement(r.Fragment,null,r.createElement(Dt,null,m),!i&&!a&&r.createElement(Ct,{accessKind:"noAccessButHasTraits",traitKind:s,traitDesc:c}),i&&r.createElement(Ct,{accessKind:"ssoUserButHasTraits",traitKind:s,traitDesc:c})):r.createElement(Ct,{accessKind:"noAccessAndNoTraits",traitKind:s,traitDesc:c})}return r.createElement(o.xu,{maxWidth:"700px"},r.createElement(we,null,"Set Up Access"),r.createElement(Ne,null,u),g,r.createElement(o.xu,{mb:3},b),r.createElement(Me,{onProceed:d,disableProceed:"failed"===t.status||"processing"===t.status||!l}))}const Dt=(0,a.ZP)(o.xu)(["max-width:700px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var vt=n(3228);function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){const t=(0,R.Z)(),[n,a]=(0,r.useState)(),{attempt:o,run:i,setAttempt:l,handleError:s}=(0,se.Z)("processing"),c="sso"===t.storeUser.state.authType,u=t.storeUser.getUserAccess().edit,d=zt(n);let m=e.agentMeta,g=zt();switch(e.selectedResourceKind){case ze.Kubernetes:const t=m.kube;g.kubeUsers=(0,vt.ES)(t.users,d.kubeUsers),g.kubeGroups=(0,vt.ES)(t.groups,d.kubeGroups);break;case ze.Server:const n=m.node;g.logins=(0,vt.ES)(n.sshLogins,d.logins);break;case ze.Database:const r=m.db;g.databaseUsers=(0,vt.ES)(r.users,d.databaseUsers),g.databaseNames=(0,vt.ES)(r.names,d.databaseNames);break;default:throw new Error(`useUserTraits.ts:statiTraits: resource kind ${e.selectedResourceKind} is not handled`)}async function p(r){if(!c&&u){!function(t){let n=e.agentMeta;switch(e.selectedResourceKind){case ze.Kubernetes:const r=n.kube;e.updateAgentMeta(St(St({},n),{},{kube:St(St({},r),{},{users:[...g.kubeUsers,...t.kubeUsers],groups:[...g.kubeGroups,...t.kubeGroups]})}));break;case ze.Server:const a=n.node;e.updateAgentMeta(St(St({},n),{},{node:St(St({},a),{},{sshLogins:[...g.logins,...t.logins]})}));break;case ze.Database:const o=n.db;e.updateAgentMeta(St(St({},n),{},{db:St(St({},o),{},{users:[...g.databaseUsers,...t.databaseUsers],names:[...g.databaseNames,...t.databaseNames]})}));break;default:throw new Error(`useUserTraits.ts:updateResourceMetaDynamicTraits: resource kind ${e.selectedResourceKind} is not handled`)}}(r),l({status:"processing"});try{await t.userService.updateUser(St(St({},n),{},{traits:St(St({},n.traits),r)})),await t.userService.applyUserTraits(),e.nextStep()}catch(e){s(e)}}else e.nextStep()}return(0,r.useEffect)((function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(a)))}),[t.storeUser,t.userService,i]),{attempt:o,onProceed:function(t){switch(e.selectedResourceKind){case ze.Kubernetes:const n=new Set;t.kubeUsers.forEach((e=>{g.kubeUsers.includes(e.value)||n.add(e.value)}));const r=new Set;t.kubeGroups.forEach((e=>{g.kubeGroups.includes(e.value)||r.add(e.value)})),p({kubeUsers:[...n],kubeGroups:[...r]});break;case ze.Server:const a=new Set;t.logins.forEach((e=>{g.logins.includes(e.value)||a.add(e.value)})),p({logins:[...a]});break;case ze.Database:const o=new Set;t.databaseUsers.forEach((e=>{g.databaseUsers.includes(e.value)||o.add(e.value)}));const i=new Set;t.databaseNames.forEach((e=>{g.databaseNames.includes(e.value)||i.add(e.value)})),p({databaseUsers:[...o],databaseNames:[...i]});break;default:throw new Error(`useUserTrait.ts:onProceed: resource kind ${e.selectedResourceKind} is not handled`)}},fetchUserTraits:function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(a)))},isSsoUser:c,canEditUser:u,initSelectedOptions:function(e){return Zt({trait:e,staticTraits:g,dynamicTraits:d})},getFixedOptions:function(e){return Zt({trait:e,staticTraits:g})},getSelectableOptions:e=>Zt({trait:e,dynamicTraits:d}),dynamicTraits:d,staticTraits:g}}function zt(e){return{logins:(null==e?void 0:e.traits.logins)||[],databaseUsers:(null==e?void 0:e.traits.databaseUsers)||[],databaseNames:(null==e?void 0:e.traits.databaseNames)||[],kubeUsers:(null==e?void 0:e.traits.kubeUsers)||[],kubeGroups:(null==e?void 0:e.traits.kubeGroups)||[],windowsLogins:(null==e?void 0:e.traits.windowsLogins)||[],awsRoleArns:(null==e?void 0:e.traits.awsRoleArns)||[]}}function Zt(e){let{trait:t,staticTraits:n,dynamicTraits:r}=e,a=[];n&&(a=n[t].map((e=>({value:e,label:e,isFixed:!0}))));let o=[];return r&&(o=r[t].map((e=>({value:e,label:e,isFixed:!1})))),[...a,...o]}const Ot=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function Pt(){return Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}function Lt(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:a,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ot),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&d(n("logins"))}),[e.attempt.status,n]);const m=u.length>0,g=!e.isSsoUser&&e.canEditUser;return r.createElement(Nt,Pt({},l,{headerSubtitle:"Select the OS users you will use to connect to server.",traitKind:"OS",traitDescription:"users",hasTraits:m,onProceed:function(){t({logins:u})}}),r.createElement(o.xu,{mb:2},"OS Users",r.createElement(yt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:c,onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":d([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing OS users and press enter",value:u,isDisabled:!g,onChange:(e,t)=>{"clear"===t.action?d(a("logins")):d(e||[])},options:i("logins")})))}const Ut=e=>{const t=e.filter((e=>"root"!==e)).sort();return t.length===e.length?e:["root",...t]};function Qt(e){let{attempt:t,startSshSession:n,logins:a,runConnectionDiagnostic:i,diagnosis:l,nextStep:s,prevStep:c,canTestConnection:u}=e;const[d]=(0,r.useState)((()=>a.map((e=>({value:e,label:e}))))),[m,g]=(0,r.useState)(d[0]);let I;"processing"===t.status?I=r.createElement(Ue,null,r.createElement(p.r6F,{fontSize:4}),"Testing in-progress"):"failed"===t.status||l&&!l.success?I=r.createElement(Ue,null,r.createElement(p.v3j,{ml:1,color:"danger"}),"Testing failed"):"success"===t.status&&null!=l&&l.success&&(I=r.createElement(Ue,null,r.createElement(p.yGk,{ml:1,color:"success"}),"Testing complete"));const b=!!l||"failed"===t.status;return r.createElement(o.xu,null,r.createElement(De,{onPrev:c},"Test Connection"),r.createElement(Ne,null,"Optionally verify that you can successfully connect to the server you just added."),r.createElement(Yt,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Pick the OS user to test"),r.createElement(o.xu,{width:"320px"},r.createElement(o.SO,null,"Select Login"),r.createElement(me.ZP,{value:m,options:d,onChange:e=>g(e),isDisabled:"processing"===t.status}))),r.createElement(Yt,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Verify that the server is accessible"),r.createElement(o.kC,{alignItems:"center",mt:3},u?r.createElement(r.Fragment,null,r.createElement(o.PL,{width:"200px",onClick:()=>i(m.value),disabled:"processing"===t.status},l?"Restart Test":"Test Connection"),r.createElement(o.xu,{ml:4},I)):r.createElement(o.xu,null,r.createElement(o.xv,null,"You don't have permission to test connection.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the ",r.createElement(Te,null,"connection_diagnostic")," rule:"),r.createElement(Mt,{traitKind:"ConnDiag"}))),b&&r.createElement(o.xu,{mt:3},"failed"===t.status&&`Encountered Error: ${t.statusText}`,"success"===t.status&&r.createElement(o.xu,null,l.traces.map(((e,t)=>"failed"===e.status?r.createElement(Ue,{alignItems:"baseline"},r.createElement(p.liM,{mr:1,color:"danger"}),e.details,r.createElement("br",null),e.error):"success"===e.status?r.createElement(Ue,{key:t},r.createElement(p.yGk,{mr:1,color:"success"}),e.details):r.createElement(Ue,{key:t},r.createElement(p.HNF,{mr:1}),e.details)))))),r.createElement(Yt,null,r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Connect to the server"),r.createElement(o.PL,{width:"200px",onClick:()=>n(m.value)},"Start Session")),r.createElement(Me,{onProceed:s,lastStep:!0}))}const Yt=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]),Rt={kind:ze.Server,icon:r.createElement(p.xFH,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){const t=function(e){let{ctx:t,props:n}=e;const{attempt:a,run:o,setAttempt:i}=(0,se.Z)("processing"),[l,s]=(0,r.useState)(),[c,u]=(0,r.useState)("polling"),[d,m]=(0,r.useState)({minutes:5,seconds:0});function g(){o((()=>t.joinTokenService.fetchJoinToken(["Node"],"token").then((e=>{e.internalResourceId?s(e):i({status:"failed",statusText:"internal resource ID is required to discover the newly added resource, but none was provided"})}))))}return(0,r.useEffect)((()=>{g()}),[]),(0,r.useEffect)((()=>{if(!l)return;u("polling");const e=new AbortController,r=e.signal;let a,o,i,s=(0,tt.Z)(new Date,5);function c(){clearInterval(a),clearInterval(o),clearTimeout(void 0),m({minutes:5,seconds:0}),e.abort()}return o=setInterval((()=>function(){const e=new Date,t=s,n=(0,nt.Z)({start:e,end:t});if((0,rt.Z)(t,e)<=0)return u("error"),void c();m({minutes:n.minutes,seconds:n.seconds})}()),1e3),a=setInterval((()=>{i||(i=t.nodeService.fetchNodes(t.storeUser.getClusterId(),{search:`${at.E} ${l.internalResourceId}`,limit:1},r).then((e=>{e.agents.length>0&&(u("success"),n.updateAgentMeta(it(it({},n.agentMeta),{},{resourceName:e.agents[0].hostname,node:e.agents[0]})),c())})).catch((()=>{})).finally((()=>{i=null})))}),3e3),()=>{c()}}),[l]),{attempt:a,joinToken:l,nextStep:n.nextStep,pollState:c,regenerateScriptAndRepoll:function(){g()},countdownTime:d}}({ctx:(0,R.Z)(),props:e});return r.createElement(st,t)}},{title:"Set Up Access",component:function(e){const t=Tt(e);return r.createElement(Lt,t)}},{title:"Test Connection",component:function(e){const t=function(e){let{ctx:t,props:n}=e;const{attempt:a,run:o}=(0,se.Z)(""),[i,l]=(0,r.useState)(),s=t.storeUser.getConnectionDiagnosticAccess(),c=s.create&&s.edit&&s.read;return{attempt:a,startSshSession:function(e){const r=n.agentMeta,a=m.Z.getSshConnectRoute({clusterId:t.storeUser.getClusterId(),serverId:r.node.id,login:e});(0,vt.RB)(a)},logins:Ut(n.agentMeta.node.sshLogins),runConnectionDiagnostic:function(e){const r=n.agentMeta;l(null),o((()=>t.agentService.createConnectionDiagnostic({resourceKind:"node",resourceName:r.node.hostname,sshPrincipal:e}).then(l)))},diagnosis:i,nextStep:n.nextStep,prevStep:n.prevStep,canTestConnection:c}}({ctx:(0,R.Z)(),props:e});return r.createElement(Qt,t)}},{title:"Finished",component:Se,hide:!0}]};function Gt(e){return`(Invoke-WebRequest -Uri ${e}).Content | Invoke-Expression`}const Bt=[{title:"Install Active Directory",command:Gt(m.Z.getInstallADDSPath())},{title:"Install AD Certificate Services",command:Gt(m.Z.getInstallADCSPath())}];function Vt(e){return r.createElement(o.xu,null,r.createElement(we,null,"Install Active Directory"),r.createElement(o.xv,{mb:4},"If you haven't already, install Active Directory and AD Certificate Services."),function(e){return e.map(((e,t)=>r.createElement(Pe,{key:t,stepNumber:t+1,title:e.title,text:e.command})))}(Bt),r.createElement(Me,{onProceed:()=>e.nextStep()}))}const Wt={kind:ze.Database,icon:r.createElement(p.voY,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:Vt,views:[{title:"Deploy Database Agent",component:Vt},{title:"Register a Database",component:Vt},{title:"Configure mTLS",component:Vt}]},{title:"Setup Access",component:Vt},{title:"Test Connection",component:Vt}]};function Ht(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const o=(0,r.useRef)(new AbortController),[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null);return(0,r.useEffect)((()=>{n&&!i&&(d(null),c(!1),l(!0)),!n&&i&&l(!1)}),[e,n,i]),(0,r.useEffect)((()=>{if(i&&t>Date.now()){const e=window.setTimeout((()=>{c(!0)}),t-Date.now());return()=>clearTimeout(e)}}),[i,t]),(0,r.useEffect)((()=>{if(i){o.current=new AbortController;const t=window.setInterval((async()=>{try{const n=await e(o.current.signal);n&&(clearInterval(t),d(n))}catch{}}),a);return()=>{clearInterval(t),o.current.abort()}}}),[i,s,a,e]),{timedOut:s,result:u}}n(9755),n(3665);const Ft=r.createContext(null);function Jt(e){const[t,n]=(0,r.useState)(null),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(i&&i>Date.now()){o(!1);const e=window.setTimeout((()=>o(!0)),i-Date.now());return()=>clearTimeout(e)}}),[i]);const s=(0,r.useCallback)((()=>{l(Date.now()+e.timeout)}),[e.timeout]);return r.createElement(Ft.Provider,{value:{joinToken:t,setJoinToken:n,timeout:i,startTimer:s,timedOut:a}},e.children)}let Kt,Xt;function qt(){Xt=null}function $t(){return(0,r.useContext)(Ft).joinToken}function _t(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"token";const a=(0,R.Z)(),o=(0,r.useContext)(Ft);function i(){return Kt=new AbortController,Xt={promise:a.joinTokenService.fetchJoinToken([Oe(e)],n,[],Kt.signal).then((e=>{if(!e.internalResourceId)throw new Error("internal resource ID is required to discover the newly added resource, but none was provided");Xt.response=e,o.setJoinToken(e),o.startTimer()})).catch((e=>{Xt.error=e}))},Xt}if((0,r.useEffect)((()=>()=>{var e;null===(e=Kt)||void 0===e||e.abort(),qt()}),[]),!t)return{joinToken:null,reloadJoinToken:i,timedOut:!1,timeout:0};if(Xt){if(Xt.error)throw Xt.error;if(Xt.response)return{joinToken:Xt.response,reloadJoinToken:i,timedOut:o.timedOut,timeout:o.timeout};throw Xt.promise}throw i().promise}const en=r.createContext(null);function tn(e){const t=(0,R.Z)(),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),l=$t(),{timedOut:s,result:c}=Ht((n=>function(n){const r=t.storeUser.getClusterId(),a={search:`${at.E} ${l.internalResourceId}`,limit:1};switch(e.resourceKind){case ze.Server:return t.nodeService.fetchNodes(r,a,n);case ze.Desktop:return t.desktopService.fetchDesktopServices(r,a,n);case ze.Kubernetes:return t.kubeService.fetchKubernetes(r,a,n)}}(n).then((e=>e.agents.length?e.agents[0]:null))),o,n,e.interval);(0,r.useEffect)((()=>{n&&Date.now()>o&&a(!1)}),[n,o,s]);const u=(0,r.useCallback)((()=>{i(Date.now()+e.timeout),a(!0)}),[e.timeout]);return(0,r.useEffect)((()=>{c&&(i(null),a(!1))}),[c]),r.createElement(en.Provider,{value:{active:n,start:u,result:c,timedOut:s,timeout:o}},e.children)}function nn(){const e=(0,r.useContext)(en);return(0,r.useEffect)((()=>{e.active||e.start()}),[]),e}function rn(e){return r.createElement(Jt,{timeout:3e5},r.createElement(tn,{timeout:3e5,interval:3e3,resourceKind:ze.Kubernetes},e.children))}var an=n(7097),on=n(4998);function ln(e){let{timeout:t,message:n="This script is valid for another"}=e;const[,a]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=window.setInterval((()=>{Date.now()>=t&&clearInterval(e),a((e=>e+1))}),1e3);return()=>clearInterval(e)}),[t]);const{minutes:o,seconds:i}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(t-Date.now()),l=String(i).padStart(2,"0"),s=String(o).padStart(2,"0");return r.createElement("span",null,n," ",s,":",l)}const sn=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);padding:",";border-radius:",";border:2px solid ",";"],(e=>`${e.theme.space[3]}px`),(e=>`${e.theme.space[2]}px`),(e=>{switch(e.pollState){case"error":return e.theme.colors.danger;case"success":return e.theme.colors.success;default:return"#2F3659"}}));function cn(){return cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cn.apply(this,arguments)}function un(e){const{runJoinTokenPromise:t=!1}=e,[n,a]=(0,r.useState)(t),[i,l]=(0,r.useState)(!1),{joinToken:s,reloadJoinToken:c,timeout:u}=_t(ze.Kubernetes,n);return r.useEffect((()=>{s&&l(!0)}),[s]),r.createElement(o.xu,null,r.createElement(dn,null),r.createElement(mn,null),r.createElement(gn,{handleSubmit:e=>s?void(e.validate()&&(c(),l(!1))):void(e.validate()&&a(!0)),namespace:e.namespace,setNamespace:e.setNamespace,clusterName:e.clusterName,setClusterName:e.setClusterName,hasJoinToken:!!s}),i?r.createElement(pn,{namespace:e.namespace,clusterName:e.clusterName,joinToken:s,pollingTimeout:u,nextStep:e.nextStep,updateAgentMeta:e.updateAgentMeta}):r.createElement(Me,{onProceed:()=>null,disableProceed:!0}))}const dn=()=>r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(Ne,null,"Install Teleport Service in your cluster via Helm to easily connect your Kubernetes cluster with Teleport.",r.createElement("br",null),"For all the available values of the helm chart see the"," ",r.createElement(o.rU,{href:"https://goteleport.com/docs/kubernetes-access/helm/reference/teleport-kube-agent/",target:"_blank"},"the documentation"),".")),mn=()=>r.createElement(bn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Add teleport-agent chart to your charts repository"),r.createElement(V.r,{lines:[{text:"helm repo add teleport https://charts.releases.teleport.dev && helm repo update"}]})),gn=e=>{let{handleSubmit:t,namespace:n,setNamespace:a,clusterName:i,setClusterName:l,hasJoinToken:s,error:c,onRetry:u}=e;return r.createElement(bn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Generate a command to automatically configure and install the teleport-agent namespace"),r.createElement(ee.ZP,null,(e=>{let{validator:d}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(te.Z,{mb:3,rule:(0,an.lp)("Namespace is required"),label:"Teleport Service Namespace",autoFocus:!0,value:n,placeholder:"teleport",width:"100%",mr:"3",onChange:e=>a(e.target.value)}),r.createElement(te.Z,{rule:(0,an.lp)("Kubernetes Cluster Name is required"),label:"Kubernetes Cluster Name",labelTip:"Name shown to Teleport users connecting to the cluster",value:i,placeholder:"my-cluster",width:"100%",mr:"3",onChange:e=>l(e.target.value)})),r.createElement(o.PL,{width:"200px",type:"submit",disabled:!c&&!t,onClick:()=>c?u():t(d)},s?"Regenerate Command":"Generate Command"))})),c&&r.createElement(o.xu,null,r.createElement(Ue,{mt:3},r.createElement(p.v3j,{ml:1,color:"danger"}),"Encountered Error: ",c.message)))},pn=e=>{let{namespace:t,clusterName:n,joinToken:a,pollingTimeout:i,nextStep:l,updateAgentMeta:s}=e;const c=(0,R.Z)().storeUser.state.cluster.authVersion,{hostname:u,port:d}=window.document.location,m=`${u}:${d||"443"}`,{timedOut:g,result:I}=nn();let b="polling";return g?b="error":I&&(b="success"),r.createElement(r.Fragment,null,r.createElement(sn,{mt:4,p:3,borderRadius:3,pollState:b},r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Run the command below on the server running your Kubernetes cluster. May take up to a minute for the Teleport Service to join after running the command."),r.createElement(o.xu,{mt:2,mb:1},r.createElement(V.r,{lines:[{text:(h={namespace:t,clusterName:n,proxyAddr:m,tokenId:a.id,clusterVersion:c,resourceId:a.internalResourceId},`cat << EOF > prod-cluster-values.yaml\nroles: kube\nauthToken: ${h.tokenId}\nproxyAddr: ${h.proxyAddr}\nkubeClusterName: ${h.clusterName}\nteleportVersionOverride: ${h.clusterVersion}\nlabels:\n    teleport.internal/resource-id: ${h.resourceId}\nEOF\n \nhelm install teleport-agent teleport/teleport-kube-agent -f prod-cluster-values.yaml --create-namespace --namespace ${h.namespace}`)}]})),"polling"===b&&r.createElement(hn,null,r.createElement(p.r6F,{fontSize:4}),r.createElement(ln,{timeout:i,message:"Waiting for Teleport Service  |  "})),"success"===b&&r.createElement(Ue,null,r.createElement(p.yGk,{ml:1,color:"success"}),"The Teleport Service successfully join this Teleport cluster"),"error"===b&&r.createElement(In,{namespace:t})),r.createElement(Me,{onProceed:function(){s({kube:I,resourceName:I.name}),l()},disableProceed:"success"!==b}));var h},In=e=>{let{namespace:t}=e;return r.createElement(o.xu,null,r.createElement(Ue,null,r.createElement(p.v3j,{ml:1,color:"danger"}),"We could not detect the Teleport Service you were trying to add"),r.createElement(o.xv,{bold:!0,mt:4},"Possible reasons"),r.createElement(xn,null,r.createElement("li",null,"The command was not run on the server you were trying to add, regenerate command and try again."),r.createElement("li",null,"The Teleport Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"kubectl logs -l app=teleport-agent -n ",t))))},bn=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var hn=(0,a.ZP)(Ue)(["white-space:pre;"]),xn=(0,a.ZP)("ul")(["margin-top:6px;margin-bottom:0;"]);const En=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(this,arguments)}function yn(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:a,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,En),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[m,g]=(0,r.useState)(""),[p,I]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&(d(n("kubeGroups")),I(n("kubeUsers")))}),[e.attempt.status,n]);const b=u.length>0||p.length>0,h=!e.isSsoUser&&e.canEditUser;return r.createElement(Nt,An({},l,{headerSubtitle:"Allow access from your Kubernetes user and groups to interact with your Kubernetes Clusters.",traitKind:"Kubernetes",traitDescription:"users and groups",hasTraits:b,onProceed:function(){t({kubeGroups:u,kubeUsers:p})}}),r.createElement(o.xu,{mb:4},"Kubernetes Groups",r.createElement(yt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:e=>c(e),onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":d([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing groups and press enter",value:u,isDisabled:!h,onChange:(e,t)=>{"clear"===t.action?d(a("kubeGroups")):d(e||[])},options:i("kubeGroups"),autoFocus:!0})),r.createElement(o.xu,{mb:2},"Kubernetes Users",r.createElement(yt,{inputValue:m,isClearable:p.some((e=>!e.isFixed)),onInputChange:g,onKeyDown:function(e){if(m)switch(e.key){case"Enter":case"Tab":I([...p,{value:m,label:m}]),g(""),e.preventDefault()}},placeholder:"Start typing users and press enter",value:p,isDisabled:!h,onChange:(e,t)=>{"clear"===t.action?I(a("kubeUsers")):I(e||[])},options:i("kubeUsers")})))}var Cn=n(1271);function Mn(e){let{attempt:t,runConnectionDiagnostic:n,diagnosis:a,nextStep:i,prevStep:l,canTestConnection:s,kube:c,authType:u,username:d,clusterId:m}=e;const g=c.users.map((e=>({value:e,label:e}))),I=c.groups.map((e=>({value:e,label:e}))),[b,h]=(0,r.useState)("default"),[x,E]=(0,r.useState)(I),[A,y]=(0,r.useState)((()=>g[0]||{value:d,label:d}));let C;"processing"===t.status?C=r.createElement(Ue,null,r.createElement(p.r6F,{fontSize:4}),"Testing in-progress"):"failed"===t.status||a&&!a.success?C=r.createElement(Ue,null,r.createElement(p.v3j,{ml:1,color:"danger"}),"Testing failed"):"success"===t.status&&null!=a&&a.success&&(C=r.createElement(Ue,null,r.createElement(p.yGk,{ml:1,color:"success"}),"Testing complete"));const M=!!a||"failed"===t.status;return r.createElement(ee.ZP,null,(e=>{let{validator:f}=e;return r.createElement(o.xu,null,r.createElement(De,{onPrev:l},"Test Connection"),r.createElement(Ne,null,"Optionally verify that you can successfully connect to the Kubernetes cluster you just added."),r.createElement(wn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Define the namespace to test."),r.createElement(o.xu,{width:"500px"},r.createElement(te.Z,{label:"Namespace",rule:(0,an.lp)("Namespace is required"),autoFocus:!0,value:b,placeholder:"Enter namespace",onChange:e=>h(e.target.value)}))),r.createElement(wn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Select groups and a user to test."),r.createElement(o.xu,{width:"500px"},r.createElement(Cn.Z,{label:"Kubernetes groups",placeholder:0===I.length?"No groups defined":"Click to select groups",isSearchable:!0,isMulti:!0,isClearable:!1,value:x,onChange:e=>E(e),options:I,isDisabled:"processing"===t.status||0===I.length})),r.createElement(o.xu,{width:"500px"},r.createElement(Cn.Z,{label:"Kubernetes user",labelTip:0===g.length?"Defaulted to your teleport username":"",isSearchable:!0,isClearable:!0,placeholder:"Select a user",value:A,onChange:e=>y(e),options:g,isDisabled:"processing"===t.status||0===g.length}))),r.createElement(wn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Verify that the Kubernetes is accessible"),r.createElement(o.kC,{alignItems:"center",mt:3},s?r.createElement(r.Fragment,null,r.createElement(o.PL,{width:"200px",onClick:()=>function(e){e.validate()&&n({namespace:b,user:null==A?void 0:A.value,groups:null==x?void 0:x.map((e=>e.value))})}(f),disabled:"processing"===t.status},a?"Restart Test":"Test Connection"),r.createElement(o.xu,{ml:4},C)):r.createElement(o.xu,null,r.createElement(o.xv,null,"You don't have permission to test connection.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the ",r.createElement(Te,null,"connection_diagnostic")," rule:"),r.createElement(Mt,{traitKind:"ConnDiag"}))),M&&r.createElement(o.xu,{mt:3},"failed"===t.status&&`Encountered Error: ${t.statusText}`,"success"===t.status&&r.createElement(o.xu,null,a.traces.map(((e,t)=>"failed"===e.status?r.createElement(fn,{error:e.error,details:e.details,key:t}):"success"===e.status?r.createElement(Dn,{key:t},r.createElement(p.yGk,{mr:1,color:"success"}),e.details):r.createElement(Ue,{key:t},r.createElement(p.HNF,{mr:1}),e.details)))))),r.createElement(wn,null,r.createElement(o.xv,{bold:!0,mb:3},"To Access your Kubernetes cluster"),r.createElement(o.xu,{mb:2},"Log into your Teleport cluster",r.createElement(V.Z,{mt:"1",text:(0,vt.Sl)({authType:u,username:d,clusterId:m})})),r.createElement(o.xu,{mb:2},"Log into your Kubernetes cluster",r.createElement(V.Z,{mt:"1",text:`tsh kube login ${c.name}`})),r.createElement(o.xu,null,"Use kubectl",r.createElement(V.Z,{mt:"1",text:"kubectl get pods"}))),r.createElement(Me,{onProceed:i,lastStep:!0}))}))}const fn=e=>{let{details:t,error:n}=e;const[a,o]=(0,r.useState)(!1);return r.createElement(vn,null,r.createElement(p.liM,{mr:1,color:"danger"}),r.createElement("div",null,r.createElement("div",null,t),r.createElement("div",null,r.createElement(Nn,{onClick:()=>o((e=>!e))},a?"Hide":"Click for extra"," details"),a&&r.createElement("div",null,n))))},wn=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]),Nn=(0,a.ZP)(o.oD)(["min-height:auto;padding:0;font-weight:inherit;text-decoration:underline;"]);var Dn=(0,a.ZP)(Ue)({alignItems:"baseline"}),vn=(0,a.ZP)(Ue)({alignItems:"baseline"});const jn={kind:ze.Kubernetes,icon:r.createElement(p.YJo,null),wrapper:e=>r.createElement(rn,null,e),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){const[t,n]=(0,r.useState)(""),[a,i]=(0,r.useState)("");return r.createElement(on.$,{onRetry:qt,fallbackFn:e=>r.createElement(o.xu,null,r.createElement(dn,null),r.createElement(mn,null),r.createElement(gn,{error:e.error,onRetry:e.retry,namespace:t,setNamespace:n,clusterName:a,setClusterName:i}),r.createElement(Me,{onProceed:()=>null,disableProceed:!0}))},r.createElement(r.Suspense,{fallback:r.createElement(o.xu,null,r.createElement(dn,null),r.createElement(mn,null),r.createElement(gn,{namespace:t,setNamespace:n,clusterName:a,setClusterName:i}),r.createElement(Me,{onProceed:()=>null,disableProceed:!0}))},r.createElement(un,cn({},e,{namespace:t,setNamespace:n,clusterName:a,setClusterName:i}))))}},{title:"Set Up Access",component:function(e){const t=Tt(e);return r.createElement(yn,t)}},{title:"Test Connection",component:function(e){const t=function(e){let{ctx:t,props:n}=e;const{attempt:a,run:o}=(0,se.Z)(""),[i,l]=(0,r.useState)(),s=t.storeUser.getConnectionDiagnosticAccess(),c=s.create&&s.edit&&s.read,{username:u,authType:d,cluster:m}=t.storeUser.state;return{attempt:a,runConnectionDiagnostic:function(e){const r=n.agentMeta;l(null),o((()=>t.agentService.createConnectionDiagnostic({resourceKind:"kube_cluster",resourceName:r.kube.name,kubeImpersonation:e}).then(l)))},diagnosis:i,nextStep:n.nextStep,prevStep:n.prevStep,canTestConnection:c,kube:n.agentMeta.kube,username:u,authType:d,clusterId:m.clusterId}}({ctx:(0,R.Z)(),props:e});return r.createElement(Mn,t)}},{title:"Finished",component:Se,hide:!0}]},Sn={kind:ze.Application,icon:r.createElement(p.Ljw,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"}]};var kn=n(3358),Tn=n(4657);const zn=a.ZP.div(["border-radius:5px;width:100%;box-shadow:0px 0px 20px 0px rgba(0,0,0,0.43);"]),Zn=a.ZP.div(["background:#040b1d;height:32px;position:relative;display:flex;align-items:center;justify-content:center;border-top-left-radius:5px;border-top-right-radius:5px;"]),On=a.ZP.div(["display:flex;position:absolute;top:50%;left:10px;transform:translate(0,-50%);"]),Pn=a.ZP.div(["width:12px;height:12px;border-radius:50%;margin-right:5px;"]),Ln=a.ZP.div(["background:#04162c;height:var(--content-height,660px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),Un=a.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;"]);function Qn(e){return r.createElement(Zn,null,r.createElement(On,null,r.createElement(Pn,{style:{backgroundColor:"#f95e57"}}),r.createElement(Pn,{style:{backgroundColor:"#fbbe2e"}}),r.createElement(Pn,{style:{backgroundColor:"#31c842"}})),e.title)}function Yn(e){return r.createElement(zn,null,r.createElement(Qn,{title:e.title}),r.createElement(Ln,null,e.children))}const Rn=a.ZP.div(["width:100%;display:flex;overflow-x:hidden;padding-bottom:50px;margin-top:-24px;padding-top:24px;"]),Gn=a.ZP.div(["display:inline-flex;align-items:center;transition:0.2s ease-in opacity;cursor:pointer;font-size:18px;margin-bottom:30px;"]),Bn=a.ZP.div(["font-size:30px;margin-right:20px;"]),Vn=a.ZP.div(["display:flex;flex:1;flex-direction:column;margin-right:30px;"]),Wn=(a.ZP.div(["flex:0 0 600px;margin-left:30px;"]),a.ZP.div([""]));function Hn(e){const{joinToken:t,reloadJoinToken:n,timeout:a,timedOut:i}=_t(ze.Desktop);let l;if(i)l=r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"That script expired."),r.createElement(Ce.DF,{onClick:n},"Generate another"));else{const n=Gt(m.Z.getConfigureADUrl(t.id));l=r.createElement(Wn,null,r.createElement(V.Z,{text:n,mt:2,mb:5,bash:!0,allowMultiline:!0}),r.createElement(Ce.DF,{onClick:()=>e.onNext()},"Next"),r.createElement(o.xu,{mt:4},r.createElement(ln,{timeout:a})))}return r.createElement(Vn,null,r.createElement(Gn,null,r.createElement(Bn,null,r.createElement(p.oI9,null)),"1. Run the configure Active Directory script"),l)}function Fn(){return r.createElement(Vn,null,r.createElement(Gn,null,r.createElement(Bn,null,r.createElement(p.oI9,null)),"1. Run the configure Active Directory script"),r.createElement(Wn,null,r.createElement(Jn,null)))}const Jn=a.ZP.div(["width:340px;height:84px;background:url(",") no-repeat;"],"data:image/svg+xml;base64,PHN2ZwogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICByb2xlPSJpbWciCiAgd2lkdGg9IjM0MCIKICBoZWlnaHQ9Ijg0IgogIGFyaWEtbGFiZWxsZWRieT0ibG9hZGluZy1hcmlhIgogIHZpZXdCb3g9IjAgMCAzNDAgODQiCiAgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIKPgogIDx0aXRsZSBpZD0ibG9hZGluZy1hcmlhIj5Mb2FkaW5nLi4uPC90aXRsZT4KICA8cmVjdAogICAgeD0iMCIKICAgIHk9IjAiCiAgICB3aWR0aD0iMTAwJSIKICAgIGhlaWdodD0iMTAwJSIKICAgIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIgogICAgc3R5bGU9J2ZpbGw6IHVybCgiI2ZpbGwiKTsnCiAgLz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj4KICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgcng9IjMiIHJ5PSIzIiB3aWR0aD0iNjciIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9Ijc2IiB5PSIwIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjEyNyIgeT0iNDgiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjUzIiBoZWlnaHQ9IjExIiAvPgogICAgICA8cmVjdCB4PSIxODciIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjcxIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIzNyIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjIzIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjE2NiIgeT0iMjMiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjE3MyIgaGVpZ2h0PSIxMSIgLz4KICAgIDwvY2xpcFBhdGg+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImZpbGwiPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMC41OTk5NjQiCiAgICAgICAgc3RvcC1jb2xvcj0iIzIyMmM1OSIKICAgICAgICBzdG9wLW9wYWNpdHk9IjEiCiAgICAgID4KICAgICAgICA8YW5pbWF0ZQogICAgICAgICAgYXR0cmlidXRlTmFtZT0ib2Zmc2V0IgogICAgICAgICAgdmFsdWVzPSItMjsgLTI7IDEiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICAgIDxzdG9wCiAgICAgICAgb2Zmc2V0PSIxLjU5OTk2IgogICAgICAgIHN0b3AtY29sb3I9IiM3NTY5YjAiCiAgICAgICAgc3RvcC1vcGFjaXR5PSIxIgogICAgICA+CiAgICAgICAgPGFuaW1hdGUKICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9mZnNldCIKICAgICAgICAgIHZhbHVlcz0iLTE7IC0xOyAyIgogICAgICAgICAga2V5VGltZXM9IjA7IDAuMjU7IDEiCiAgICAgICAgICBkdXI9IjJzIgogICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiCiAgICAgICAgLz4KICAgICAgPC9zdG9wPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMi41OTk5NiIKICAgICAgICBzdG9wLWNvbG9yPSIjMjIyYzU5IgogICAgICAgIHN0b3Atb3BhY2l0eT0iMSIKICAgICAgPgogICAgICAgIDxhbmltYXRlCiAgICAgICAgICBhdHRyaWJ1dGVOYW1lPSJvZmZzZXQiCiAgICAgICAgICB2YWx1ZXM9IjA7IDA7IDMiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg==");var Kn;!function(e){e.Argument="#cfa7ff",e.Keyword="#5af78e",e.Error="#f07278",e.Label="rgba(255, 255, 255, 0.7)",e.Punctuation="#81ceee"}(Kn||(Kn={}));const Xn=a.ZP.div(["width:100%;background:rgba(255,255,255,0.3);position:absolute;left:0;z-index:0;transform:translate3d(0,0,0);transition-property:height;"]),qn=a.ZP.div(["position:relative;z-index:1;"]);function $n(e){const t=(0,r.useRef)();(0,r.useLayoutEffect)((()=>{t.current.scrollTop=t.current.scrollHeight}),[e.counter]);const n=(0,r.useRef)();let a;if((0,r.useEffect)((()=>{if(!e.selectedLines)return;const t=e.selectedLines.end-e.selectedLines.start,r=window.setTimeout((()=>{n.current.style.height=20*(t+1)+"px"}),1e3);return()=>clearTimeout(r)}),[e.selectedLines]),e.selectedLines){const t=e.selectedLines.end-e.selectedLines.start;a=r.createElement(Xn,{ref:n,style:{top:20*(e.selectedLines.start+1),transitionTimingFunction:`steps(${t+2}, jump-none)`,transitionDuration:.08*t+"s",height:0}})}return r.createElement(ar,{ref:t},r.createElement(or,null,r.createElement(qn,null,function(e,t){if(!e.length)return r.createElement(tr,{key:"cursor"},"$ ",r.createElement(rr,null));const n=e.map((e=>r.createElement(r.Fragment,{key:e.id},e.isCommand?r.createElement(tr,null,"$",e.text.length>0?" ":""):null,function(e,t,n){let a,o=e;const i=o.indexOf("#");i>-1&&(o=e.substring(0,i),a=r.createElement(nr,null,e.substring(i,e.length)));const l=o.split(" "),s=[];e:for(const[e,a]of l.entries())if(t||!/(https?:\/\/\S+)/g.test(a)){if(n)for(const t of n){const n=_n(a,t);if(n){s.push(r.createElement(er,{key:`${t.key}-${e}`},n," "));continue e}}s.push(r.createElement(er,{key:e},a," "))}else s.push(r.createElement(r.Fragment,{key:e},r.createElement("a",{key:e,style:{color:"#feaa01",textDecoration:"underline"},href:a,target:"_blank",rel:"noopener noreferrer"},a)," "));return r.createElement(r.Fragment,null,s,a)}(e.text,e.isCommand,t),e.isCurrent&&e.isCommand?r.createElement(rr,null):null,r.createElement("br",null))));return n}(e.lines,e.highlights)),a))}function _n(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}const er=a.ZP.span(["user-select:none;"]),tr=a.ZP.span(["user-select:none;color:rgb(204,204,204);"]),nr=a.ZP.span(["user-select:none;color:rgb(255,255,255,0.4);"]),rr=a.ZP.span(["display:inline-block;width:6px;height:15px;background:#ffffff;vertical-align:middle;"]),ar=a.ZP.div(["background:#04162c;height:inherit;overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),or=a.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;margin:10px 16px;position:relative;"]);function ir(e){return new Promise((t=>window.setTimeout(t,e)))}function lr(e){const t=(0,r.useRef)(0),n=(0,r.useMemo)((()=>async function*(e,t){let n=0,r=0,a=!1;const o=[];if(t>0){for(let n=0;n<t;n++)o.push({id:n,text:e[n].text,isCommand:e[n].isCommand,isCurrent:n===t});yield o}for(;;){if(!(t<e.length))return yield o,o;if(e[t].isCommand)if(n>e[t].text.length)o[t].isCurrent=t===e.length-1,n=0,yield o,await ir(300),t+=1;else{const r=e[t].delay;isNaN(r)||(yield o,await ir(r),yield o),0===n&&(await ir(100),o.push({id:t,text:"",isCommand:e[t].isCommand,isCurrent:!0}),yield o,await ir(600)),o[t].text=e[t].text.substring(0,n),n+=1}else{const i=e[t].delay;isNaN(i)||(await ir(i),yield o);const l=e[t].frames;if(l)if(r<l.length){const e=l[r]();0!==r||a||(a=!0,o.push({id:t,text:e.text,isCurrent:!1,isCommand:!1})),o[t].text=e.text,isNaN(e.delay)||(yield o,await ir(e.delay),yield o),r+=1}else a&&e[t+1]&&(o[t].text=e[t].text,n=0,r=0,t+=1,a=!1),r=0;else o.push({id:t,text:e[t].text,isCommand:!1,isCurrent:!1}),yield o,n=0,t+=1}yield o}}(e.lines,t.current)),[e.lines]),[a,o]=(0,r.useState)(0),[i,l]=(0,r.useState)(!1),s=(0,r.useRef)([]);(0,r.useEffect)((()=>{let r,a;async function i(){const{value:r,done:c}=await n.next();if(r){if(r.length){const e=r[r.length-1].id+1;e>t.current&&(t.current=e)}s.current=r,o((e=>e+1))}if(c)return l(!0),e.onCompleted&&e.onCompleted(),void o((e=>e+1));a=requestAnimationFrame(i)}function c(){a=requestAnimationFrame(i)}return e.startDelay?r=window.setTimeout(c,e.startDelay):c(),()=>{cancelAnimationFrame(a),clearTimeout(r)}}),[e.startDelay,e.lines,n]);let c=s.current;return e.stopped&&(c=e.lines.map(((t,n)=>({id:n,text:t.text,isCommand:t.isCommand,isCurrent:n===e.lines.length-1})))),r.createElement(Yn,{title:"Terminal"},r.createElement($n,{lines:c,completed:i,counter:a,highlights:e.highlights,selectedLines:e.selectedLines}))}const sr=e=>[{text:Gt(m.Z.getConfigureADUrl(e.id)),isCommand:!0},{text:"Running...",isCommand:!1,delay:800},{text:`\nversion: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}\n`,isCommand:!1,delay:500},{text:"Desktop Access Configuration Reference: https://goteleport.com/docs/desktop-access/reference/configuration/",isCommand:!1,delay:500},{text:"",isCommand:!0}],cr={start:4,end:29},ur=[{key:"keyword",color:Kn.Keyword,keywords:["Invoke-WebRequest","Invoke-Expression"]},{key:"arg",color:Kn.Argument,keywords:["-Uri"]}];function dr(e){const{joinToken:t}=_t(ze.Desktop);return r.createElement(lr,{lines:sr(t),highlights:ur,selectedLines:e.isCopying?cr:null,stopped:e.isCopying})}function mr(e){return null}function gr(e){const t=e.items.map(((t,n)=>r.createElement(Ir,{key:n,active:n===e.activeIndex,onClick:()=>e.onSelect(n)},r.createElement(br,null,r.createElement(p.EKh,null)),t)));return r.createElement(pr,null,t)}const pr=a.ZP.div(["background:#0a102c;display:flex;"]),Ir=a.ZP.div(["background:rgba(255,255,255,0.1);padding:8px 20px 10px 15px;cursor:pointer;position:relative;&:after{content:'';position:absolute;bottom:0;height:2px;left:0;right:0;background:",";}"],(e=>e.active?"linear-gradient(to right, #ec008c, #fc6767)":"transparent")),br=(0,a.ZP)("span")(["font-size:14px;margin-right:10px;position:relative;top:1px;"]);var hr;function xr(e){const[t,n]=(0,r.useState)(0),a=r.Children.map(e.children,(e=>e.type===mr?{name:e.props.name,content:e.props.code,language:e.props.language}:null)).filter(Boolean),o=a.map((e=>e.name)),{content:i,language:l}=a[t],s=function(e,t){if(t===hr.YAML)return function(e){if(!e)return[];const t=[{key:"string",keywords:["'\\*'"],color:Kn.Keyword},{key:"certificate",match:/(-----.*?-----)/,color:Kn.Punctuation}],n=e.split("\n"),a=[];for(const[e,o]of n.entries()){const n=Er(o,": |",e,t);if(n){a.push(n);continue}const i=Er(o,":",e,t);i?a.push(i):o?a.push(r.createElement("div",{key:e},Ar(o,t))):a.push(r.createElement("div",{key:e}," "))}return a}(e);throw new Error("Language not supported")}(i,l),c=[];if(i){const e=i.split("\n").length;for(let t=0;t<=e;t++)c.push(r.createElement(Dr,{key:t,"data-line-number":t+1,active:t===e}))}else c.push(r.createElement(Dr,{key:0,"data-line-number":1,active:!0}));return r.createElement(zn,null,r.createElement(Qn,{title:e.title}),r.createElement(gr,{items:o,activeIndex:t,onSelect:n}),r.createElement(Ln,{style:{height:585}},r.createElement(Un,{style:{display:"flex"}},r.createElement(Nr,null,c),r.createElement(vr,null,s,r.createElement(jr,null,r.createElement(wr,null))))))}function Er(e,t,n,a){if(!e.includes(t))return;const o=e.indexOf(t);let i=e.substring(o+t.length,e.length);return r.createElement("div",{key:n},r.createElement(Cr,null,e.substring(0,o)),r.createElement(Mr,null,t),Ar(i,a))}function Ar(e,t){for(const n of t)if(n.match&&n.match.test(e))return e.split(n.match).map(((e,t)=>{if(e)return t%2==0?r.createElement("span",{key:t},e):r.createElement("span",{key:`${n.key}-${t}`,style:{color:n.color}},e)})).filter(Boolean);const n=e.split(" "),a=[];e:for(const[e,o]of n.entries()){for(const n of t)if(n.keywords){const t=yr(o,n);if(t){a.push(r.createElement("span",{key:`${n.key}-${e}`},t," "));continue e}}a.push(r.createElement("span",{key:e},o," "))}return a}function yr(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}!function(e){e[e.YAML=0]="YAML"}(hr||(hr={}));const Cr=a.ZP.span(["color:#d4656b;"]),Mr=a.ZP.span(["color:#81ceee;"]),fr=(0,a.F4)(["0%{opacity:0;}"]),wr=a.ZP.span(["display:inline-block;width:2px;height:15px;background:#ffffff;vertical-align:middle;animation:"," 1.5s steps(2) infinite;"],fr),Nr=a.ZP.div(["user-select:none;width:55px;"]),Dr=a.ZP.div(["background:",";color:",";text-align:right;padding-right:20px;&:before{content:attr(data-line-number);}"],(e=>e.active?"rgba(0, 0, 0, 0.3)":"none"),(e=>e.active?"rgba(255, 255, 255, 0.6)":"rgba(255, 255, 255, 0.3)")),vr=a.ZP.div(["width:100%;"]),jr=a.ZP.div(["background:rgba(0,0,0,0.3);width:100%;"]),Sr=e=>`version: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}`;var kr;function Tr(){const e=$t(),[t,n]=(0,r.useState)(kr.Original),{content:a}=(e=>[{kind:kr.Original,content:""},{kind:kr.Pasted,content:Sr(e)}])(e).find((e=>e.kind===t));return(0,r.useEffect)((()=>{n(kr.Original);const e=window.setTimeout((()=>n(kr.Pasted)),1500);return()=>clearTimeout(e)}),[]),r.createElement(zr,null,r.createElement(xr,{title:"Your IDE"},r.createElement(mr,{language:hr.YAML,name:"/etc/teleport.yaml",code:a})))}!function(e){e[e.Original=0]="Original",e[e.Pasted=1]="Pasted"}(kr||(kr={}));const zr=(0,a.ZP)("div")(["user-select:none;"]),Zr=[{text:"sudo systemctl start teleport",isCommand:!0},{text:"sudo systemctl status teleport",isCommand:!0},{text:"• teleport.service - Teleport SSH Service\n   Loaded: loaded\n   Active: active (running)",isCommand:!1,delay:100},{text:"logout # We'll take it from here",isCommand:!0},{text:"\n",isCommand:!1,delay:30}],Or=["_","_","_","-","`","`","'","´","-","_","_","_"],Pr=[{key:"keyword",color:Kn.Keyword,keywords:["sudo","systemctl","active","\\(running\\)","•","wait","logout","✔"]},{key:"error",color:Kn.Error,keywords:["✖","Oh","no!"]},{key:"label",color:Kn.Label,keywords:["Hostname:","Address:"]}];function Lr(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)([...Zr]),{active:o,result:i,timedOut:l,timeout:s}=nn(),c=(0,r.useRef)(0);(0,r.useEffect)((()=>{c.current=i?null:s}),[s,i]);const[u,d]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[p,I]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(i&&!p)return a((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✔ Found your Teleport node"},{isCommand:!1,text:`  Hostname: ${i.hostname}`},{isCommand:!1,text:`   Address: ${i.addr}`}])),void I(!0);p||(e&&o&&!u&&a((e=>[...e,{text:"wait your.teleport.instance",isCommand:!0},{isCommand:!1,text:""},{isCommand:!1,text:"- Waiting to hear from your Teleport node",frames:Or.map((e=>()=>{if(Date.now()>c.current)return{text:"- Waiting to hear from your Teleport node"};const{minutes:t,seconds:n}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(c.current-Date.now());return{text:`${e} Waiting to hear from your Teleport node (${t}:${n} remaining)`,delay:70}}))}])),l&&!m&&a((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✖ Oh no! We couldn't find your Teleport node."}])),e&&d(o),g(l))}),[i,l,o,p,m,u,e]),r.createElement(Ur,null,r.createElement(lr,{stopped:null!==i,lines:n,startDelay:800,highlights:Pr,onCompleted:()=>t(!0)}))}const Ur=a.ZP.div(["--content-height:400px;"]);function Qr(e){return r.createElement(Vn,null,r.createElement(Gn,null,r.createElement(Bn,null,r.createElement(p.TUt,null)),"2. Copy the outputted Teleport config"),r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"You'll need this in the next step."),r.createElement(Ce.DF,{onClick:()=>e.onNext()},"Next")))}function Yr(e){return r.createElement(Vn,null,r.createElement(Gn,null,r.createElement(Bn,null,r.createElement(p.EKh,null)),"3. Create /etc/teleport.yaml"),r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"Paste the output you just copied into /etc/teleport.yaml."),r.createElement(Ce.DF,{onClick:()=>e.onNext()},"Next")))}var Rr=n(2010);function Gr(e){return r.createElement(Vn,null,r.createElement(Gn,null,r.createElement(Bn,null,r.createElement(Vr,null)),"4. Start Teleport"),e.children)}function Br(e){const{active:t,result:n,start:a,timedOut:i}=nn();return i?r.createElement(Gr,null,r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"We looked everywhere but we couldn't find your Teleport node."),r.createElement(Ce.DF,{disabled:t,onClick:()=>a()},"Retry"))):n?r.createElement(Gr,null,r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"Success! We've detected the new Teleport node you configured."),r.createElement(Ce.DF,{onClick:()=>e.onNext()},"Next"))):r.createElement(Gr,null,r.createElement(Wn,null,r.createElement(o.xv,{mb:4},"Once you've started Teleport, we'll detect it here."),r.createElement(Ce.DF,{disabled:!n,onClick:()=>e.onNext()},"Next")))}const Vr=a.ZP.div(["width:30px;height:30px;background:url(",") no-repeat;background-size:contain;top:1px;position:relative;"],Rr);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr,Kr;!function(e){e[e.RunConfigureScript=0]="RunConfigureScript",e[e.CopyOutput=1]="CopyOutput",e[e.CreateConfig=2]="CreateConfig",e[e.StartTeleport=3]="StartTeleport",e[e.Finished=4]="Finished"}(Jr||(Jr={})),function(e){e[e.RunCommand=0]="RunCommand",e[e.CreateConfig=1]="CreateConfig",e[e.StartTeleport=2]="StartTeleport"}(Kr||(Kr={}));const Xr=[{kind:Jr.RunConfigureScript,animation:Kr.RunCommand},{kind:Jr.CopyOutput,animation:Kr.RunCommand},{kind:Jr.CreateConfig,animation:Kr.CreateConfig},{kind:Jr.StartTeleport,animation:Kr.StartTeleport},{kind:Jr.Finished,animation:null}],qr={transition:"opacity 250ms, transform 250ms",opacity:0,width:"100%"},$r={entering:{opacity:0,transform:"translateX(50px)"},entered:{opacity:1,transform:"translateX(0%)"},exiting:{opacity:0,transform:"translateX(-50px)"},exited:{opacity:0,transform:"translateX(-50px)"}},_r={entering:{opacity:0,transform:"translateY(50px)"},entered:{opacity:1,transform:"translateY(0%)"},exiting:{opacity:0,transform:"translateY(-50px)"},exited:{opacity:0,transform:"translateY(-50px)"}},ea=a.ZP.div(["width:650px;display:flex;flex-direction:column;max-width:875px;flex:1 0 850px;align-items:flex-end;margin-left:-101px;position:relative;z-index:1;padding-right:20px;"]),ta=a.ZP.div(["position:relative;width:calc(100% - 100px);padding:20px 100px;left:100px;"]),na=(0,a.F4)(["from{width:0;}to{width:260px;}"]),ra=a.ZP.div(["position:absolute;top:43px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;animation:"," 1s ease-in forwards;svg{path{fill:none;}}"],na),aa=(0,a.F4)(["0%{stroke-dashoffset:-250;}100%{stroke-dashoffset:0;}"]),oa=a.ZP.svg(["position:absolute;z-index:1;path{stroke:#278348;stroke-width:4;fill:none;}"]),ia=(0,a.ZP)(oa)(["stroke-dasharray:5,20;stroke-dashoffset:0;z-index:2;animation:"," 5s cubic-bezier(0.78,0.11,0.27,0.94) alternate infinite 0.6s;path{stroke:#32c842;}"],aa);function la(e){return r.createElement(ra,{style:{width:e.width,height:e.height,left:-e.width}},r.createElement(oa,{width:e.width,height:e.height},e.children),r.createElement(ia,{width:e.width,height:e.height},e.children))}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ca{constructor(){sa(this,"x0",void 0),sa(this,"y0",void 0),sa(this,"x1",null),sa(this,"y1",null),sa(this,"path","")}moveTo(e,t){this.path+=`M${this.x0=this.x1=+e},${this.y0=this.y1=+t}`}closePath(){null!==this.x1&&(this.x1=this.x0,this.y1=this.y0,this.path+="Z")}lineTo(e,t){this.path+=`L${this.x1=+e},${this.y1=+t}`}bezierCurveTo(e,t,n,r,a,o){this.path+=`C${+e},${+t},${+n},${+r},${this.x1=+a},${this.y1=+o}`}}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){return e<0?-1:1}function ma(e,t){const n=e.x1-e.x0;return n?(3*(e.y1-e.y0)/n-t)/2:t}function ga(e,t,n){const r=e.x0,a=e.y0,o=e.x1,i=e.y1,l=(o-r)/3;e.path.bezierCurveTo(r+l,a+l*t,o-l,i-l*n,o,i)}function pa(e,t,n){const r=e.x1-e.x0,a=t-e.x1,o=(e.y1-e.y0)/(r||a<0&&-0),i=(n-e.y1)/(a||r<0&&-0),l=(o*a+i*r)/(r+a);return(da(o)+da(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(l))||0}class Ia{constructor(e){ua(this,"path",void 0),ua(this,"line",void 0),ua(this,"x0",void 0),ua(this,"x1",void 0),ua(this,"y0",void 0),ua(this,"y1",void 0),ua(this,"t0",void 0),ua(this,"p",void 0),this.path=e}areaStart(){this.line=0}areaEnd(){this.line=NaN}lineStart(){this.x0=this.x1=this.y0=this.y1=this.t0=NaN,this.p=0}lineEnd(){switch(this.p){case 2:this.path.moveTo(this.x1,this.y1);break;case 3:ga(this,this.t0,ma(this,this.t0))}(this.line||0!==this.line&&1===this.p)&&this.path.closePath(),this.line=1-this.line}point(e,t){let n=NaN;if(t=+t,(e=+e)!==this.x1||t!==this.y1){switch(this.p){case 0:this.p=1,this.line?this.path.lineTo(e,t):this.path.moveTo(e,t);break;case 1:this.p=2;break;case 2:this.p=3,ga(this,ma(this,n=pa(this,e,t)),n);break;default:ga(this,this.t0,n=pa(this,e,t))}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=t,this.t0=n}}}const ba=a.ZP.div(["color:rgba(0,0,0,0.8);display:flex;align-items:center;color:#9cb974;font-size:12px;font-weight:500;margin-bottom:5px;"]),ha=a.ZP.span(["margin-right:5px;font-size:14px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;"]),xa=a.ZP.div(["display:flex;align-items:center;justify-content:center;padding:0 7px;margin-left:1px;"]),Ea=(0,a.ZP)(xa)(["background:#323436;box-sizing:border-box;border-bottom:1px solid #92c7ef;"]),Aa=a.ZP.div(["background:url(",") no-repeat;width:15px;height:13px;position:relative;top:1px;background-size:contain;"],"data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDYuOTUgNS44NSI+PHBhdGggZD0iTTYuNTguMzhILjM4djEuMzloMi4yOXYzLjdoMS42di0zLjdoMi4zVi4zOFoiIHN0eWxlPSJmaWxsOndoaXRlIi8+PC9zdmc+Cg=="),ya=a.ZP.div(["display:flex;height:30px;"]),Ca=a.ZP.div(["background:#d9d9d9;font-size:12px;display:flex;justify-content:space-between;padding:5px 10px;line-height:1;color:rgba(0,0,0,0.8);border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;font-weight:bold;"]),Ma=a.ZP.div(["background:white;padding:13px 10px 5px;font-size:12px;line-height:1;"]),fa=a.ZP.div(["background:url(",") no-repeat;width:16px;height:16px;background-size:contain;flex:0 0 16px;"],"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9IiBmaWxsOiMwMDAwMDA7Ij4KICA8cGF0aCBmaWxsPSIjZmZmIgogICAgICAgIGQ9Ik0yMCAyNS4wMjZMNS4wMTEgMjUgNS4wMTIgMzcuNzQ0IDIwIDM5LjgxOHpNMjIgMjUuMDNMMjIgNDAuMDk1IDQyLjk5NSA0MyA0MyAyNS4wNjZ6TTIwIDguMjU2TDUgMTAuMzggNS4wMTQgMjMgMjAgMjN6TTIyIDcuOTczTDIyIDIzIDQyLjk5NSAyMyA0Mi45OTUgNXoiLz4KPC9zdmc+Cg=="),wa=a.ZP.div(["background:#000000;display:flex;justify-content:space-between;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-right:5px;height:30px;color:white;font-size:10px;align-items:center;"]),Na=a.ZP.div(["color:rgba(0,0,0,0.5);font-size:12px;margin-bottom:5px;"]),Da=a.ZP.div(["color:black;font-weight:bold;font-size:15px;margin:10px 0;"]),va=a.ZP.div(["color:black;font-size:13px;display:flex;justify-content:space-between;"]),ja=a.ZP.div(["margin-top:3px;font-size:11px;color:rgba(0,0,0,0.6);"]),Sa=a.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:13px;color:rgba(0,0,0,0.8);"]),ka=a.ZP.div(["font-size:10px;margin-bottom:10px;"]);function Ta(e){return r.createElement(r.Fragment,null,r.createElement(Ca,null,r.createElement("div",null,"Teleport"),r.createElement(p.X1q,{color:"black"})),r.createElement(Ma,null,r.createElement(ba,null,r.createElement(ha,null,"✔")," Teleport found this Desktop"),r.createElement(Da,null,e.computerName),r.createElement(o.kC,{justifyContent:"space-between"},r.createElement(ka,null,r.createElement(Na,null,"Operating System"),r.createElement(va,null,e.os),r.createElement(ja,null,e.osVersion)),r.createElement(ka,null,r.createElement(o.kC,{flexDirection:"column",alignItems:"flex-end"},r.createElement(Na,null,"Address"),r.createElement(Sa,null,e.address))))),r.createElement(wa,null,r.createElement(ya,null,r.createElement(xa,null,r.createElement(fa,null)),r.createElement(Ea,null,r.createElement(Aa,null))),r.createElement("div",null,function(){const e=new Date;return`${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`}())))}const za=(0,a.F4)(["from{opacity:0;}to{opacity:1;}"]),Za=a.ZP.div(["margin-bottom:30px;"]),Oa=a.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.4);position:relative;animation:"," 0.9s ease-in 1s forwards;box-shadow:0 10px 20px 0 rgba(0,0,0,0.3);min-width:330px;max-width:500px;display:flex;flex-direction:column;justify-content:center;opacity:0;"],za);function Pa(e){const t=(0,r.useRef)(),[n,a]=(0,r.useState)(null);let o;return(0,r.useLayoutEffect)((()=>{e.desktopServiceElement&&t.current&&e.containerElement&&a(function(e,t,n){if(!t||!e||!n)return null;const r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=a.left-r.right,l=new ca,s=new Ia(l);s.lineStart();const c=a.top-o.top+a.height/2-1,u=r.top-o.top+r.height/2;return s.point(0,u-8),s.point(40,u-8),s.point(i-10,c+2),s.point(i,c+2),s.lineEnd(),{width:i,height:o.height,path:l.path}}(e.desktopServiceElement,t.current,e.containerElement))}),[e.desktopServiceElement&&t.current&&e.containerElement]),n&&(o=r.createElement(la,{width:n.width,height:n.height},r.createElement("path",{d:n.path}))),r.createElement(Za,{ref:t},o,r.createElement(Oa,null,r.createElement(Ta,{os:e.os,osVersion:e.osVersion,address:e.address,computerName:e.computerName})))}const La=a.ZP.div(["width:80px;height:16px;padding:0 7px;box-sizing:border-box;background:#f5e6fe;margin-bottom:8px;border-radius:5px;display:flex;align-items:center;position:relative;z-index:5;"]),Ua=a.ZP.div(["display:flex;align-items:center;"]),Qa=(0,a.F4)(["46%{opacity:1;}50%{opacity:0;}54%{opacity:1;}"]),Ya=(0,a.F4)(["27%{opacity:1;}30%{opacity:0;}33%{opacity:1;}"]),Ra=(0,a.F4)(["68%{opacity:1;}70%{opacity:0;}72%{opacity:1;}"]),Ga=a.ZP.div(["width:6px;height:6px;border-radius:50%;margin-right:5px;"]),Ba=(0,a.ZP)(Ga)(["background:#31c842;"]),Va=(0,a.ZP)(Ba)(["animation:"," 8s step-start 0s infinite;"],Qa),Wa=(0,a.ZP)(Ba)(["animation:"," 10s step-start 0s infinite;"],Ya),Ha=(0,a.ZP)(Ba)(["animation:"," 12s step-start 0s infinite;"],Ra),Fa=a.ZP.div(["display:flex;flex:1;align-items:flex-end;flex-direction:column;"]),Ja=a.ZP.div(["height:3px;border-radius:5px;background:rgba(0,0,0,0.4);margin-left:5px;overflow:hidden;"]),Ka=a.ZP.div(["display:flex;justify-content:space-between;margin-bottom:2px;"]);function Xa(e){return r.createElement(La,null,r.createElement(Ua,null,e.light),r.createElement(Fa,null,r.createElement(Ka,null,r.createElement(Ja,{style:{width:5}}),r.createElement(Ja,{style:{width:30}})),r.createElement(Ja,{style:{width:20}})))}const qa=(0,a.F4)(["0%{box-shadow:0 0 0 0 rgba(255,255,255,0),0 0 0 40px rgba(255,255,255,0.18);}100%{box-shadow:0 0 0 40px rgba(255,255,255,0.18),0 0 0 40px rgba(204,233,251,0);}"]),$a=a.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;justify-content:center;height:82px;"]),_a=a.ZP.div(["animation:"," 1.5s linear infinite;border-radius:50%;width:100px;height:100px;position:absolute;z-index:-1;top:50%;left:50%;transform:translate(-50%,calc(-50% - 10px));&::after{z-index:0;border-radius:50%;position:absolute;content:'';display:block;width:100px;height:100px;background:rgba(34,44,89,1);transform:scale(1);}"],qa);function eo(e){return r.createElement($a,{ref:e.desktopServiceRef},r.createElement(_a,null),r.createElement(Xa,{light:r.createElement(Va,null)}))}const to=a.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;"]);function no(){return r.createElement(to,null,r.createElement(Xa,{light:r.createElement(Va,null)}),r.createElement(Xa,{light:r.createElement(Wa,null)}),r.createElement(Xa,{light:r.createElement(Ha,null)}))}const ro=a.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:12px;color:rgba(255,255,255,0.7);"]),ao=a.ZP.div(["font-size:16px;"]),oo=a.ZP.div(["height:92px;margin-bottom:15px;"]),io=a.ZP.div(["display:inline-flex;position:relative;"]),lo=a.ZP.div(["position:absolute;height:94px;width:257px;top:0;left:125px;right:121px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;"]);function so(){return r.createElement(lo,null,r.createElement(oa,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})),r.createElement(ia,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})))}const co=a.ZP.div(["width:250px;display:flex;align-items:center;flex-direction:column;"]);function uo(e){const t=function(){const{hostname:e,port:t}=window.location;return"443"!==t&&t?`${e}:${t}`:e}();return r.createElement("div",null,r.createElement(io,null,r.createElement(so,null),r.createElement(co,null,r.createElement(oo,null,r.createElement(no,null)),r.createElement(ao,null,"Teleport Proxy"),r.createElement(ro,null,t)),r.createElement(co,null,r.createElement(oo,null,r.createElement(eo,{desktopServiceRef:e.desktopServiceRef})),r.createElement(ao,null,"Desktop Service"),r.createElement(ro,null,e.result&&e.result.hostname))))}var mo=n(6828),go=n(7885);const po=a.ZP.div(["margin-top:120px;margin-left:-40px;display:flex;"]),Io=a.ZP.div(["margin-top:100px;"]),bo=a.ZP.div(["position:relative;margin-left:125px;margin-top:-43px;"]),ho=(0,a.F4)(["from{opacity:0;}to{opacity:1;}"]),xo=a.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.8);border-radius:10px;box-shadow:0 10px 15px rgba(0,0,0,0.5);background:white;position:relative;animation:"," 0.9s ease-in 1s forwards;display:flex;flex-direction:column;justify-content:center;padding:10px 10px 10px 15px;opacity:0;width:240px;"],ho),Eo=(0,a.ZP)(go.OL)(["background:#0091ea;color:white;border-radius:5px;margin-top:10px;text-decoration:none;padding:3px 10px;text-align:center;cursor:pointer;&:hover{background:#4db2f0;}"]),Ao=a.ZP.div(["color:#f50057;font-weight:bold;font-size:16px;"]);function yo(e){return r.createElement(Jt,{timeout:3e5},r.createElement(tn,{timeout:6e5,interval:3e3,resourceKind:ze.Desktop},e.children))}const Co=[Rt,Wt,jn,Sn,{kind:ze.Desktop,icon:r.createElement(p.Hi7,null),wrapper:e=>r.createElement(yo,null,e),shouldPrompt:e=>0!==e&&e<3,views:[{title:"Select Resource"},{title:"Install Active Directory",component:Vt},{title:"Connect Teleport",component:function(e){const[t,n]=(0,r.useState)(Jr.RunConfigureScript),a=Xr.find((e=>e.kind===t));let o;return null!==a.animation&&(o=r.createElement(ta,null,r.createElement(ea,null,r.createElement(kn.Z,{mode:"out-in"},r.createElement(Tn.ZP,{key:a.animation,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(e=>r.createElement("div",{style:Hr(Hr({},qr),$r[e])},a.animation===Kr.RunCommand&&r.createElement(r.Suspense,{fallback:r.createElement(Yn,{title:"Terminal"})},r.createElement(dr,{isCopying:a.kind===Jr.CopyOutput})),a.animation===Kr.CreateConfig&&r.createElement(Tr,null),a.animation===Kr.StartTeleport&&r.createElement(Lr,null)))))))),r.createElement(Rn,null,r.createElement(kn.Z,{mode:"out-in"},r.createElement(Tn.ZP,{key:t,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(a=>r.createElement("div",{style:Hr(Hr({},qr),_r[a])},t===Jr.RunConfigureScript&&r.createElement(r.Suspense,{fallback:r.createElement(Fn,null)},r.createElement(Hn,{onNext:()=>n(Jr.CopyOutput)})),t===Jr.CopyOutput&&r.createElement(Qr,{onNext:()=>n(Jr.CreateConfig)}),t===Jr.CreateConfig&&r.createElement(Yr,{onNext:()=>n(Jr.StartTeleport)}),t===Jr.StartTeleport&&r.createElement(Br,{onNext:()=>e.nextStep()}))))),o)}},{title:"Discover Desktops",component:function(e){const t=(0,R.Z)(),{result:n}=nn(),[a,i]=(0,r.useState)(!0),{clusterId:l}=(0,mo.Z)(),{timedOut:s,result:c}=Ht((e=>t.desktopService.fetchDesktops(l,{limit:14},e)),6e5,a,3e3),u=(0,r.useRef)(null);(0,r.useEffect)((()=>{a&&c&&14===c.agents.length&&i(!1)}),[a,c]);const d=(0,r.useRef)(),g=[];if(c&&c.agents){const e=c.agents.filter((e=>e.host_id===n.name));if(e.length)for(const t of e.values()){const e=t.labels.find((e=>"teleport.dev/os"===e.name)).value,n=t.labels.find((e=>"teleport.dev/os_version"===e.name)).value;g.push({os:e,osVersion:n,computerName:t.name,address:t.addr})}}let p;if(s)p=r.createElement(xo,null,r.createElement(Ao,null,"Oh no!")," We could not find any Desktops. Connect Desktops to your Active Directory for Teleport to automatically discover them.");else{const e=g.slice(0,3).map(((e,t)=>r.createElement(Pa,{key:t,index:t,os:e.os,osVersion:e.osVersion,computerName:e.computerName,address:e.address,desktopServiceElement:u.current,containerElement:d.current}))),t=g.length-3;let n;if(t>0){let e="1",a="Desktops";1===t?a="Desktop":e=t>11?"10+":`${t}`,n=r.createElement(xo,{key:"view-more"},"We've found ",e," more ",a,"."," ",r.createElement(Eo,{to:m.Z.getDesktopsRoute(l)},"View them all here"))}p=r.createElement(r.Fragment,null,e,n)}return r.createElement(o.xu,null,r.createElement(we,null,"Discover Desktops"),r.createElement(o.xv,null,"We're discovering Desktops that are already connected to your Active Directory."),r.createElement(po,{ref:d},r.createElement(uo,{result:n,desktopServiceRef:u}),r.createElement(bo,null,p)),r.createElement(Io,null,r.createElement(o.DF,{width:"165px",mr:3,onClick:()=>e.nextStep()},"Finish")))}},{title:"Finished",component:Se,hide:!0}]}];function Mo(e){var t;const n=(0,et.Z)(e),a=(0,l.TH)(),[o,i]=(0,r.useState)(0),[s,c]=(0,r.useState)(function(e){switch(e){case"application":return ze.Application;case"database":return ze.Database;case"desktop":return ze.Desktop;case"kubernetes":return ze.Kubernetes;default:return ze.Server}}(null==a||null===(t=a.state)||void 0===t?void 0:t.entity)),[u,d]=(0,r.useState)(),m=Co.find((e=>e.kind===s)),g=(0,r.useMemo)((()=>A(m.views)),[m.views]);return{agentMeta:u,alerts:n.alerts,currentStep:o,customBanners:n.customBanners,dismissAlert:n.dismissAlert,initAttempt:{status:n.status,statusText:n.statusText},logout:function(){_e.Z.logout()},nextStep:function(){y(g,o+1)&&i(o+1)},prevStep:function(){y(g,o-1)&&i(o-1)},onSelectResource:function(e){c(e)},selectedResource:m,selectedResourceKind:s,updateAgentMeta:function(e){d(e)},views:g}}const fo=["alerts","initAttempt","customBanners","dismissAlert","currentStep","selectedResource","onSelectResource","logout","views"];function wo(e){const t=Mo({initialAlerts:e.initialAlerts,customBanners:e.customBanners}),{alerts:n,initAttempt:a,customBanners:p,dismissAlert:I,currentStep:b,selectedResource:h,onSelectResource:x,logout:E,views:A}=t,C=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,fo);let M;if(b>0){const e=y(A,b).component;M=r.createElement(e,C),h.wrapper&&(M=h.wrapper(M))}else M=r.createElement(Je,{selectedResourceKind:h.kind,onSelect:e=>x(e),onNext:()=>C.nextStep()});const f=n.map((e=>{return{message:e.spec.message,severity:(t=e.spec.severity,t<5?"info":t<10?"warning":"danger"),link:e.metadata.labels[g.F],id:e.metadata.name};var t}));return r.createElement(d.t,{banners:f,customBanners:p,onBannerDismiss:I},r.createElement(No,null,r.createElement(l.NL,{message:e=>e.pathname===m.Z.routes.discover||"Are you sure you want to exit the “Add New Resource” workflow? You’ll have to start from the beginning next time.",when:h.shouldPrompt(b)}),"processing"===a.status&&r.createElement(s.StyledIndicator,null,r.createElement(o.z$,null)),"failed"===a.status&&r.createElement(i.b0,null,a.statusText),"success"===a.status&&r.createElement(r.Fragment,null,r.createElement(T,{views:A,currentStep:b,selectedResource:h}),r.createElement(s.HorizontalSplit,null,r.createElement(s.ContentMinWidth,null,r.createElement(c.T,null,r.createElement(o.xv,{typography:"h5",bold:!0},"Manage Access"),r.createElement($e,{logout:E})),r.createElement(u.Ob,{pt:4,maxWidth:"1450px"},M))))))}const No=(0,a.ZP)(s.MainContainer)(["--sidebar-width:280px;"])},7067:(e,t,n)=>{n.d(t,{Ob:()=>d,OX:()=>c,u4:()=>u,E2:()=>m});var r=n(917),a=n(7849),o=n(135);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,r.ZP)(a.kC)(["flex-shrink:0;border-bottom:1px solid ",";height:56px;margin-left:-40px;margin-right:-40px;padding-left:40px;padding-right:40px;"],(e=>e.theme.colors.primary.main));c.defaultProps={alignItems:"center",mb:4};const u=(0,r.ZP)(a.xv)(["white-space:nowrap;"]);u.defaultProps=l(l({},a.xv.defaultProps),{},{typography:"h3"});const d=(0,r.ZP)(a.kC)(["width:100%;height:100%;flex-direction:column;::after{content:' ';padding-bottom:24px;}"]);d.defaultProps={theme:o.Z,px:6},r.ZP.div(["position:absolute;width:100%;height:100%;display:flex;"]),r.ZP.div(["display:flex;flex-direction:column;width:100%;"]);const m=r.ZP.button(["color:",";cursor:pointer;display:inline-flex;font-size:14px;padding:12px 40px;position:relative;text-decoration:none;font-weight:500;&:hover{background:",";}&.active{color:",";}&.active:after{background-color:",";content:'';position:absolute;bottom:0;left:0;width:100%;height:4px;}"],(e=>e.theme.colors.text.secondary),(e=>e.active?e.theme.colors.primary.light:"rgba(255, 255, 255, .06)"),(e=>e.theme.colors.light),(e=>e.theme.colors.accent))},1347:(e,t,n)=>{n.d(t,{r:()=>d,Z:()=>x});var r=n(2784),a=n(5070),o=n(3388),i=n(7849),l=n(917);const s=["text","fontFamily","allowMultiline","onCopy","bash"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=n(3757);function d(e){var t,n;let{lines:l,bash:s=!0}=e;const c=(0,r.useRef)([]),d=null===(t=window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toLowerCase().includes("firefox");return r.createElement(b,{bg:"bgTerminal",pl:3,pt:2,pr:7,borderRadius:2,pb:d?3:2},r.createElement(I,{mr:1},l.map(((e,t)=>{const n=t===l.length-1;return r.createElement(i.xu,{pt:2,pb:n?0:2,key:t,ref:e=>c.current[t]=e},e.comment&&r.createElement(g,null,e.comment),r.createElement(i.kC,null,r.createElement(i.kC,null,s&&r.createElement(i.xu,{mr:"1"},"$"),r.createElement("div",{className:"text-to-copy"},e.text)),r.createElement(h,{pr:3},r.createElement(p,{onClick:()=>function(e){(0,a.Z)(l[e].text).then((()=>{const t=c.current[e].getElementsByClassName("icon-container")[0];t.classList.toggle("copied"),setTimeout((()=>{t.classList.toggle("copied")}),1e3)}));const t=c.current[e].getElementsByClassName("text-to-copy")[0];(0,o.Z)(t)}(t)},r.createElement(m,{className:"icon-container"},r.createElement(u.CKM,{"data-testid":"btn-copy"}),r.createElement(u.JrY,{"data-testid":"btn-check"}))))))}))))}const m=l.ZP.div([".icon-check{display:none;}.icon-copy{display:block;}&.copied{.icon-check{display:block;}.icon-copy{display:none;}}"]),g=l.ZP.div(["color:rgb(117 113 94 / 80%);"]),p=(0,l.ZP)(i.PL)(["height:28px;width:28px;border-radius:20px;min-height:auto;padding:0;margin-top:-4px;"]),I=(0,l.ZP)(i.xu)(["white-space:pre;word-break:break-all;font-size:12px;font-family:",";overflow:scroll;line-height:20px;"],(e=>{let{theme:t}=e;return t.fonts.mono}));var b=(0,l.ZP)(i.xu)({position:"relative"}),h=(0,l.ZP)(i.xu)(["position:absolute;right:0px;"]);const x=function(e){let{text:t,fontFamily:n,allowMultiline:u,onCopy:d,bash:m=!0}=e,g=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);const p=n||(0,l.Fg)().fonts.mono,I=r.useRef(),[b,h]=r.useState((()=>"Copy")),x=m&&!u?{overflow:"auto",whiteSpace:"pre",wordBreak:"break-all",fontSize:"12px",fontFamily:p}:{wordBreak:"break-all",fontSize:"12px",fontFamily:p};return r.createElement(i.kC,c({bg:"bgTerminal",p:"2",alignItems:"center",justifyContent:"space-between",borderRadius:2},g),r.createElement(i.kC,{mr:"2",style:x},m&&r.createElement(i.xu,{mr:"1",style:{userSelect:"none"}},"$"),r.createElement("div",{ref:I},t)),r.createElement(i.DF,{onClick:function(){(0,a.Z)(t).then((()=>h("Copied"))),(0,o.Z)(I.current),d&&d()},style:{maxWidth:"48px",width:"100%",padding:"4px 8px",minHeight:"10px",fontSize:"10px"}},b))}},3228:(e,t,n)=>{n.d(t,{ES:()=>i,Kp:()=>a,RB:()=>r,Sl:()=>o});const r=e=>{const t=document.createElement("a");t.setAttribute("href",`${e}`),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;const n=t.encode(e),r=await crypto.subtle.digest("SHA-256",n),a=Array.from(new Uint8Array(r)),o=a.map((e=>e.toString(16).padStart(2,"0"))).join("");return o}function o(e){let{authType:t,clusterId:n,username:r,accessRequestId:a}=e;const{hostname:o,port:i}=window.location;return`tsh login --proxy=${o}:${i||"443"} ${"local"===t?`--auth=${t} --user=${r} `:""}${n}${a?` --request-id=${a}`:""}`}function i(e,t){return e&&t?e.filter((e=>!t.includes(e))):[]}},2010:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTMwcHgiIGhlaWdodD0iMTM3cHgiIHZpZXdCb3g9IjAgMCAxMzAgMTM3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dGVsZXBvcnQgbWVkYWxsaW9uIDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxRTI3NTEiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzBDMTQzRCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjAlIiB5MT0iMy4zNDk2MDkzNyUiIHgyPSIxMDAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzg0OUI1IiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTIzN0UiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGNpcmNsZSBpZD0icGF0aC0zIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU3LjUiPjwvY2lyY2xlPgogICAgICAgIDxmaWx0ZXIgeD0iLTcuMCUiIHk9Ii03LjAlIiB3aWR0aD0iMTEzLjklIiBoZWlnaHQ9IjExNy40JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTQiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSI0IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4yNCAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIyIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjIiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMiIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIyIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4xMiAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIyIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMiI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjIiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii0xMDYuOSUiIHk9Ii0xMDEuMyUiIHdpZHRoPSIzMTMuOSUiIGhlaWdodD0iMzAyLjYlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItNSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjgiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjE2IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjI0IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9Ijc5LjM5ODYwMDMlIiB5MT0iLTg1LjM5ODE3MTIlIiB4Mj0iMTMuNDYwMjg2NSUiIHkyPSIxOTEuOTY2NjY0JSIgaWQ9ImxpbmVhckdyYWRpZW50LTYiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iMTguMjI2OTA5MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U4RUFGNiIgc3RvcC1vcGFjaXR5PSIwLjI0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxmaWx0ZXIgeD0iLTEwNi45JSIgeT0iLTEwMS4zJSIgd2lkdGg9IjMxMy45JSIgaGVpZ2h0PSIzMDIuNiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci03Ij4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iOCIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMTYiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMjQgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlRlbGVwb3J0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iVGVsZXBvcnQtLS1Mb2dpbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY1Ni4wMDAwMDAsIC00My4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0idGVsZXBvcnQtbWVkYWxsaW9uLSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY0LjAwMDAwMCwgNDcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbCI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTQpIiB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIHN0cm9rZT0idXJsKCNsaW5lYXJHcmFkaWVudC0yKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InNxdWFyZSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU2LjUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci01KSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci03KSIgb3BhY2l0eT0iMC40NDA3Nzg0NiIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="}}]);