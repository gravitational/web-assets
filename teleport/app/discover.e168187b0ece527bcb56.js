"use strict";(self.webpackChunk_gravitational_teleport=self.webpackChunk_gravitational_teleport||[]).push([[23],{5070:(e,t,n)=>{function r(e){return navigator.clipboard.writeText(e).catch((e=>{window.prompt("Cannot copy to clipboard. Use ctrl/cmd + c",e)}))}n.d(t,{Z:()=>r})},3388:(e,t,n)=>{function r(e){let t,n;window.getSelection&&document.createRange&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}n.d(t,{Z:()=>r})},1271:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(917),o=n(2784),a=n(7849),i=n(8197),l=n(7038);const s=["label","labelTip","value","options","onChange","placeholder","maxMenuHeight","isClearable","isMulti","menuPosition","rule","isSearchable","isSimpleValue","autoFocus","isDisabled"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=()=>()=>({valid:!0}),d=e=>{let{text:t}=e;return o.createElement(m,null,` - ${t}`)};var m=(0,r.ZP)("span")({fontWeight:"normal",textTransform:"none"});const p=function(e){let{label:t,labelTip:n,value:r,options:m,onChange:p,placeholder:g,maxMenuHeight:b,isClearable:h,isMulti:I,menuPosition:E,rule:x=u,isSearchable:f=!1,isSimpleValue:y=!1,autoFocus:A=!1,isDisabled:C=!1}=e,M=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);const{valid:w,message:D}=(0,i.kQ)(x(r)),N=Boolean(!w),v=N?D:t;return o.createElement(a.xu,c({mb:"4"},M),t&&o.createElement(a.SO,{htmlFor:"select",hasError:N},v,n&&o.createElement(d,{text:n})),o.createElement(l.ZP,{inputId:"select",menuPosition:E,hasError:N,isSimpleValue:y,isSearchable:f,isClearable:h,value:r,onChange:p,options:m,maxMenuHeight:b,placeholder:g,isMulti:I,autoFocus:A,isDisabled:C}))}},4221:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(2784),o=n(8069),a=n.n(o);n(8170),n(8074),n(6110),n(997);const i=n(917).ZP.div(["overflow:hidden;border-radius:4px;flex:1;display:flex;position:relative;border:none;background:",";.ace-monokai{background:",";}.ace-monokai .ace_gutter,.ace-monokai .ace_gutter-cell{color:rgba(255,255,255,0.56);background:",";}> .ace_editor{position:absolute;top:8px;right:0px;bottom:0px;left:0px;}"],(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal)),{UndoManager:l}=a().require("ace/undomanager");class s extends r.Component{constructor(){var e,t;super(...arguments),t=()=>{const e=this.editor.session.getUndoManager().isClean();this.props.onDirty&&this.props.onDirty(!e);const t=this.editor.session.getValue();this.props.onChange&&this.props.onChange(t)},(e="onChange")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}getData(){return this.sessions.map((e=>e.getValue()))}componentDidUpdate(e){e.activeIndex!==this.props.activeIndex&&this.setActiveSession(this.props.activeIndex),this.editor.resize()}createSession(e){let{content:t,type:n,tabSize:r=2}=e;const o="json"===n?"ace/mode/json":"ace/mode/yaml";let i=new(a().EditSession)(t),s=new l;return s.markClean(),i.setUndoManager(s),i.setUseWrapMode(!1),i.setOptions({tabSize:r,useSoftTabs:!0,useWorker:!1}),i.setMode(o),i}setActiveSession(e){let t=this.sessions[e];t||(t=this.createSession({content:""})),this.editor.setSession(t),this.editor.focus()}initSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.isDirty=!1,this.sessions=e.map((e=>this.createSession(e))),this.setActiveSession(0)}componentDidMount(){const{data:e,readOnly:t,theme:n="ace/theme/monokai"}=this.props;this.editor=a().edit(this.ace_viewer),this.editor.setFadeFoldWidgets(!0),this.editor.setWrapBehavioursEnabled(!0),this.editor.setHighlightActiveLine(!1),this.editor.setShowInvisibles(!1),this.editor.renderer.setShowGutter(!1),this.editor.renderer.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!0),this.editor.on("input",this.onChange),this.editor.setReadOnly(t),this.editor.setTheme(n),this.initSessions(e),this.editor.focus()}componentWillUnmount(){this.editor.destroy(),this.editor=null,this.session=null}render(){return r.createElement(i,null,r.createElement("div",{ref:e=>this.ace_viewer=e}))}}const c=s},5428:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fi});var r=n(2784),o=n(917),a=n(7849),i=n(9124),l=n(4517),s=n(6735),c=n(2545),u=n(7067),d=n(9182),m=n(7278),p=n(3298),g=n(3757),b=n(161);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){let t=0;for(const n of e)n.views?t+=x(n.views):t+=1;return t}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];for(const r of e){const e=I(I({},r),{},{index:t,parent});r.views?(e.views=f(r.views,t),t+=x(r.views)):t+=1,n.push(e)}return n}function y(e,t){for(const n of e){if(n.views){const e=y(n.views,t);if(e)return e}if(t===n.index)return n}}function A(e,t){for(const n of e){if(n.index===t)return!0;if(n.views&&A(n.views,t))return!0}return!1}function C(e){if(e.view.hide)return null;let t,n=e.currentStep===e.view.index;e.view.views&&(t=r.createElement(a.xu,{ml:2},r.createElement(j,{views:e.view.views,currentStep:e.currentStep})),n||(n=A(e.view.views,e.currentStep)));const o=e.currentStep>e.view.index;return r.createElement(v,{active:o||n},r.createElement(M,null,function(e,t){return t?r.createElement(D,null):e?r.createElement(N,null):r.createElement(w,null)}(o,n),e.view.title),t)}const M=o.ZP.div(["display:flex;align-items:center;"]),w=o.ZP.span(["height:14px;width:14px;border:1px solid #9b9b9b;border-radius:50%;margin-right:8px;display:flex;align-items:center;justify-content:center;"]),D=(0,o.ZP)(w)(["border-color:",";background:",";:before{content:'';height:8px;width:8px;border-radius:50%;border:2px solid ",";}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.primary.main)),N=(0,o.ZP)(w)(["border-color:",";background:",";:before{content:'✓';}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main)),v=(0,o.ZP)(a.xv)(["display:flex;flex-direction:column;color:",";margin-bottom:8px;"],(e=>e.active?"inherit":e.theme.colors.text.secondary));function j(e){const t=e.views.map(((t,n)=>r.createElement(C,{key:n,view:t,currentStep:e.currentStep})));return r.createElement(a.xu,{style:{marginLeft:7},mt:2},t)}const S=(0,o.ZP)(b.JL)(["min-width:var(--sidebar-width);width:var(--sidebar-width);"]),k=(0,o.ZP)(b.VY)(["padding:0 20px;"]);function T(e){let t;return e.views&&(t=r.createElement(j,{views:e.views,currentStep:e.currentStep})),r.createElement(S,null,r.createElement(b.TR,null),r.createElement(k,null,r.createElement(z,{border:"1px solid rgba(255,255,255,0.1);",borderRadius:"8px",p:3},r.createElement(a.kC,{alignItems:"center"},r.createElement(a.kC,{borderRadius:5,alignItems:"center",justifyContent:"center",bg:"secondary.main",height:"30px",width:"30px",mr:2},e.selectedResource?e.selectedResource.icon:r.createElement(g.xFH,null)),r.createElement(a.xv,{bold:!0},"Add New Resource")),r.createElement(a.xu,{mt:3},t))))}var z=(0,o.ZP)(a.xu)({backgroundColor:"rgba(255,255,255,0.02);"});const O=o.ZP.div(["position:relative;"]),Z=o.ZP.label(["cursor:pointer;display:flex;justify-content:center;padding:10px;width:","%;z-index:1;"],(e=>100/e.itemCount)),P=o.ZP.input(["display:none;"]),L=o.ZP.div(["background-color:#512fc9;border-radius:",";box-shadow:0px 2px 6px rgba(12,12,14,0.1);height:",";left:calc(","% + 8px);margin:",";position:absolute;top:0;transition:all 0.3s ease;width:calc(","% - 16px);"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"56px":"40px"),(e=>100/e.itemCount*e.activeIndex),(e=>"xlarge"===e.size?"12px 12px 12px 0":"4px 4px 4px 0"),(e=>100/e.itemCount)),U=o.ZP.nav(["align-items:center;background-color:rgba(255,255,255,0.05);border-radius:",";display:flex;height:",";justify-content:space-around;"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"80px":"47px")),Q=function(e){let{appearance:t="square",initialSelected:n=0,name:o="slide-tab",onChange:a,size:i="xlarge",tabs:l}=e;const[s,c]=(0,r.useState)(n);return(0,r.useEffect)((()=>{a(s)}),[s]),r.createElement(O,null,r.createElement(U,{role:"tablist",appearance:t,size:i},l.map(((e,t)=>{const n="string"==typeof e,a=n?e:e.name,i=n?e:e.component;return r.createElement(Z,{role:"tab",htmlFor:`${o}-${a}`,onClick:()=>c(t),itemCount:l.length,key:`${a}-${t}`},i,r.createElement(P,{type:"radio",name:o,id:`${o}-${a}`}))}))),r.createElement(L,{itemCount:l.length,activeIndex:s,appearance:t,size:i}))};var R=n(9161),Y=n(2398);function G(e){return r.createElement(B,{ml:"4",typography:"h5",key:e.title,active:e.active,onClick:e.onClick},r.createElement(g.ZPm,{as:e.Icon,mr:"2"}),e.title)}const B=(0,o.ZP)(a.xv)(["align-items:center;display:flex;padding:4px 8px;cursor:pointer;border-bottom:4px solid transparent;",""],(e=>{let{active:t,theme:n}=e;return t&&`\n    font-weight: 500;\n    border-bottom: 4px solid ${n.colors.accent};\n  `}));var W=n(1347);const V="https://get.gravitational.com/";function H(e,t,n){let r="linux-amd64";const o=n?"ent-":"";return"mac"===e?`${V}teleport-${o}${t}.pkg`:("linux32"===e&&(r="linux-386"),`${V}teleport-${o}v${t}-${r}-bin.tar.gz`)}const F=function(e){let{isEnterprise:t,version:n}=e;return r.createElement(a.xu,null,r.createElement(a.rU,{href:H("mac",n,t),target:"_blank",mr:"2"},"MacOS"),r.createElement(a.rU,{href:H("linux64",n,t),target:"_blank",mr:"2"},"Linux 64-bit"),r.createElement(a.rU,{href:H("linux32",n,t),target:"_blank"},"Linux 32-bit"))},J=`${m.Z.configDir}/app_config.yaml`,K=`teleport start --config=${J}`;function X(e,t){return`teleport configure --output=${J} --app-name=[example-app] --app-uri=http://localhost/ --roles=app --token=${e} --proxy=${t} --data-dir=${m.Z.configDir}`}const q=e=>{let{tshLoginCmd:t,host:n}=e;return r.createElement(r.Fragment,null,r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(W.Z,{mt:"2",text:t})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(W.Z,{mt:"2",text:"tctl tokens add --type=app"})),r.createElement(a.xu,{mb:"4"},r.createElement(a.xv,{bold:!0,as:"span"},"Step 4")," - Configure your teleport agent",r.createElement(W.Z,{mt:"2",text:X("[generated-join-token]",n)})),r.createElement(a.xu,null,r.createElement(a.xv,{bold:!0,as:"span"},"Step 5")," - Start the Teleport agent with the generated configuration file",r.createElement(W.Z,{mt:"2",text:K})),r.createElement(a.xu,null,"* Note: For a self-hosted Teleport version, you may need to update DNS and obtain a TLS certificate for this application.\n            Learn more about application access ",r.createElement(a.rU,{href:"https://goteleport.com/docs/application-access/introduction/",target:"_blank"},"here"),"."))},$=e=>{let{token:t,host:n,createToken:o}=e;return r.createElement(r.Fragment,null,r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 2")," - Configure your teleport agent",r.createElement(a.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(a.xv,{bold:!0,as:"span"},t.expiryText,".")),r.createElement(W.Z,{mt:"2",text:X(t.id,n)}),r.createElement(a.xu,null,r.createElement(a.ZP,{onClick:o},"Regenerate Token"))),r.createElement(a.xu,null,r.createElement(a.xv,{bold:!0,as:"span"},"Step 3")," - Start the Teleport agent with the configuration file",r.createElement(W.Z,{mt:"2",text:K})))},_=function(e){let{isEnterprise:t,user:n,version:o,onClose:i,isAuthTypeLocal:l,token:s,createToken:c,attempt:u}=e;const{hostname:d,port:m}=window.document.location,p=`${d}:${m||"443"}`;let g=`tsh login --proxy=${p}`;return l&&(g=`${g} --auth=local --user=${n}`),"processing"===u.status?r.createElement(a.xu,{textAlign:"center"},r.createElement(a.z$,null)):r.createElement(r.Fragment,null,r.createElement(R.cZ,{flex:"0 0 auto"},r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 1")," ","- Download Teleport package to your computer",r.createElement(F,{isEnterprise:t,version:o})),"failed"===u.status?r.createElement(q,{host:p,tshLoginCmd:g}):r.createElement($,{createToken:c,host:p,token:s})),r.createElement(R.cN,null,r.createElement(a.PL,{onClick:i},"Close")))};var ee=n(8197),te=n(2030);const ne=/^[-\w/:. ]+$/,re=e=>()=>{if(!e)return{valid:!1,message:"Required"};try{new URL(e)}catch{return{valid:!1,message:"URL is invalid"}}return e.match(ne)?{valid:!0}:{valid:!1,message:"Invalid app URI"}},oe=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,ae=e=>()=>e&&0!==e.length?e.length>63?{valid:!1,message:"Must be 63 chars or less"}:e.match(oe)?{valid:!0}:{valid:!1,message:"Invalid DNS sub-domain name"}:{valid:!1,message:"Required"},ie=(e,t,n)=>{const r=encodeURIComponent(n).replace(/'/g,"%27");return`sudo bash -c "$(curl -fsSL '${m.Z.baseUrl+m.Z.api.appNodeScriptPath.replace(":token",e).replace(":name",t).replace(":uri",r)}')"`},le=function(e){const{onClose:t,attempt:n,token:o}=e,[i,l]=r.useState(""),[s,c]=r.useState(""),[u,d]=r.useState("");function m(t){t.validate()&&e.onCreate(i,s)}function p(e){if(!e.validate())return;const t=ie(o.id,i,s);d(t)}function g(e,t){"Enter"===e.key&&(u?m(t):p(t))}return r.useEffect((()=>{if(i&&s){const e=ie(o.id,i,s);d(e)}}),[o]),r.createElement(ee.ZP,null,(e=>{let{validator:d}=e;return r.createElement(r.Fragment,null,r.createElement(R.cZ,{minHeight:"254px",flex:"0 0 auto"},r.createElement(a.kC,{alignItems:"center",flexDirection:"row"},r.createElement(te.Z,{rule:ae,label:"App Name",autoFocus:!0,value:i,placeholder:"jenkins",width:"320px",mr:"3",onKeyPress:e=>g(e,d),onChange:e=>l(e.target.value.toLowerCase())}),r.createElement(te.Z,{rule:re,label:"INTERNAL APPLICATION URL",width:"100%",value:s,placeholder:"https://localhost:4000",onKeyPress:e=>g(e,d),onChange:e=>c(e.target.value)})),!u&&r.createElement(a.xv,{mb:"3"},"Teleport can automatically set up application access. Provide the name and URL of your application to generate our auto-installer script.",r.createElement(a.xv,{mt:"2"},"The script will install the Teleport agent to provide secure access to your application.")),"failed"===n.status&&r.createElement(a.bZ,{kind:"danger",children:n.statusText}),u&&r.createElement(r.Fragment,null,r.createElement(a.xv,{mb:"3"},"Use the script below to add an application to your cluster."," ","The script will be valid for",r.createElement(a.xv,{bold:!0,as:"span"},` ${o.expiryText}`,"."),function(){const e=`https://${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}.${window.location.host}`;return r.createElement(a.xv,null,"This app will be available on ","  ",r.createElement(a.rU,{target:"_blank",href:e},`${e}`))}(i)),r.createElement(W.Z,{text:u,mb:2}))),r.createElement(R.cN,null,!u&&r.createElement(a.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>p(d)},"Generate Script"),u&&r.createElement(a.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>m(d)},"Regenerate"),r.createElement(a.PL,{disabled:"processing"===n.status,onClick:t},"Close")))}))};var se=n(4696);function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function ue(e){let{user:t,onClose:n,createToken:o,isEnterprise:i,version:l,attempt:s,automatic:c,setAutomatic:u,isAuthTypeLocal:d,token:m}=e;return r.createElement(R.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%",minHeight:"330px"}),disableEscapeKeyDown:!1,onClose:n,open:!0},r.createElement(a.kC,{flex:"1",flexDirection:"column"},r.createElement(a.kC,{alignItems:"center",justifyContent:"space-between",mb:"4"},r.createElement(R.$N,{mr:"auto"},"Add Application"),i&&r.createElement(r.Fragment,null,r.createElement(G,{Icon:g.$8D,title:"Automatically",active:c,onClick:()=>u(!0)}),r.createElement(G,{Icon:g.Oz3,title:"Manually",active:!c,onClick:()=>u(!1)}))),c&&r.createElement(le,{onClose:n,onCreate:o,attempt:s,token:m}),!c&&r.createElement(_,{isAuthTypeLocal:d,isEnterprise:i,onClose:n,user:t,version:l,createToken:o,attempt:s,token:m})))}const de=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)(""),o=e.storeUser.state.username,a=e.storeUser.state.cluster.authVersion,i=!e.storeUser.isSso(),l=e.isEnterprise,[s,c]=(0,r.useState)(l),[u,d]=(0,r.useState)();function m(){return n((()=>e.joinTokenService.fetchJoinToken({roles:["App"]}).then(d)))}return(0,r.useEffect)((()=>{m()}),[]),{user:o,version:a,createToken:m,attempt:t,automatic:s,setAutomatic:c,isAuthTypeLocal:i,isEnterprise:l,token:u}}((0,Y.Z)());return r.createElement(ue,ce({},t,e))};var me=n(7038),pe=n(3849);function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function be(e){let{createJoinToken:t,attempt:n,token:o,authType:i,username:l,onClose:s,isEnterprise:c,version:u}=e;const{hostname:d,port:m}=window.document.location,p=`${d}:${m||"443"}`,[g]=(0,r.useState)((()=>xe.map((e=>({value:e,label:e.title}))))),[b,h]=(0,r.useState)(g[0]),I="sso"===i?`tsh login --proxy=${p}`:`tsh login --proxy=${p} --auth=local --user=${l}`;return r.createElement(R.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%"}),disableEscapeKeyDown:!1,onClose:s,open:!0},r.createElement(R.fK,{mb:4},r.createElement(R.$N,null,"Add Database")),r.createElement(R.cZ,null,"processing"===n.status&&r.createElement(a.xu,{textAlign:"center"},r.createElement(a.z$,null)),"failed"===n.status&&r.createElement(Ie,{loginCommand:I,addCommand:Ee(b.value.type,b.value.protocol,p,""),selectedDb:b,onDbChange:e=>h(e),dbOptions:g,isEnterprise:c,version:u}),"success"===n.status&&r.createElement(he,{selectedDb:b,onDbChange:e=>h(e),dbOptions:g,command:Ee(b.value.type,b.value.protocol,p,o.id),expiry:o.expiryText,onRegenerateToken:t,isEnterprise:c,version:u})),"processing"!==n.status&&r.createElement(R.cN,null,r.createElement(a.PL,{onClick:s},"Close")))}const he=e=>{let{selectedDb:t,onDbChange:n,dbOptions:o,expiry:i,command:l,onRegenerateToken:s,isEnterprise:c,version:u}=e;return r.createElement(r.Fragment,null,r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:c,version:u})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 2")," - Select the database type and protocol to use",r.createElement(a.xu,{mt:2},r.createElement(me.ZP,{value:t,onChange:n,options:o,isSearchable:!0,maxMenuHeight:220}))),r.createElement(a.xu,{mb:2},r.createElement(a.xv,{bold:!0,as:"span"},"Step 3")," - Generate the Teleport config file",r.createElement(a.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(a.xv,{bold:!0,as:"span"},i,".")),r.createElement(W.Z,{mt:"2",text:l}),r.createElement(a.ZP,{onClick:s},"Regenerate Token")),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 4")," - Start the Teleport agent with the following parameters",r.createElement(W.Z,{mt:"2",text:"teleport start"})),r.createElement(a.xu,null,"Learn more about database access in our ",r.createElement(a.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},Ie=e=>{let{loginCommand:t,addCommand:n,selectedDb:o,dbOptions:i,onDbChange:l,isEnterprise:s,version:c}=e;return r.createElement(r.Fragment,null,r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:s,version:c})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(W.Z,{mt:"2",text:t})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(W.Z,{mt:"2",text:"tctl tokens add --type=db"})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 4")," - Select the database type and protocol to use",r.createElement(a.xu,{mt:2},r.createElement(me.ZP,{value:o,onChange:l,options:i,isSearchable:!0,maxMenuHeight:220}))),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 5")," - Generate the Teleport config file",r.createElement(W.Z,{mt:"2",text:n})),r.createElement(a.xu,{mb:4},r.createElement(a.xv,{bold:!0,as:"span"},"Step 6")," - Start the Teleport agent with the following parameters",r.createElement(W.Z,{mt:"2",text:"teleport start"})),r.createElement(a.xu,null,"Learn more about database access in our ",r.createElement(a.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},Ee=(e,t,n,r)=>{let o=`teleport db configure create --token=${r||"[generated-join-token]"} --proxy=${n} --name=[db-name] --protocol=${t} --uri=[uri] -o file`;switch("sqlserver"===t&&(o=`${o} --ad-keytab-file=/path/to/teleport.keytab --ad-domain=EXAMPLE.COM --ad-spn=MSSQLSvc/sqlserver.example.com:1433`),e){case"self-hosted":return o;case"rds":return`${o} --aws-region=[region]`;case"redshift":return`${o} --aws-region=[region] --aws-redshift-cluster-id=[cluster-id]`;case"gcp":return`${o} --ca-cert-file=[instance-ca-filepath] --gcp-project-id=[project-id] --gcp-instance-id=[instance-id]`;default:return"unknown type and protocol"}},xe=[(0,pe.D)("rds","postgres"),(0,pe.D)("rds","mysql"),(0,pe.D)("rds","sqlserver"),(0,pe.D)("redshift","postgres"),(0,pe.D)("gcp","postgres"),(0,pe.D)("gcp","mysql"),(0,pe.D)("gcp","sqlserver"),(0,pe.D)("self-hosted","postgres"),(0,pe.D)("self-hosted","mysql"),(0,pe.D)("self-hosted","mongodb"),(0,pe.D)("self-hosted","sqlserver"),(0,pe.D)("self-hosted","redis")],fe=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)("processing"),[o,a]=(0,r.useState)();function i(){return n((()=>e.joinTokenService.fetchJoinToken({roles:["Db"]}).then(a)))}return(0,r.useEffect)((()=>{i()}),[]),{createJoinToken:i,attempt:t,token:o}}((0,Y.Z)());return r.createElement(be,ge({},t,e))};var ye=n(7933),Ae=n(8227);const Ce=e=>{let{onProceed:t=null,proceedHref:n="",disableProceed:o=!1,lastStep:i=!1}=e;return r.createElement(a.xu,{mt:4},n&&r.createElement(a.DF,{size:"medium",as:"a",href:n,target:"_blank",width:"224px",mr:3,rel:"noreferrer"},"View Documentation"),t&&r.createElement(a.DF,{width:"165px",onClick:t,mr:3,disabled:o},i?"Finish":"Next"),r.createElement(Ae.PL,{as:ye.OL,to:m.Z.routes.root,mt:3,width:"165px"},"Exit"))},Me=(0,o.ZP)(a.oD)(["color:",";font-weight:normal;padding-left:0;font-size:inherit;min-height:auto;"],(e=>{let{theme:t}=e;return t.colors.link})),we=e=>{let{children:t}=e;return r.createElement(a.xv,{my:1,fontSize:"18px",bold:!0},t)},De=e=>{let{children:t}=e;return r.createElement(a.xv,{mb:5},t)},Ne=e=>{let{children:t,onPrev:n}=e;return r.createElement(a.kC,{alignItems:"center"},r.createElement(a.Ei,{size:1,title:"Go Back",onClick:n,ml:-2},r.createElement(g.xhZ,{fontSize:"24px"})),r.createElement(a.xv,{my:1,fontSize:"18px",bold:!0},t))};var ve=n(1392);const je=n.p+"assets/img/img-55ebd1.png";function Se(e){let t;return e.agentMeta&&e.agentMeta.resourceName&&(t=`Resource [${e.agentMeta.resourceName}] has been successfully added to\n        this Teleport Cluster.`),r.createElement(ke,{width:"600px",flexDirection:"column",alignItems:"center"},r.createElement(a.Ee,{width:"120px",height:"120px",src:je}),r.createElement(a.xv,{mt:3,mb:2,typography:"h4",bold:!0},"Resource Successfully Added"),r.createElement(a.xv,{mb:3},t," You can start accessing this resource right away or add another resource."),r.createElement(a.kC,null,r.createElement(a.DF,{width:"270px",size:"large",onClick:()=>ve.Z.push(m.Z.routes.root,!0),mr:3},"Browse Existing Resources"),r.createElement(a.PL,{width:"270px",size:"large",onClick:()=>ve.Z.reload()},"Add Another Resource")))}var ke=(0,o.ZP)(a.kC)(["margin:0 auto;text-align:center;"]);const Te=o.ZP.mark(["padding:2px 5px;border-radius:6px;background-color:rgb(255 255 255 / 17%);color:inherit;"]);function ze(e){return r.createElement(Re,null,r.createElement(a.xv,{typography:"h5"},"You are not able to ",e.action,". There are two possible reasons for this:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Your Teleport Enterprise license does not include ",e.productName,". Reach out to your Teleport administrator to enable ",e.productName,"."),r.createElement("li",null,"You don’t have sufficient permissions to ",e.action,". Reach out to your Teleport administrator to request additional permissions.")))}var Oe,Ze=n(4221);function Pe(e){switch(e){case Oe.Application:return"App";case Oe.Database:return"Db";case Oe.Desktop:return"WindowsDesktop";case Oe.Kubernetes:return"Kube";case Oe.Server:return"Node"}}function Le(e){let t;return e.stepNumber&&(t=`Step ${e.stepNumber}: `),r.createElement(Ue,null,r.createElement(a.xv,{bold:!0},t,e.title),r.createElement(W.Z,{text:e.text,mt:2,mb:1,bash:e.isBash}))}!function(e){e[e.Application=0]="Application",e[e.Database=1]="Database",e[e.Desktop=2]="Desktop",e[e.Kubernetes=3]="Kubernetes",e[e.Server=4]="Server"}(Oe||(Oe={}));const Ue=o.ZP.div(["background:rgba(255,255,255,0.05);border-radius:8px;padding:16px;margin-bottom:12px;"]),Qe=(0,o.ZP)(a.xv)(["display:flex;align-items:center;.icon{margin-right:8px;}"]),Re=(0,o.ZP)(a.xu)(["width:100%;margin-top:32px;border-radius:8px;background-color:",";padding:24px;"],(e=>e.theme.colors.primary.light));function Ye(e){let{accessKind:t,traitKind:n,traitDesc:o}=e;switch(t){case"ssoUserAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(Be,null,"You don’t have any ",n," ",o," defined.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the required ",n," ",o,"."),r.createElement(Ge,{traitKind:n,userAccessReadOnly:!0}));case"noAccessAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(Be,null,"You don’t have ",n," access.",r.createElement("br",null),"Please ask your Teleport administrator to update your role:"),r.createElement(Ge,{traitKind:n}));case"noAccessButHasTraits":return r.createElement(r.Fragment,null,r.createElement(Be,null,"You don't have permission to add new ",n," ",o,".",r.createElement("br",null),"If you don't see the ",n," ",o," that you require, please ask your Teleport administrator to update your role:"),r.createElement(Ge,{traitKind:n}));case"ssoUserButHasTraits":return r.createElement(r.Fragment,null,r.createElement(Be,null,"SSO users are not able to add new ",n," ",o,".",r.createElement("br",null),"If you don't see the ",n," ",o," that you require, please ask your Teleport administrator to update your role:"),r.createElement(Ge,{traitKind:n,userAccessReadOnly:!0}))}}function Ge(e){let{traitKind:t,userAccessReadOnly:n}=e;switch(t){case"Kubernetes":return n?r.createElement(a.kC,{minHeight:"215px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    kubernetes_groups:\n    # Define Kubernetes groups for this role.\n    - kubeGroup1\n    - kubeGroup2\n    kubernetes_users:\n    # Define Kubernetes users for this role.\n    - kubeUser1\n    - kubeUser2\n"})):r.createElement(a.kC,{minHeight:"370px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    # Define Kubernetes groups for this role.\n    kubernetes_groups:\n    - '{{internal.kubernetes_groups}}'\n    - kubeGroup1\n    - kubeGroup2\n    # Define Kubernetes users for this role.\n    kubernetes_users:\n    - '{{internal.kubernetes_users}}'\n    - kubeUser1\n    - kubeUser2\n    rules:\n    # Rule that allows users to define their own Kubernetes users and groups.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"OS":return n?r.createElement(a.kC,{minHeight:"150px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - osUser1\n    - osUser2\n"})):r.createElement(a.kC,{minHeight:"245px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - '{{internal.logins}}'\n    - osUser1\n    - osUser2\n    rules:\n    # Rule that allows users to define their own logins\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"Database":return n?r.createElement(a.kC,{minHeight:"210px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - dbUser1\n    - '*'\n"})):r.createElement(a.kC,{minHeight:"340px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - '{{internal.db_names}}'\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - '{{internal.db_users}}'\n    - dbUser1\n    - '*'\n    rules:\n    # Rule that allows users to define their own Database names and users.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"ConnDiag":return r.createElement(a.kC,{minHeight:"190px",mt:3},r.createElement(We,{content:"kind: role\nspec:\n  allow:\n    rules:\n    - resources:\n      - connection_diagnostic\n      verbs:\n      - create\n      - read\n      - update\n"}))}}(0,o.ZP)("span")({fontSize:"12px",fontWeight:"lighter"}),(0,o.ZP)("span")({fontSize:"12px",fontWeight:"lighter"}),(0,o.ZP)(a.Ei)(["&:disabled{opacity:0.65;pointer-events:none;}"]),(0,o.ZP)(a.oD)(["padding-left:0px;&:disabled{.icon-add{opacity:0.35;}pointer-events:none;}"]),(0,o.ZP)(g.mm_)(["font-weight:bold;letter-spacing:4px;margin-top:-2px;&:after{content:' ';}"]);const Be=e=>{let{children:t}=e;return r.createElement(a.xv,{mt:4,width:"100px"},t)},We=e=>{let{content:t}=e;return r.createElement(Ze.Z,{readOnly:!0,data:[{content:t,type:"yaml"}]})};function Ve(e){let{attempt:t,diagnosis:n,canTestConnection:o,testConnection:i,stepNumber:l,stepDescription:s}=e;const c=!!n||"failed"===t.status;let u;return"processing"===t.status?u=r.createElement(Qe,null,r.createElement(g.r6F,{fontSize:4}),"Testing in-progress"):"failed"===t.status||n&&!n.success?u=r.createElement(Qe,null,r.createElement(g.v3j,{ml:1,color:"danger"}),"Testing failed"):"success"===t.status&&null!=n&&n.success&&(u=r.createElement(Qe,null,r.createElement(g.yGk,{ml:1,color:"success"}),"Testing complete")),r.createElement(Fe,{mb:5},r.createElement(a.xv,{bold:!0},"Step ",l),r.createElement(a.xv,{typography:"subtitle1",mb:3},s),r.createElement(a.kC,{alignItems:"center",mt:3},o?r.createElement(r.Fragment,null,r.createElement(a.PL,{width:"200px",onClick:i,disabled:"processing"===t.status},n?"Restart Test":"Test Connection"),r.createElement(a.xu,{ml:4},u)):r.createElement(a.xu,null,r.createElement(a.xv,null,"You don't have permission to test connection.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the ",r.createElement(Te,null,"connection_diagnostic")," rule:"),r.createElement(Ge,{traitKind:"ConnDiag"}))),c&&r.createElement(a.xu,{mt:3},"failed"===t.status&&`Encountered Error: ${t.statusText}`,"success"===t.status&&r.createElement(a.xu,null,n.traces.map(((e,t)=>"failed"===e.status?r.createElement(He,{error:e.error,details:e.details,key:t}):"success"===e.status?r.createElement(Ke,{key:t},r.createElement(g.yGk,{mr:1,color:"success"}),e.details):r.createElement(Qe,{key:t},r.createElement(g.HNF,{mr:1}),e.details))))))}const He=e=>{let{details:t,error:n}=e;const[o,a]=(0,r.useState)(!1);return r.createElement(Xe,null,r.createElement(g.liM,{mr:1,color:"danger"}),r.createElement("div",null,r.createElement("div",null,t),r.createElement("div",null,r.createElement(Je,{onClick:()=>a((e=>!e))},o?"Hide":"Click for extra"," details"),o&&r.createElement("div",null,n))))},Fe=(0,o.ZP)(a.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]),Je=(0,o.ZP)(a.oD)(["min-height:auto;padding:0;font-weight:inherit;text-decoration:underline;"]);var Ke=(0,o.ZP)(Qe)({alignItems:"baseline"}),Xe=(0,o.ZP)(Qe)({alignItems:"baseline"});function qe(e){const t=(0,Y.Z)(),{attempt:n,run:o}=(0,se.Z)(""),[a,i]=(0,r.useState)(),l=t.storeUser.getConnectionDiagnosticAccess(),s=l.create&&l.edit&&l.read,{username:c,authType:u}=t.storeUser.state;return{attempt:n,runConnectionDiagnostic:function(e){i(null),o((()=>t.agentService.createConnectionDiagnostic(e).then(i)))},diagnosis:a,nextStep:e.nextStep,prevStep:e.prevStep,canTestConnection:s,username:c,authType:u,clusterId:t.storeUser.getClusterId()}}function $e(e){let t;return e.disabled&&(t=r.createElement(ze,{action:"add new Applications",productName:"Application Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}var _e=n(4852),et=n(2944),tt=n(4998);n(2521),n(3665);const nt=r.createContext(null);function rt(e){const[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(i&&i>Date.now()){a(!1);const e=window.setTimeout((()=>a(!0)),i-Date.now());return()=>clearTimeout(e)}}),[i]);const s=(0,r.useCallback)((()=>{l(Date.now()+e.timeout)}),[e.timeout]);return r.createElement(nt.Provider,{value:{joinToken:t,setJoinToken:n,timeout:i,startTimer:s,timedOut:o}},e.children)}let ot,at;function it(){at=null}function lt(){return(0,r.useContext)(nt).joinToken}function st(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"token";const o=(0,Y.Z)(),a=(0,r.useContext)(nt);function i(){return ot=new AbortController,at={promise:o.joinTokenService.fetchJoinToken({roles:[Pe(e)],method:n,suggestedAgentMatcherLabels:t},ot.signal).then((e=>{if(!e.internalResourceId)throw new Error("internal resource ID is required to discover the newly added resource, but none was provided");at.response=e,a.setJoinToken(e),a.startTimer()})).catch((e=>{at.error=e}))},at}if((0,r.useEffect)((()=>()=>{var e;null===(e=ot)||void 0===e||e.abort(),it()}),[]),at){if(at.error)throw at.error;if(at.response)return{joinToken:at.response,reloadJoinToken:i,timedOut:a.timedOut,timeout:a.timeout};throw at.promise}throw i().promise}function ct(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const a=(0,r.useRef)(new AbortController),[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null);return(0,r.useEffect)((()=>{n&&!i&&(d(null),c(!1),l(!0)),!n&&i&&l(!1)}),[e,n,i]),(0,r.useEffect)((()=>{if(i&&t>Date.now()){const e=window.setTimeout((()=>{c(!0)}),t-Date.now());return()=>clearTimeout(e)}}),[i,t]),(0,r.useEffect)((()=>{if(i){a.current=new AbortController;const t=window.setInterval((async()=>{try{const n=await e(a.current.signal);n&&(clearInterval(t),d(n))}catch{}}),o);return()=>{clearInterval(t),a.current.abort()}}}),[i,s,o,e]),{timedOut:s,result:u}}var ut=n(4195);const dt=r.createContext(null);function mt(e){const t=(0,Y.Z)(),[n,o]=(0,r.useState)(!1),[a,i]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),c=lt(),{timedOut:u,result:d}=ct((n=>function(n){const r=t.storeUser.getClusterId();let o=`${ut.E} ${c.internalResourceId}`;l&&(o=l);const a={search:o,limit:1};switch(e.resourceKind){case Oe.Server:return t.nodeService.fetchNodes(r,a,n);case Oe.Desktop:return t.desktopService.fetchDesktopServices(r,a,n);case Oe.Kubernetes:return t.kubeService.fetchKubernetes(r,a,n);case Oe.Database:return t.databaseService.fetchDatabases(r,a,n)}}(n).then((e=>e.agents.length?e.agents[0]:null))),a,n,e.interval);(0,r.useEffect)((()=>{n&&Date.now()>a&&o(!1)}),[n,a,u]);const m=(0,r.useCallback)((()=>{i(Date.now()+e.timeout),o(!0)}),[e.timeout]);return(0,r.useEffect)((()=>{d&&(i(null),o(!1))}),[d]),r.createElement(dt.Provider,{value:{active:n,start:m,result:d,timedOut:u,timeout:a,setAlternateSearchTerm:s}},e.children)}function pt(e){const t=(0,r.useContext)(dt);return(0,r.useEffect)((()=>{t.active||(t.start(),t.setAlternateSearchTerm(e))}),[]),t}function gt(e){let{timeout:t,message:n="This script is valid for another"}=e;const[,o]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=window.setInterval((()=>{Date.now()>=t&&clearInterval(e),o((e=>e+1))}),1e3);return()=>clearInterval(e)}),[t]);const{minutes:a,seconds:i}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(t-Date.now()),l=String(i).padStart(2,"0"),s=String(a).padStart(2,"0");return r.createElement("span",null,n," ",s,":",l)}const bt=e=>{let{command:t,poll:n,pollingTimeout:o,header:i}=e;return r.createElement(ht,{mt:4,p:3,borderRadius:3,pollState:n.state},i||r.createElement(a.xv,{bold:!0},"Command"),r.createElement(a.xu,{mt:2,mb:1},r.createElement(W.r,{lines:[{text:t}]})),"polling"===n.state&&r.createElement(It,null,r.createElement(g.r6F,{fontSize:4}),r.createElement(gt,{timeout:o,message:`${n.customStateDesc||"Waiting for Teleport Service"}  |  `})),"success"===n.state&&r.createElement(Qe,null,r.createElement(g.yGk,{ml:1,color:"success"}),n.customStateDesc||"The Teleport Service successfully join this Teleport cluster"),"error"===n.state&&r.createElement(a.xu,null,r.createElement(Qe,null,r.createElement(g.v3j,{ml:1,color:"danger"}),n.error.customErrContent||"We could not detect the Teleport Service you were trying to add"),r.createElement(a.xv,{bold:!0,mt:4},"Possible reasons"),r.createElement(Et,null,n.error.reasonContents.map(((e,t)=>r.createElement("li",{key:t},e))))))},ht=(0,o.ZP)(a.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);padding:",";border-radius:",";border:2px solid ",";"],(e=>`${e.theme.space[3]}px`),(e=>`${e.theme.space[2]}px`),(e=>{switch(e.pollState){case"error":return e.theme.colors.danger;case"success":return e.theme.colors.success;default:return"#2F3659"}}));var It=(0,o.ZP)(Qe)(["white-space:pre;"]),Et=(0,o.ZP)("ul")(["margin-top:6px;margin-bottom:0;"]);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e){const{joinToken:t,reloadJoinToken:n,timeout:o}=st(Oe.Server),{timedOut:a,start:i,result:l}=pt();let s={state:"polling",customStateDesc:"Waiting for Teleport SSH Service"};return a?s={state:"error",error:{customErrContent:r.createElement(r.Fragment,null,"We could not detect the server you were trying to add."," ",r.createElement(Me,{ml:1,onClick:function(){n(),i()}},"Generate a new command")),reasonContents:[r.createElement(r.Fragment,null,"The command was not run on the server you were trying to add"),r.createElement(r.Fragment,null,"The Teleport SSH Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"journalctl status teleport"))]}}:l&&(s={state:"success",customStateDesc:"The server successfully joined this Teleport cluster"}),r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(De,null,"Install and configure the Teleport SSH Service.",r.createElement("br",null),"Run the following command on the server you want to add."),r.createElement(bt,{command:(c=t.id,`sudo bash -c "$(curl -fsSL ${m.Z.getNodeScriptUrl(c)})"`),poll:s,pollingTimeout:o}),r.createElement(Ce,{onProceed:function(){e.updateAgentMeta(ft(ft({},e.agentMeta),{},{resourceName:l.hostname,node:l}))},disableProceed:"success"!==s.state}));var c}const Ct=e=>{let{nextStep:t,pollState:n,children:o}=e;return r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(De,null,"Install and configure the Teleport SSH Service.",r.createElement("br",null),"Run the following command on the server you want to add."),r.createElement(ht,{pollState:n},o),r.createElement(Ce,{onProceed:t,disableProceed:!n||"error"===n||"polling"===n}))};var Mt=n(7896),wt=n(8777),Dt=n(6666),Nt=n(9249),vt=n(7371),jt=n(5754),St=n(1987),kt=n(5058),Tt=(n(3528),n(8316),n(1997)),zt=n(1774),Ot=(n(8951),n(8726),n(4486));function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pt,Lt,Ut,Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return r===n||o===n},Rt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){(0,Dt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Qt(e,t)}))||n.some((function(t){return Qt(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Yt=(Pt=zt.S,Ut=Lt=function(e){(0,jt.Z)(a,e);var t,n,o=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,kt.Z)(t);if(n){var o=(0,kt.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,St.Z)(this,e)});function a(e){var t;(0,Nt.Z)(this,a),(t=o.call(this,e)).select=void 0,t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,a=r.inputValue,i=r.isMulti,l=r.onChange,s=r.onCreateOption,c=r.value,u=r.name;if("select-option"!==n.action)return l(e,n);var d=t.state.newOption,m=Array.isArray(e)?e:[e];if(m[m.length-1]!==d)l(e,n);else if(s)s(a);else{var p=o(a,a),g={action:"create-option",name:u};l(i?[].concat((0,wt.Z)((0,Tt.C)(c)),[p]):p,g)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return(0,vt.Z)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,o=e.getNewOptionData,a=e.inputValue,i=e.isLoading,l=e.isValidNewOption,s=e.value,c=e.options||[],u=this.state.newOption;u=l(a,(0,Tt.C)(s),c)?o(a,r(a)):void 0,this.setState({newOption:u,options:!t&&i||!u?c:"first"===n?[u].concat((0,wt.Z)(c)):[].concat((0,wt.Z)(c),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,t=this.state.options;return r.createElement(Pt,(0,Mt.Z)({},this.props,{ref:function(t){e.select=t},options:t,onChange:this.onChange}))}}]),a}(r.Component),Lt.defaultProps=Rt,Ut);const Gt=(0,Ot.m)(Yt);var Bt=n(135);const Wt=["isMulti","isClearable","isDisabled","autoFocus"];function Vt(){return Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kt={multiValue:(e,t)=>t.data.isFixed?Ft(Ft({},e),{},{backgroundColor:"gray"}):e,multiValueLabel:(e,t)=>t.data.isFixed?Ft(Ft({},e),{},{color:Bt.Z.colors.text.onDark,paddingRight:6}):t.isDisabled?Ft(Ft({},e),{},{paddingRight:6}):Ft(Ft({},e),{},{color:Bt.Z.colors.text.onLight}),multiValueRemove:(e,t)=>t.data.isFixed||t.isDisabled?Ft(Ft({},e),{},{display:"none"}):Ft(Ft({},e),{},{cursor:"pointer",color:Bt.Z.colors.text.onLight}),menuList:e=>Ft(Ft({},e),{},{color:Bt.Z.colors.text.onLight})},Xt=e=>{let{isMulti:t=!0,isClearable:n=!0,isDisabled:o=!1,autoFocus:a=!1}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Wt);return r.createElement(Gt,Vt({className:"react-select",components:{DropdownIndicator:null},styles:Kt},i,{isMulti:t,isClearable:n,isDisabled:o,autoFocus:a}))};function qt(e){let{attempt:t,fetchUserTraits:n,canEditUser:o,isSsoUser:i,hasTraits:l,traitKind:s,traitDescription:c,headerSubtitle:u,onProceed:d,children:m,infoContent:p}=e;const b=!i&&o;let h;switch(t.status){case"failed":h=r.createElement(r.Fragment,null,r.createElement(a.xv,{my:3},r.createElement(g.v3j,{ml:1,mr:2,color:"danger"}),"Encountered Error: ",t.statusText),r.createElement(Me,{ml:1,onClick:n},"Retry"));break;case"processing":h=r.createElement(a.xu,{mt:4,textAlign:"center",height:"70px",width:"300px"},r.createElement(a.z$,{delay:"none"}));break;case"success":h=i&&!l?r.createElement(Ye,{accessKind:"ssoUserAndNoTraits",traitKind:s,traitDesc:c}):b||l?r.createElement(r.Fragment,null,r.createElement($t,null,m),!i&&!o&&r.createElement(Ye,{accessKind:"noAccessButHasTraits",traitKind:s,traitDesc:c}),i&&r.createElement(Ye,{accessKind:"ssoUserButHasTraits",traitKind:s,traitDesc:c})):r.createElement(Ye,{accessKind:"noAccessAndNoTraits",traitKind:s,traitDesc:c})}return r.createElement(a.xu,{maxWidth:"700px"},r.createElement(we,null,"Set Up Access"),r.createElement(De,null,u),p,r.createElement(a.xu,{mb:3},h),r.createElement(Ce,{onProceed:d,disableProceed:"failed"===t.status||"processing"===t.status||!l}))}const $t=(0,o.ZP)(a.xu)(["max-width:700px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var _t=n(3228);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e){const t=(0,Y.Z)(),[n,o]=(0,r.useState)(),{attempt:a,run:i,setAttempt:l,handleError:s}=(0,se.Z)("processing"),c="sso"===t.storeUser.state.authType,u=t.storeUser.getUserAccess().edit,d=on(n);let m=e.agentMeta,p=on();switch(e.selectedResourceKind){case Oe.Kubernetes:const t=m.kube;p.kubeUsers=(0,_t.ES)(t.users,d.kubeUsers),p.kubeGroups=(0,_t.ES)(t.groups,d.kubeGroups);break;case Oe.Server:const n=m.node;p.logins=(0,_t.ES)(n.sshLogins,d.logins);break;case Oe.Database:const r=m.db;p.databaseUsers=(0,_t.ES)(r.users,d.databaseUsers),p.databaseNames=(0,_t.ES)(r.names,d.databaseNames);break;default:throw new Error(`useUserTraits.ts:statiTraits: resource kind ${e.selectedResourceKind} is not handled`)}async function g(r){if(!c&&u){!function(t){let n=e.agentMeta;switch(e.selectedResourceKind){case Oe.Kubernetes:const r=n.kube;e.updateAgentMeta(tn(tn({},n),{},{kube:tn(tn({},r),{},{users:[...p.kubeUsers,...t.kubeUsers],groups:[...p.kubeGroups,...t.kubeGroups]})}));break;case Oe.Server:const o=n.node;e.updateAgentMeta(tn(tn({},n),{},{node:tn(tn({},o),{},{sshLogins:[...p.logins,...t.logins]})}));break;case Oe.Database:const a=n.db;e.updateAgentMeta(tn(tn({},n),{},{db:tn(tn({},a),{},{users:[...p.databaseUsers,...t.databaseUsers],names:[...p.databaseNames,...t.databaseNames]})}));break;default:throw new Error(`useUserTraits.ts:updateResourceMetaDynamicTraits: resource kind ${e.selectedResourceKind} is not handled`)}}(r),l({status:"processing"});try{await t.userService.updateUser(tn(tn({},n),{},{traits:tn(tn({},n.traits),r)})),await t.userService.applyUserTraits(),e.nextStep()}catch(e){s(e)}}else e.nextStep()}return(0,r.useEffect)((function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(o)))}),[t.storeUser,t.userService,i]),{attempt:a,onProceed:function(t){switch(e.selectedResourceKind){case Oe.Kubernetes:const n=new Set;t.kubeUsers.forEach((e=>{p.kubeUsers.includes(e.value)||n.add(e.value)}));const r=new Set;t.kubeGroups.forEach((e=>{p.kubeGroups.includes(e.value)||r.add(e.value)})),g({kubeUsers:[...n],kubeGroups:[...r]});break;case Oe.Server:const o=new Set;t.logins.forEach((e=>{p.logins.includes(e.value)||o.add(e.value)})),g({logins:[...o]});break;case Oe.Database:const a=new Set;t.databaseUsers.forEach((e=>{p.databaseUsers.includes(e.value)||a.add(e.value)}));const i=new Set;t.databaseNames.forEach((e=>{p.databaseNames.includes(e.value)||i.add(e.value)})),g({databaseUsers:[...a],databaseNames:[...i]});break;default:throw new Error(`useUserTrait.ts:onProceed: resource kind ${e.selectedResourceKind} is not handled`)}},fetchUserTraits:function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(o)))},isSsoUser:c,canEditUser:u,initSelectedOptions:function(e){return an({trait:e,staticTraits:p,dynamicTraits:d})},getFixedOptions:function(e){return an({trait:e,staticTraits:p})},getSelectableOptions:e=>an({trait:e,dynamicTraits:d}),dynamicTraits:d,staticTraits:p}}function on(e){return{logins:(null==e?void 0:e.traits.logins)||[],databaseUsers:(null==e?void 0:e.traits.databaseUsers)||[],databaseNames:(null==e?void 0:e.traits.databaseNames)||[],kubeUsers:(null==e?void 0:e.traits.kubeUsers)||[],kubeGroups:(null==e?void 0:e.traits.kubeGroups)||[],windowsLogins:(null==e?void 0:e.traits.windowsLogins)||[],awsRoleArns:(null==e?void 0:e.traits.awsRoleArns)||[]}}function an(e){let{trait:t,staticTraits:n,dynamicTraits:r}=e,o=[];n&&(o=n[t].map((e=>({value:e,label:e,isFixed:!0}))));let a=[];return r&&(a=r[t].map((e=>({value:e,label:e,isFixed:!1})))),[...o,...a]}const ln=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function sn(){return sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function cn(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:o,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ln),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&d(n("logins"))}),[e.attempt.status,n]);const m=u.length>0,p=!e.isSsoUser&&e.canEditUser;return r.createElement(qt,sn({},l,{headerSubtitle:"Select the OS users you will use to connect to server.",traitKind:"OS",traitDescription:"users",hasTraits:m,onProceed:function(){t({logins:u})}}),r.createElement(a.xu,{mb:2},"OS Users",r.createElement(Xt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:c,onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":d([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing OS users and press enter",value:u,isDisabled:!p,onChange:(e,t)=>{"clear"===t.action?d(o("logins")):d(e||[])},options:i("logins")})))}const un=["runConnectionDiagnostic"];function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gn=e=>{const t=e.filter((e=>"root"!==e)).sort();return t.length===e.length?e:["root",...t]};function bn(e){let{attempt:t,startSshSession:n,logins:o,testConnection:i,diagnosis:l,nextStep:s,prevStep:c,canTestConnection:u}=e;const[d]=(0,r.useState)((()=>o.map((e=>({value:e,label:e}))))),[m,p]=(0,r.useState)(d[0]);return r.createElement(a.xu,null,r.createElement(Ne,{onPrev:c},"Test Connection"),r.createElement(De,null,"Optionally verify that you can successfully connect to the server you just added."),r.createElement(hn,{mb:5},r.createElement(a.xv,{bold:!0},"Step 1"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Pick the OS user to test"),r.createElement(a.xu,{width:"320px"},r.createElement(a.SO,null,"Select Login"),r.createElement(me.ZP,{value:m,options:d,onChange:e=>p(e),isDisabled:"processing"===t.status}))),r.createElement(Ve,{attempt:t,diagnosis:l,canTestConnection:u,testConnection:()=>i(m.value),stepNumber:2,stepDescription:"Verify that the server is accessible"}),r.createElement(hn,null,r.createElement(a.xv,{bold:!0},"Step 3"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Connect to the server"),r.createElement(a.PL,{width:"200px",onClick:()=>n(m.value)},"Start Session")),r.createElement(Ce,{onProceed:s,lastStep:!0}))}const hn=(0,o.ZP)(a.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);function In(e){return r.createElement(rt,{timeout:3e5},r.createElement(mt,{timeout:3e5,interval:3e3,resourceKind:Oe.Server},e.children))}const En={kind:Oe.Server,icon:r.createElement(g.xFH,null),wrapper:e=>r.createElement(In,null,e),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){return r.createElement(tt.$,{onRetry:it,fallbackFn:e=>r.createElement(Ct,{pollState:"error",nextStep:()=>null},r.createElement(Qe,{mt:2,mb:3},r.createElement(g.v3j,{ml:1,color:"danger"}),"Encountered Error: ",e.error.message),r.createElement(Me,{ml:2,onClick:e.retry},"Refetch a command"))},r.createElement(r.Suspense,{fallback:r.createElement(a.xu,{height:"144px"},r.createElement(Ct,{nextStep:()=>null},r.createElement(a.xu,{textAlign:"center",height:"108px"},r.createElement(a.z$,{delay:"none"}))))},r.createElement(At,e)))}},{title:"Set Up Access",component:function(e){const t=rn(e);return r.createElement(cn,t)}},{title:"Test Connection",component:function(e){const t=function(e){const t=qe(e),{runConnectionDiagnostic:n}=t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,un);return mn(mn({},r),{},{testConnection:function(t){n({resourceKind:"node",resourceName:e.agentMeta.resourceName,sshPrincipal:t})},logins:gn(e.agentMeta.node.sshLogins),startSshSession:function(t){const n=e.agentMeta,o=m.Z.getSshConnectRoute({clusterId:r.clusterId,serverId:n.node.id,login:t});(0,_t.RB)(o)}})}(e);return r.createElement(bn,t)}},{title:"Finished",component:Se,hide:!0}]};function xn(e){return`(Invoke-WebRequest -Uri ${e}).Content | Invoke-Expression`}const fn=[{title:"Install Active Directory",command:xn(m.Z.getInstallADDSPath())},{title:"Install AD Certificate Services",command:xn(m.Z.getInstallADCSPath())}];function yn(e){return r.createElement(a.xu,null,r.createElement(we,null,"Install Active Directory"),r.createElement(a.xv,{mb:4},"If you haven't already, install Active Directory and AD Certificate Services."),function(e){return e.map(((e,t)=>r.createElement(Le,{key:t,stepNumber:t+1,title:e.title,text:e.command})))}(fn),r.createElement(Ce,{onProceed:()=>e.nextStep()}))}function An(e){return r.createElement(rt,{timeout:3e5},r.createElement(mt,{timeout:6e5,interval:3e3,resourceKind:Oe.Database},e.children))}var Cn,Mn;!function(e){e[e.AWS=0]="AWS",e[e.SelfHosted=1]="SelfHosted"}(Cn||(Cn={})),function(e){e[e.PostgreSQL=0]="PostgreSQL",e[e.MySQL=1]="MySQL",e[e.SQLServer=2]="SQLServer",e[e.RedShift=3]="RedShift",e[e.Mongo=4]="Mongo",e[e.Redis=5]="Redis"}(Mn||(Mn={}));const wn=[{location:Cn.AWS,engine:Mn.PostgreSQL,name:"AWS RDS PostgreSQL",popular:!0},{location:Cn.SelfHosted,engine:Mn.PostgreSQL,name:"Self Hosted PostgreSQL",popular:!0}],Dn={kind:Oe.Database,icon:r.createElement(g.voY,null),wrapper:e=>r.createElement(An,null,e),shouldPrompt:e=>0!==e,views(e){let t;if(e)switch(e.location){case Cn.AWS:t=[{title:"Deploy Database Agent",component:yn},{title:"Register a Database",component:yn},{title:"Configure IAM Policy",component:yn}];break;case Cn.SelfHosted:t=[{title:"Deploy Database Agent",component:yn},{title:"Register a Database",component:yn},{title:"Configure mTLS",component:yn}]}return[{title:"Select Resource"},{title:"Configure Resource",component:yn,views:t},{title:"Setup Access",component:yn},{title:"Test Connection",component:yn}]}};function Nn(e){return r.createElement(rt,{timeout:3e5},r.createElement(mt,{timeout:3e5,interval:3e3,resourceKind:Oe.Kubernetes},e.children))}const vn=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function jn(){return jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function Sn(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:o,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,vn),[s,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[m,p]=(0,r.useState)(""),[g,b]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&(d(n("kubeGroups")),b(n("kubeUsers")))}),[e.attempt.status,n]);const h=u.length>0||g.length>0,I=!e.isSsoUser&&e.canEditUser;return r.createElement(qt,jn({},l,{headerSubtitle:"Allow access from your Kubernetes user and groups to interact with your Kubernetes Clusters.",traitKind:"Kubernetes",traitDescription:"users and groups",hasTraits:h,onProceed:function(){t({kubeGroups:u,kubeUsers:g})}}),r.createElement(a.xu,{mb:4},"Kubernetes Groups",r.createElement(Xt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:e=>c(e),onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":d([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing groups and press enter",value:u,isDisabled:!I,onChange:(e,t)=>{"clear"===t.action?d(o("kubeGroups")):d(e||[])},options:i("kubeGroups"),autoFocus:!0})),r.createElement(a.xu,{mb:2},"Kubernetes Users",r.createElement(Xt,{inputValue:m,isClearable:g.some((e=>!e.isFixed)),onInputChange:p,onKeyDown:function(e){if(m)switch(e.key){case"Enter":case"Tab":b([...g,{value:m,label:m}]),p(""),e.preventDefault()}},placeholder:"Start typing users and press enter",value:g,isDisabled:!I,onChange:(e,t)=>{"clear"===t.action?b(o("kubeUsers")):b(e||[])},options:i("kubeUsers")})))}var kn=n(7097);function Tn(){return Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tn.apply(this,arguments)}function zn(e){const{joinToken:t,reloadJoinToken:n,timeout:o}=st(Oe.Kubernetes);return r.createElement(a.xu,null,r.createElement(On,null),r.createElement(Zn,null),r.createElement(Pn,{generateScript:n,namespace:e.namespace,setNamespace:e.setNamespace,clusterName:e.clusterName,setClusterName:e.setClusterName,hasJoinToken:!!t}),r.createElement(Ln,{namespace:e.namespace,clusterName:e.clusterName,joinToken:t,pollingTimeout:o,nextStep:e.nextStep,updateAgentMeta:e.updateAgentMeta}))}const On=()=>r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(De,null,"Install Teleport Service in your cluster via Helm to easily connect your Kubernetes cluster with Teleport.",r.createElement("br",null),"For all the available values of the helm chart see the"," ",r.createElement(a.rU,{href:"https://goteleport.com/docs/kubernetes-access/helm/reference/teleport-kube-agent/",target:"_blank"},"the documentation"),".")),Zn=()=>r.createElement(Un,{mb:5},r.createElement(a.xv,{bold:!0},"Step 1"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Add teleport-agent chart to your charts repository"),r.createElement(W.r,{lines:[{text:"helm repo add teleport https://charts.releases.teleport.dev && helm repo update"}]})),Pn=e=>{let{namespace:t,setNamespace:n,clusterName:o,setClusterName:i,hasJoinToken:l,error:s,onRetry:c,generateScript:u}=e;return r.createElement(Un,{mb:5},r.createElement(a.xv,{bold:!0},"Step 2"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Generate a command to automatically configure and install the teleport-agent namespace"),r.createElement(ee.ZP,null,(e=>{let{validator:d}=e;return r.createElement(r.Fragment,null,r.createElement(a.xu,{mb:4},r.createElement(te.Z,{mb:3,rule:(0,kn.lp)("Namespace is required"),label:"Teleport Service Namespace",autoFocus:!0,value:t,placeholder:"teleport",width:"100%",mr:"3",onChange:e=>n(e.target.value)}),r.createElement(te.Z,{rule:(0,kn.lp)("Kubernetes Cluster Name is required"),label:"Kubernetes Cluster Name",labelTip:"Name shown to Teleport users connecting to the cluster",value:o,placeholder:"my-cluster",width:"100%",mr:"3",onChange:e=>i(e.target.value)})),r.createElement(a.PL,{width:"200px",type:"submit",disabled:!s&&!u,onClick:()=>s?c():function(e){e.validate()&&u()}(d)},l?"Regenerate Command":"Generate Command"))})),s&&r.createElement(a.xu,null,r.createElement(Qe,{mt:3},r.createElement(g.v3j,{ml:1,color:"danger"}),"Encountered Error: ",s.message)))},Ln=e=>{let{namespace:t,clusterName:n,joinToken:o,pollingTimeout:i,nextStep:l,updateAgentMeta:s}=e;const c=(0,Y.Z)().storeUser.state.cluster.authVersion,{hostname:u,port:d}=window.document.location,m=`${u}:${d||"443"}`,{timedOut:p,result:g}=pt();let b={state:"polling"};return p?b={state:"error",error:{reasonContents:[r.createElement(r.Fragment,null,"The command was not run on the server you were trying to add, regenerate command and try again."),r.createElement(r.Fragment,null,"The Teleport Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"kubectl logs -l app=teleport-agent -n ",t))]}}:g&&(b={state:"success"}),r.createElement(r.Fragment,null,r.createElement(bt,{command:(h={namespace:t,clusterName:n,proxyAddr:m,tokenId:o.id,clusterVersion:c,resourceId:o.internalResourceId},`cat << EOF > prod-cluster-values.yaml\nroles: kube\nauthToken: ${h.tokenId}\nproxyAddr: ${h.proxyAddr}\nkubeClusterName: ${h.clusterName}\nteleportVersionOverride: ${h.clusterVersion}\nlabels:\n    teleport.internal/resource-id: ${h.resourceId}\nEOF\n \nhelm install teleport-agent teleport/teleport-kube-agent -f prod-cluster-values.yaml --create-namespace --namespace ${h.namespace}`),poll:b,pollingTimeout:i,header:r.createElement(r.Fragment,null,r.createElement(a.xv,{bold:!0},"Step 3"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Run the command below on the server running your Kubernetes cluster. May take up to a minute for the Teleport Service to join after running the command."))}),r.createElement(Ce,{onProceed:function(){s({kube:g,resourceName:g.name}),l()},disableProceed:"success"!==b.state}));var h},Un=(0,o.ZP)(a.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var Qn=n(1271);const Rn=["runConnectionDiagnostic"];function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e){let{attempt:t,testConnection:n,diagnosis:o,nextStep:i,prevStep:l,canTestConnection:s,kube:c,authType:u,username:d,clusterId:m}=e;const p=c.users.map((e=>({value:e,label:e}))),g=c.groups.map((e=>({value:e,label:e}))),[b,h]=(0,r.useState)("default"),[I,E]=(0,r.useState)(g),[x,f]=(0,r.useState)((()=>p[0]||{value:d,label:d}));return r.createElement(ee.ZP,null,(e=>{let{validator:y}=e;return r.createElement(a.xu,null,r.createElement(Ne,{onPrev:l},"Test Connection"),r.createElement(De,null,"Optionally verify that you can successfully connect to the Kubernetes cluster you just added."),r.createElement(Vn,{mb:5},r.createElement(a.xv,{bold:!0},"Step 1"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Define the namespace to test."),r.createElement(a.xu,{width:"500px"},r.createElement(te.Z,{label:"Namespace",rule:(0,kn.lp)("Namespace is required"),autoFocus:!0,value:b,placeholder:"Enter namespace",onChange:e=>h(e.target.value)}))),r.createElement(Vn,{mb:5},r.createElement(a.xv,{bold:!0},"Step 2"),r.createElement(a.xv,{typography:"subtitle1",mb:3},"Select groups and a user to test."),r.createElement(a.xu,{width:"500px"},r.createElement(Qn.Z,{label:"Kubernetes groups",placeholder:0===g.length?"No groups defined":"Click to select groups",isSearchable:!0,isMulti:!0,isClearable:!1,value:I,onChange:e=>E(e),options:g,isDisabled:"processing"===t.status||0===g.length})),r.createElement(a.xu,{width:"500px"},r.createElement(Qn.Z,{label:"Kubernetes user",labelTip:0===p.length?"Defaulted to your teleport username":"",isSearchable:!0,isClearable:!0,placeholder:"Select a user",value:x,onChange:e=>f(e),options:p,isDisabled:"processing"===t.status||0===p.length}))),r.createElement(Ve,{attempt:t,diagnosis:o,canTestConnection:s,testConnection:()=>function(e){e.validate()&&n({namespace:b,user:null==x?void 0:x.value,groups:null==I?void 0:I.map((e=>e.value))})}(y),stepNumber:3,stepDescription:"Verify that the Kubernetes is accessible"}),r.createElement(Vn,null,r.createElement(a.xv,{bold:!0,mb:3},"To Access your Kubernetes cluster"),r.createElement(a.xu,{mb:2},"Log into your Teleport cluster",r.createElement(W.Z,{mt:"1",text:(0,_t.Sl)({authType:u,username:d,clusterId:m})})),r.createElement(a.xu,{mb:2},"Log into your Kubernetes cluster",r.createElement(W.Z,{mt:"1",text:`tsh kube login ${c.name}`})),r.createElement(a.xu,null,"Use kubectl",r.createElement(W.Z,{mt:"1",text:"kubectl get pods"}))),r.createElement(Ce,{onProceed:i,lastStep:!0}))}))}const Vn=(0,o.ZP)(a.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]),Hn={kind:Oe.Kubernetes,icon:r.createElement(g.YJo,null),wrapper:e=>r.createElement(Nn,null,e),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){const[t,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[l,s]=(0,r.useState)(e.runJoinTokenPromise);return r.createElement(tt.$,{onRetry:it,fallbackFn:e=>r.createElement(a.xu,null,r.createElement(On,null),r.createElement(Zn,null),r.createElement(Pn,{error:e.error,onRetry:e.retry,namespace:t,setNamespace:n,clusterName:o,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0}))},r.createElement(r.Suspense,{fallback:r.createElement(a.xu,null,r.createElement(On,null),r.createElement(Zn,null),r.createElement(Pn,{namespace:t,setNamespace:n,clusterName:o,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0}))},!l&&r.createElement(a.xu,null,r.createElement(On,null),r.createElement(Zn,null),r.createElement(Pn,{generateScript:()=>s(!0),namespace:t,setNamespace:n,clusterName:o,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0})),l&&r.createElement(zn,Tn({},e,{namespace:t,setNamespace:n,clusterName:o,setClusterName:i}))))}},{title:"Set Up Access",component:function(e){const t=rn(e);return r.createElement(Sn,t)}},{title:"Test Connection",component:function(e){const t=function(e){const t=qe(e),{runConnectionDiagnostic:n}=t;return Gn(Gn({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,Rn)),{},{testConnection:function(t){n({resourceKind:"kube_cluster",resourceName:e.agentMeta.resourceName,kubeImpersonation:t})},kube:e.agentMeta.kube})}(e);return r.createElement(Wn,t)}},{title:"Finished",component:Se,hide:!0}]},Fn={kind:Oe.Application,icon:r.createElement(g.Ljw,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"}]};var Jn,Kn,Xn=n(1665),qn=(n(3980),n(4657)),$n=n(7008),_n="out-in",er="in-out",tr=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},nr=((Jn={})["out-in"]=function(e){var t=e.current,n=e.changeState;return r.cloneElement(t,{in:!1,onExited:tr(t,"onExited",(function(){n(qn.d0,null)}))})},Jn[er]=function(e){var t=e.current,n=e.changeState,o=e.children;return[t,r.cloneElement(o,{in:!0,onEntered:tr(o,"onEntered",(function(){n(qn.d0)}))})]},Jn),rr=((Kn={})["out-in"]=function(e){var t=e.children,n=e.changeState;return r.cloneElement(t,{in:!0,onEntered:tr(t,"onEntered",(function(){n(qn.cn,r.cloneElement(t,{in:!0}))}))})},Kn[er]=function(e){var t=e.current,n=e.children,o=e.changeState;return[r.cloneElement(t,{in:!1,onExited:tr(t,"onExited",(function(){o(qn.cn,r.cloneElement(n,{in:!0}))}))}),r.cloneElement(n,{in:!0})]},Kn),or=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:qn.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,Xn.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===qn.d0&&e.mode===er?{status:qn.d0}:!t.current||((n=t.current)===(o=e.children)||r.isValidElement(n)&&r.isValidElement(o)&&null!=n.key&&n.key===o.key)?{current:r.cloneElement(e.children,{in:!0})}:{status:qn.Ix};var n,o},n.render=function(){var e,t=this.props,n=t.children,o=t.mode,a=this.state,i=a.status,l=a.current,s={children:n,current:l,changeState:this.changeState,status:i};switch(i){case qn.d0:e=rr[o](s);break;case qn.Ix:e=nr[o](s);break;case qn.cn:e=l}return r.createElement($n.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(r.Component);or.propTypes={},or.defaultProps={mode:_n};const ar=or,ir=o.ZP.div(["border-radius:5px;width:100%;box-shadow:0px 0px 20px 0px rgba(0,0,0,0.43);"]),lr=o.ZP.div(["background:#040b1d;height:32px;position:relative;display:flex;align-items:center;justify-content:center;border-top-left-radius:5px;border-top-right-radius:5px;"]),sr=o.ZP.div(["display:flex;position:absolute;top:50%;left:10px;transform:translate(0,-50%);"]),cr=o.ZP.div(["width:12px;height:12px;border-radius:50%;margin-right:5px;"]),ur=o.ZP.div(["background:#04162c;height:var(--content-height,660px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),dr=o.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;"]);function mr(e){return r.createElement(lr,null,r.createElement(sr,null,r.createElement(cr,{style:{backgroundColor:"#f95e57"}}),r.createElement(cr,{style:{backgroundColor:"#fbbe2e"}}),r.createElement(cr,{style:{backgroundColor:"#31c842"}})),e.title)}function pr(e){return r.createElement(ir,null,r.createElement(mr,{title:e.title}),r.createElement(ur,null,e.children))}const gr=o.ZP.div(["width:100%;display:flex;overflow-x:hidden;padding-bottom:50px;margin-top:-24px;padding-top:24px;"]),br=o.ZP.div(["display:inline-flex;align-items:center;transition:0.2s ease-in opacity;cursor:pointer;font-size:18px;margin-bottom:30px;"]),hr=o.ZP.div(["font-size:30px;margin-right:20px;"]),Ir=o.ZP.div(["display:flex;flex:1;flex-direction:column;margin-right:30px;"]),Er=(o.ZP.div(["flex:0 0 600px;margin-left:30px;"]),o.ZP.div([""]));function xr(e){const{joinToken:t,reloadJoinToken:n,timeout:o,timedOut:i}=st(Oe.Desktop);let l;if(i)l=r.createElement(Er,null,r.createElement(a.xv,{mb:4},"That script expired."),r.createElement(Ae.DF,{onClick:n},"Generate another"));else{const n=xn(m.Z.getConfigureADUrl(t.id));l=r.createElement(Er,null,r.createElement(W.Z,{text:n,mt:2,mb:5,bash:!0,allowMultiline:!0}),r.createElement(Ae.DF,{onClick:()=>e.onNext()},"Next"),r.createElement(a.xu,{mt:4},r.createElement(gt,{timeout:o})))}return r.createElement(Ir,null,r.createElement(br,null,r.createElement(hr,null,r.createElement(g.oI9,null)),"1. Run the configure Active Directory script"),l)}function fr(){return r.createElement(Ir,null,r.createElement(br,null,r.createElement(hr,null,r.createElement(g.oI9,null)),"1. Run the configure Active Directory script"),r.createElement(Er,null,r.createElement(yr,null)))}const yr=o.ZP.div(["width:340px;height:84px;background:url(",") no-repeat;"],"data:image/svg+xml;base64,PHN2ZwogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICByb2xlPSJpbWciCiAgd2lkdGg9IjM0MCIKICBoZWlnaHQ9Ijg0IgogIGFyaWEtbGFiZWxsZWRieT0ibG9hZGluZy1hcmlhIgogIHZpZXdCb3g9IjAgMCAzNDAgODQiCiAgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIKPgogIDx0aXRsZSBpZD0ibG9hZGluZy1hcmlhIj5Mb2FkaW5nLi4uPC90aXRsZT4KICA8cmVjdAogICAgeD0iMCIKICAgIHk9IjAiCiAgICB3aWR0aD0iMTAwJSIKICAgIGhlaWdodD0iMTAwJSIKICAgIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIgogICAgc3R5bGU9J2ZpbGw6IHVybCgiI2ZpbGwiKTsnCiAgLz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj4KICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgcng9IjMiIHJ5PSIzIiB3aWR0aD0iNjciIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9Ijc2IiB5PSIwIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjEyNyIgeT0iNDgiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjUzIiBoZWlnaHQ9IjExIiAvPgogICAgICA8cmVjdCB4PSIxODciIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjcxIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIzNyIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjIzIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjE2NiIgeT0iMjMiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjE3MyIgaGVpZ2h0PSIxMSIgLz4KICAgIDwvY2xpcFBhdGg+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImZpbGwiPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMC41OTk5NjQiCiAgICAgICAgc3RvcC1jb2xvcj0iIzIyMmM1OSIKICAgICAgICBzdG9wLW9wYWNpdHk9IjEiCiAgICAgID4KICAgICAgICA8YW5pbWF0ZQogICAgICAgICAgYXR0cmlidXRlTmFtZT0ib2Zmc2V0IgogICAgICAgICAgdmFsdWVzPSItMjsgLTI7IDEiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICAgIDxzdG9wCiAgICAgICAgb2Zmc2V0PSIxLjU5OTk2IgogICAgICAgIHN0b3AtY29sb3I9IiM3NTY5YjAiCiAgICAgICAgc3RvcC1vcGFjaXR5PSIxIgogICAgICA+CiAgICAgICAgPGFuaW1hdGUKICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9mZnNldCIKICAgICAgICAgIHZhbHVlcz0iLTE7IC0xOyAyIgogICAgICAgICAga2V5VGltZXM9IjA7IDAuMjU7IDEiCiAgICAgICAgICBkdXI9IjJzIgogICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiCiAgICAgICAgLz4KICAgICAgPC9zdG9wPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMi41OTk5NiIKICAgICAgICBzdG9wLWNvbG9yPSIjMjIyYzU5IgogICAgICAgIHN0b3Atb3BhY2l0eT0iMSIKICAgICAgPgogICAgICAgIDxhbmltYXRlCiAgICAgICAgICBhdHRyaWJ1dGVOYW1lPSJvZmZzZXQiCiAgICAgICAgICB2YWx1ZXM9IjA7IDA7IDMiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg==");var Ar;!function(e){e.Argument="#cfa7ff",e.Keyword="#5af78e",e.Error="#f07278",e.Label="rgba(255, 255, 255, 0.7)",e.Punctuation="#81ceee"}(Ar||(Ar={}));const Cr=o.ZP.div(["width:100%;background:rgba(255,255,255,0.3);position:absolute;left:0;z-index:0;transform:translate3d(0,0,0);transition-property:height;"]),Mr=o.ZP.div(["position:relative;z-index:1;"]);function wr(e){const t=(0,r.useRef)();(0,r.useLayoutEffect)((()=>{t.current.scrollTop=t.current.scrollHeight}),[e.counter]);const n=(0,r.useRef)();let o;if((0,r.useEffect)((()=>{if(!e.selectedLines)return;const t=e.selectedLines.end-e.selectedLines.start,r=window.setTimeout((()=>{n.current.style.height=20*(t+1)+"px"}),1e3);return()=>clearTimeout(r)}),[e.selectedLines]),e.selectedLines){const t=e.selectedLines.end-e.selectedLines.start;o=r.createElement(Cr,{ref:n,style:{top:20*(e.selectedLines.start+1),transitionTimingFunction:`steps(${t+2}, jump-none)`,transitionDuration:.08*t+"s",height:0}})}return r.createElement(kr,{ref:t},r.createElement(Tr,null,r.createElement(Mr,null,function(e,t){if(!e.length)return r.createElement(vr,{key:"cursor"},"$ ",r.createElement(Sr,null));const n=e.map((e=>r.createElement(r.Fragment,{key:e.id},e.isCommand?r.createElement(vr,null,"$",e.text.length>0?" ":""):null,function(e,t,n){let o,a=e;const i=a.indexOf("#");i>-1&&(a=e.substring(0,i),o=r.createElement(jr,null,e.substring(i,e.length)));const l=a.split(" "),s=[];e:for(const[e,o]of l.entries())if(t||!/(https?:\/\/\S+)/g.test(o)){if(n)for(const t of n){const n=Dr(o,t);if(n){s.push(r.createElement(Nr,{key:`${t.key}-${e}`},n," "));continue e}}s.push(r.createElement(Nr,{key:e},o," "))}else s.push(r.createElement(r.Fragment,{key:e},r.createElement("a",{key:e,style:{color:"#feaa01",textDecoration:"underline"},href:o,target:"_blank",rel:"noopener noreferrer"},o)," "));return r.createElement(r.Fragment,null,s,o)}(e.text,e.isCommand,t),e.isCurrent&&e.isCommand?r.createElement(Sr,null):null,r.createElement("br",null))));return n}(e.lines,e.highlights)),o))}function Dr(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}const Nr=o.ZP.span(["user-select:none;"]),vr=o.ZP.span(["user-select:none;color:rgb(204,204,204);"]),jr=o.ZP.span(["user-select:none;color:rgb(255,255,255,0.4);"]),Sr=o.ZP.span(["display:inline-block;width:6px;height:15px;background:#ffffff;vertical-align:middle;"]),kr=o.ZP.div(["background:#04162c;height:inherit;overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),Tr=o.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;margin:10px 16px;position:relative;"]);function zr(e){return new Promise((t=>window.setTimeout(t,e)))}function Or(e){const t=(0,r.useRef)(0),n=(0,r.useMemo)((()=>async function*(e,t){let n=0,r=0,o=!1;const a=[];if(t>0){for(let n=0;n<t;n++)a.push({id:n,text:e[n].text,isCommand:e[n].isCommand,isCurrent:n===t});yield a}for(;;){if(!(t<e.length))return yield a,a;if(e[t].isCommand)if(n>e[t].text.length)a[t].isCurrent=t===e.length-1,n=0,yield a,await zr(300),t+=1;else{const r=e[t].delay;isNaN(r)||(yield a,await zr(r),yield a),0===n&&(await zr(100),a.push({id:t,text:"",isCommand:e[t].isCommand,isCurrent:!0}),yield a,await zr(600)),a[t].text=e[t].text.substring(0,n),n+=1}else{const i=e[t].delay;isNaN(i)||(await zr(i),yield a);const l=e[t].frames;if(l)if(r<l.length){const e=l[r]();0!==r||o||(o=!0,a.push({id:t,text:e.text,isCurrent:!1,isCommand:!1})),a[t].text=e.text,isNaN(e.delay)||(yield a,await zr(e.delay),yield a),r+=1}else o&&e[t+1]&&(a[t].text=e[t].text,n=0,r=0,t+=1,o=!1),r=0;else a.push({id:t,text:e[t].text,isCommand:!1,isCurrent:!1}),yield a,n=0,t+=1}yield a}}(e.lines,t.current)),[e.lines]),[o,a]=(0,r.useState)(0),[i,l]=(0,r.useState)(!1),s=(0,r.useRef)([]);(0,r.useEffect)((()=>{let r,o;async function i(){const{value:r,done:c}=await n.next();if(r){if(r.length){const e=r[r.length-1].id+1;e>t.current&&(t.current=e)}s.current=r,a((e=>e+1))}if(c)return l(!0),e.onCompleted&&e.onCompleted(),void a((e=>e+1));o=requestAnimationFrame(i)}function c(){o=requestAnimationFrame(i)}return e.startDelay?r=window.setTimeout(c,e.startDelay):c(),()=>{cancelAnimationFrame(o),clearTimeout(r)}}),[e.startDelay,e.lines,n]);let c=s.current;return e.stopped&&(c=e.lines.map(((t,n)=>({id:n,text:t.text,isCommand:t.isCommand,isCurrent:n===e.lines.length-1})))),r.createElement(pr,{title:"Terminal"},r.createElement(wr,{lines:c,completed:i,counter:o,highlights:e.highlights,selectedLines:e.selectedLines}))}const Zr=e=>[{text:xn(m.Z.getConfigureADUrl(e.id)),isCommand:!0},{text:"Running...",isCommand:!1,delay:800},{text:`\nversion: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}\n`,isCommand:!1,delay:500},{text:"Desktop Access Configuration Reference: https://goteleport.com/docs/desktop-access/reference/configuration/",isCommand:!1,delay:500},{text:"",isCommand:!0}],Pr={start:4,end:29},Lr=[{key:"keyword",color:Ar.Keyword,keywords:["Invoke-WebRequest","Invoke-Expression"]},{key:"arg",color:Ar.Argument,keywords:["-Uri"]}];function Ur(e){const{joinToken:t}=st(Oe.Desktop);return r.createElement(Or,{lines:Zr(t),highlights:Lr,selectedLines:e.isCopying?Pr:null,stopped:e.isCopying})}function Qr(e){return null}function Rr(e){const t=e.items.map(((t,n)=>r.createElement(Gr,{key:n,active:n===e.activeIndex,onClick:()=>e.onSelect(n)},r.createElement(Br,null,r.createElement(g.EKh,null)),t)));return r.createElement(Yr,null,t)}const Yr=o.ZP.div(["background:#0a102c;display:flex;"]),Gr=o.ZP.div(["background:rgba(255,255,255,0.1);padding:8px 20px 10px 15px;cursor:pointer;position:relative;&:after{content:'';position:absolute;bottom:0;height:2px;left:0;right:0;background:",";}"],(e=>e.active?"linear-gradient(to right, #ec008c, #fc6767)":"transparent")),Br=(0,o.ZP)("span")(["font-size:14px;margin-right:10px;position:relative;top:1px;"]);var Wr;function Vr(e){const[t,n]=(0,r.useState)(0),o=r.Children.map(e.children,(e=>e.type===Qr?{name:e.props.name,content:e.props.code,language:e.props.language}:null)).filter(Boolean),a=o.map((e=>e.name)),{content:i,language:l}=o[t],s=function(e,t){if(t===Wr.YAML)return function(e){if(!e)return[];const t=[{key:"string",keywords:["'\\*'"],color:Ar.Keyword},{key:"certificate",match:/(-----.*?-----)/,color:Ar.Punctuation}],n=e.split("\n"),o=[];for(const[e,a]of n.entries()){const n=Hr(a,": |",e,t);if(n){o.push(n);continue}const i=Hr(a,":",e,t);i?o.push(i):a?o.push(r.createElement("div",{key:e},Fr(a,t))):o.push(r.createElement("div",{key:e}," "))}return o}(e);throw new Error("Language not supported")}(i,l),c=[];if(i){const e=i.split("\n").length;for(let t=0;t<=e;t++)c.push(r.createElement(eo,{key:t,"data-line-number":t+1,active:t===e}))}else c.push(r.createElement(eo,{key:0,"data-line-number":1,active:!0}));return r.createElement(ir,null,r.createElement(mr,{title:e.title}),r.createElement(Rr,{items:a,activeIndex:t,onSelect:n}),r.createElement(ur,{style:{height:585}},r.createElement(dr,{style:{display:"flex"}},r.createElement(_r,null,c),r.createElement(to,null,s,r.createElement(no,null,r.createElement($r,null))))))}function Hr(e,t,n,o){if(!e.includes(t))return;const a=e.indexOf(t);let i=e.substring(a+t.length,e.length);return r.createElement("div",{key:n},r.createElement(Kr,null,e.substring(0,a)),r.createElement(Xr,null,t),Fr(i,o))}function Fr(e,t){for(const n of t)if(n.match&&n.match.test(e))return e.split(n.match).map(((e,t)=>{if(e)return t%2==0?r.createElement("span",{key:t},e):r.createElement("span",{key:`${n.key}-${t}`,style:{color:n.color}},e)})).filter(Boolean);const n=e.split(" "),o=[];e:for(const[e,a]of n.entries()){for(const n of t)if(n.keywords){const t=Jr(a,n);if(t){o.push(r.createElement("span",{key:`${n.key}-${e}`},t," "));continue e}}o.push(r.createElement("span",{key:e},a," "))}return o}function Jr(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}!function(e){e[e.YAML=0]="YAML"}(Wr||(Wr={}));const Kr=o.ZP.span(["color:#d4656b;"]),Xr=o.ZP.span(["color:#81ceee;"]),qr=(0,o.F4)(["0%{opacity:0;}"]),$r=o.ZP.span(["display:inline-block;width:2px;height:15px;background:#ffffff;vertical-align:middle;animation:"," 1.5s steps(2) infinite;"],qr),_r=o.ZP.div(["user-select:none;width:55px;"]),eo=o.ZP.div(["background:",";color:",";text-align:right;padding-right:20px;&:before{content:attr(data-line-number);}"],(e=>e.active?"rgba(0, 0, 0, 0.3)":"none"),(e=>e.active?"rgba(255, 255, 255, 0.6)":"rgba(255, 255, 255, 0.3)")),to=o.ZP.div(["width:100%;"]),no=o.ZP.div(["background:rgba(0,0,0,0.3);width:100%;"]),ro=e=>`version: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}`;var oo;function ao(){const e=lt(),[t,n]=(0,r.useState)(oo.Original),{content:o}=(e=>[{kind:oo.Original,content:""},{kind:oo.Pasted,content:ro(e)}])(e).find((e=>e.kind===t));return(0,r.useEffect)((()=>{n(oo.Original);const e=window.setTimeout((()=>n(oo.Pasted)),1500);return()=>clearTimeout(e)}),[]),r.createElement(io,null,r.createElement(Vr,{title:"Your IDE"},r.createElement(Qr,{language:Wr.YAML,name:"/etc/teleport.yaml",code:o})))}!function(e){e[e.Original=0]="Original",e[e.Pasted=1]="Pasted"}(oo||(oo={}));const io=(0,o.ZP)("div")(["user-select:none;"]),lo=[{text:"sudo systemctl start teleport",isCommand:!0},{text:"sudo systemctl status teleport",isCommand:!0},{text:"• teleport.service - Teleport SSH Service\n   Loaded: loaded\n   Active: active (running)",isCommand:!1,delay:100},{text:"logout # We'll take it from here",isCommand:!0},{text:"\n",isCommand:!1,delay:30}],so=["_","_","_","-","`","`","'","´","-","_","_","_"],co=[{key:"keyword",color:Ar.Keyword,keywords:["sudo","systemctl","active","\\(running\\)","•","wait","logout","✔"]},{key:"error",color:Ar.Error,keywords:["✖","Oh","no!"]},{key:"label",color:Ar.Label,keywords:["Hostname:","Address:"]}];function uo(){const[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)([...lo]),{active:a,result:i,timedOut:l,timeout:s}=pt(),c=(0,r.useRef)(0);(0,r.useEffect)((()=>{c.current=i?null:s}),[s,i]);const[u,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(i&&!g)return o((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✔ Found your Teleport node"},{isCommand:!1,text:`  Hostname: ${i.hostname}`},{isCommand:!1,text:`   Address: ${i.addr}`}])),void b(!0);g||(e&&a&&!u&&o((e=>[...e,{text:"wait your.teleport.instance",isCommand:!0},{isCommand:!1,text:""},{isCommand:!1,text:"- Waiting to hear from your Teleport node",frames:so.map((e=>()=>{if(Date.now()>c.current)return{text:"- Waiting to hear from your Teleport node"};const{minutes:t,seconds:n}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(c.current-Date.now());return{text:`${e} Waiting to hear from your Teleport node (${t}:${n} remaining)`,delay:70}}))}])),l&&!m&&o((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✖ Oh no! We couldn't find your Teleport node."}])),e&&d(a),p(l))}),[i,l,a,g,m,u,e]),r.createElement(mo,null,r.createElement(Or,{stopped:null!==i,lines:n,startDelay:800,highlights:co,onCompleted:()=>t(!0)}))}const mo=o.ZP.div(["--content-height:400px;"]);function po(e){return r.createElement(Ir,null,r.createElement(br,null,r.createElement(hr,null,r.createElement(g.TUt,null)),"2. Copy the outputted Teleport config"),r.createElement(Er,null,r.createElement(a.xv,{mb:4},"You'll need this in the next step."),r.createElement(Ae.DF,{onClick:()=>e.onNext()},"Next")))}function go(e){return r.createElement(Ir,null,r.createElement(br,null,r.createElement(hr,null,r.createElement(g.EKh,null)),"3. Create /etc/teleport.yaml"),r.createElement(Er,null,r.createElement(a.xv,{mb:4},"Paste the output you just copied into /etc/teleport.yaml."),r.createElement(Ae.DF,{onClick:()=>e.onNext()},"Next")))}var bo=n(2010);function ho(e){return r.createElement(Ir,null,r.createElement(br,null,r.createElement(hr,null,r.createElement(Eo,null)),"4. Start Teleport"),e.children)}function Io(e){const{active:t,result:n,start:o,timedOut:i}=pt();return i?r.createElement(ho,null,r.createElement(Er,null,r.createElement(a.xv,{mb:4},"We looked everywhere but we couldn't find your Teleport node."),r.createElement(Ae.DF,{disabled:t,onClick:()=>o()},"Retry"))):n?r.createElement(ho,null,r.createElement(Er,null,r.createElement(a.xv,{mb:4},"Success! We've detected the new Teleport node you configured."),r.createElement(Ae.DF,{onClick:()=>e.onNext()},"Next"))):r.createElement(ho,null,r.createElement(Er,null,r.createElement(a.xv,{mb:4},"Once you've started Teleport, we'll detect it here."),r.createElement(Ae.DF,{disabled:!n,onClick:()=>e.onNext()},"Next")))}const Eo=o.ZP.div(["width:30px;height:30px;background:url(",") no-repeat;background-size:contain;top:1px;position:relative;"],bo);function xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao,Co;!function(e){e[e.RunConfigureScript=0]="RunConfigureScript",e[e.CopyOutput=1]="CopyOutput",e[e.CreateConfig=2]="CreateConfig",e[e.StartTeleport=3]="StartTeleport",e[e.Finished=4]="Finished"}(Ao||(Ao={})),function(e){e[e.RunCommand=0]="RunCommand",e[e.CreateConfig=1]="CreateConfig",e[e.StartTeleport=2]="StartTeleport"}(Co||(Co={}));const Mo=[{kind:Ao.RunConfigureScript,animation:Co.RunCommand},{kind:Ao.CopyOutput,animation:Co.RunCommand},{kind:Ao.CreateConfig,animation:Co.CreateConfig},{kind:Ao.StartTeleport,animation:Co.StartTeleport},{kind:Ao.Finished,animation:null}],wo={transition:"opacity 250ms, transform 250ms",opacity:0,width:"100%"},Do={entering:{opacity:0,transform:"translateX(50px)"},entered:{opacity:1,transform:"translateX(0%)"},exiting:{opacity:0,transform:"translateX(-50px)"},exited:{opacity:0,transform:"translateX(-50px)"}},No={entering:{opacity:0,transform:"translateY(50px)"},entered:{opacity:1,transform:"translateY(0%)"},exiting:{opacity:0,transform:"translateY(-50px)"},exited:{opacity:0,transform:"translateY(-50px)"}},vo=o.ZP.div(["width:650px;display:flex;flex-direction:column;max-width:875px;flex:1 0 850px;align-items:flex-end;margin-left:-101px;position:relative;z-index:1;padding-right:20px;"]),jo=o.ZP.div(["position:relative;width:calc(100% - 100px);padding:20px 100px;left:100px;"]),So=(0,o.F4)(["from{width:0;}to{width:260px;}"]),ko=o.ZP.div(["position:absolute;top:43px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;animation:"," 1s ease-in forwards;svg{path{fill:none;}}"],So),To=(0,o.F4)(["0%{stroke-dashoffset:-250;}100%{stroke-dashoffset:0;}"]),zo=o.ZP.svg(["position:absolute;z-index:1;path{stroke:#278348;stroke-width:4;fill:none;}"]),Oo=(0,o.ZP)(zo)(["stroke-dasharray:5,20;stroke-dashoffset:0;z-index:2;animation:"," 5s cubic-bezier(0.78,0.11,0.27,0.94) alternate infinite 0.6s;path{stroke:#32c842;}"],To);function Zo(e){return r.createElement(ko,{style:{width:e.width,height:e.height,left:-e.width}},r.createElement(zo,{width:e.width,height:e.height},e.children),r.createElement(Oo,{width:e.width,height:e.height},e.children))}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Lo{constructor(){Po(this,"x0",void 0),Po(this,"y0",void 0),Po(this,"x1",null),Po(this,"y1",null),Po(this,"path","")}moveTo(e,t){this.path+=`M${this.x0=this.x1=+e},${this.y0=this.y1=+t}`}closePath(){null!==this.x1&&(this.x1=this.x0,this.y1=this.y0,this.path+="Z")}lineTo(e,t){this.path+=`L${this.x1=+e},${this.y1=+t}`}bezierCurveTo(e,t,n,r,o,a){this.path+=`C${+e},${+t},${+n},${+r},${this.x1=+o},${this.y1=+a}`}}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e){return e<0?-1:1}function Ro(e,t){const n=e.x1-e.x0;return n?(3*(e.y1-e.y0)/n-t)/2:t}function Yo(e,t,n){const r=e.x0,o=e.y0,a=e.x1,i=e.y1,l=(a-r)/3;e.path.bezierCurveTo(r+l,o+l*t,a-l,i-l*n,a,i)}function Go(e,t,n){const r=e.x1-e.x0,o=t-e.x1,a=(e.y1-e.y0)/(r||o<0&&-0),i=(n-e.y1)/(o||r<0&&-0),l=(a*o+i*r)/(r+o);return(Qo(a)+Qo(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}class Bo{constructor(e){Uo(this,"path",void 0),Uo(this,"line",void 0),Uo(this,"x0",void 0),Uo(this,"x1",void 0),Uo(this,"y0",void 0),Uo(this,"y1",void 0),Uo(this,"t0",void 0),Uo(this,"p",void 0),this.path=e}areaStart(){this.line=0}areaEnd(){this.line=NaN}lineStart(){this.x0=this.x1=this.y0=this.y1=this.t0=NaN,this.p=0}lineEnd(){switch(this.p){case 2:this.path.moveTo(this.x1,this.y1);break;case 3:Yo(this,this.t0,Ro(this,this.t0))}(this.line||0!==this.line&&1===this.p)&&this.path.closePath(),this.line=1-this.line}point(e,t){let n=NaN;if(t=+t,(e=+e)!==this.x1||t!==this.y1){switch(this.p){case 0:this.p=1,this.line?this.path.lineTo(e,t):this.path.moveTo(e,t);break;case 1:this.p=2;break;case 2:this.p=3,Yo(this,Ro(this,n=Go(this,e,t)),n);break;default:Yo(this,this.t0,n=Go(this,e,t))}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=t,this.t0=n}}}const Wo=o.ZP.div(["color:rgba(0,0,0,0.8);display:flex;align-items:center;color:#9cb974;font-size:12px;font-weight:500;margin-bottom:5px;"]),Vo=o.ZP.span(["margin-right:5px;font-size:14px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;"]),Ho=o.ZP.div(["display:flex;align-items:center;justify-content:center;padding:0 7px;margin-left:1px;"]),Fo=(0,o.ZP)(Ho)(["background:#323436;box-sizing:border-box;border-bottom:1px solid #92c7ef;"]),Jo=o.ZP.div(["background:url(",") no-repeat;width:15px;height:13px;position:relative;top:1px;background-size:contain;"],"data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDYuOTUgNS44NSI+PHBhdGggZD0iTTYuNTguMzhILjM4djEuMzloMi4yOXYzLjdoMS42di0zLjdoMi4zVi4zOFoiIHN0eWxlPSJmaWxsOndoaXRlIi8+PC9zdmc+Cg=="),Ko=o.ZP.div(["display:flex;height:30px;"]),Xo=o.ZP.div(["background:#d9d9d9;font-size:12px;display:flex;justify-content:space-between;padding:5px 10px;line-height:1;color:rgba(0,0,0,0.8);border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;font-weight:bold;"]),qo=o.ZP.div(["background:white;padding:13px 10px 5px;font-size:12px;line-height:1;"]),$o=o.ZP.div(["background:url(",") no-repeat;width:16px;height:16px;background-size:contain;flex:0 0 16px;"],"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9IiBmaWxsOiMwMDAwMDA7Ij4KICA8cGF0aCBmaWxsPSIjZmZmIgogICAgICAgIGQ9Ik0yMCAyNS4wMjZMNS4wMTEgMjUgNS4wMTIgMzcuNzQ0IDIwIDM5LjgxOHpNMjIgMjUuMDNMMjIgNDAuMDk1IDQyLjk5NSA0MyA0MyAyNS4wNjZ6TTIwIDguMjU2TDUgMTAuMzggNS4wMTQgMjMgMjAgMjN6TTIyIDcuOTczTDIyIDIzIDQyLjk5NSAyMyA0Mi45OTUgNXoiLz4KPC9zdmc+Cg=="),_o=o.ZP.div(["background:#000000;display:flex;justify-content:space-between;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-right:5px;height:30px;color:white;font-size:10px;align-items:center;"]),ea=o.ZP.div(["color:rgba(0,0,0,0.5);font-size:12px;margin-bottom:5px;"]),ta=o.ZP.div(["color:black;font-weight:bold;font-size:15px;margin:10px 0;"]),na=o.ZP.div(["color:black;font-size:13px;display:flex;justify-content:space-between;"]),ra=o.ZP.div(["margin-top:3px;font-size:11px;color:rgba(0,0,0,0.6);"]),oa=o.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:13px;color:rgba(0,0,0,0.8);"]),aa=o.ZP.div(["font-size:10px;margin-bottom:10px;"]);function ia(e){return r.createElement(r.Fragment,null,r.createElement(Xo,null,r.createElement("div",null,"Teleport"),r.createElement(g.X1q,{color:"black"})),r.createElement(qo,null,r.createElement(Wo,null,r.createElement(Vo,null,"✔")," Teleport found this Desktop"),r.createElement(ta,null,e.computerName),r.createElement(a.kC,{justifyContent:"space-between"},r.createElement(aa,null,r.createElement(ea,null,"Operating System"),r.createElement(na,null,e.os),r.createElement(ra,null,e.osVersion)),r.createElement(aa,null,r.createElement(a.kC,{flexDirection:"column",alignItems:"flex-end"},r.createElement(ea,null,"Address"),r.createElement(oa,null,e.address))))),r.createElement(_o,null,r.createElement(Ko,null,r.createElement(Ho,null,r.createElement($o,null)),r.createElement(Fo,null,r.createElement(Jo,null))),r.createElement("div",null,function(){const e=new Date;return`${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`}())))}const la=(0,o.F4)(["from{opacity:0;}to{opacity:1;}"]),sa=o.ZP.div(["margin-bottom:30px;"]),ca=o.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.4);position:relative;animation:"," 0.9s ease-in 1s forwards;box-shadow:0 10px 20px 0 rgba(0,0,0,0.3);min-width:330px;max-width:500px;display:flex;flex-direction:column;justify-content:center;opacity:0;"],la);function ua(e){const t=(0,r.useRef)(),[n,o]=(0,r.useState)(null);let a;return(0,r.useLayoutEffect)((()=>{e.desktopServiceElement&&t.current&&e.containerElement&&o(function(e,t,n){if(!t||!e||!n)return null;const r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.getBoundingClientRect(),i=o.left-r.right,l=new Lo,s=new Bo(l);s.lineStart();const c=o.top-a.top+o.height/2-1,u=r.top-a.top+r.height/2;return s.point(0,u-8),s.point(40,u-8),s.point(i-10,c+2),s.point(i,c+2),s.lineEnd(),{width:i,height:a.height,path:l.path}}(e.desktopServiceElement,t.current,e.containerElement))}),[e.desktopServiceElement&&t.current&&e.containerElement]),n&&(a=r.createElement(Zo,{width:n.width,height:n.height},r.createElement("path",{d:n.path}))),r.createElement(sa,{ref:t},a,r.createElement(ca,null,r.createElement(ia,{os:e.os,osVersion:e.osVersion,address:e.address,computerName:e.computerName})))}const da=o.ZP.div(["width:80px;height:16px;padding:0 7px;box-sizing:border-box;background:#f5e6fe;margin-bottom:8px;border-radius:5px;display:flex;align-items:center;position:relative;z-index:5;"]),ma=o.ZP.div(["display:flex;align-items:center;"]),pa=(0,o.F4)(["46%{opacity:1;}50%{opacity:0;}54%{opacity:1;}"]),ga=(0,o.F4)(["27%{opacity:1;}30%{opacity:0;}33%{opacity:1;}"]),ba=(0,o.F4)(["68%{opacity:1;}70%{opacity:0;}72%{opacity:1;}"]),ha=o.ZP.div(["width:6px;height:6px;border-radius:50%;margin-right:5px;"]),Ia=(0,o.ZP)(ha)(["background:#31c842;"]),Ea=(0,o.ZP)(Ia)(["animation:"," 8s step-start 0s infinite;"],pa),xa=(0,o.ZP)(Ia)(["animation:"," 10s step-start 0s infinite;"],ga),fa=(0,o.ZP)(Ia)(["animation:"," 12s step-start 0s infinite;"],ba),ya=o.ZP.div(["display:flex;flex:1;align-items:flex-end;flex-direction:column;"]),Aa=o.ZP.div(["height:3px;border-radius:5px;background:rgba(0,0,0,0.4);margin-left:5px;overflow:hidden;"]),Ca=o.ZP.div(["display:flex;justify-content:space-between;margin-bottom:2px;"]);function Ma(e){return r.createElement(da,null,r.createElement(ma,null,e.light),r.createElement(ya,null,r.createElement(Ca,null,r.createElement(Aa,{style:{width:5}}),r.createElement(Aa,{style:{width:30}})),r.createElement(Aa,{style:{width:20}})))}const wa=(0,o.F4)(["0%{box-shadow:0 0 0 0 rgba(255,255,255,0),0 0 0 40px rgba(255,255,255,0.18);}100%{box-shadow:0 0 0 40px rgba(255,255,255,0.18),0 0 0 40px rgba(204,233,251,0);}"]),Da=o.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;justify-content:center;height:82px;"]),Na=o.ZP.div(["animation:"," 1.5s linear infinite;border-radius:50%;width:100px;height:100px;position:absolute;z-index:-1;top:50%;left:50%;transform:translate(-50%,calc(-50% - 10px));&::after{z-index:0;border-radius:50%;position:absolute;content:'';display:block;width:100px;height:100px;background:rgba(34,44,89,1);transform:scale(1);}"],wa);function va(e){return r.createElement(Da,{ref:e.desktopServiceRef},r.createElement(Na,null),r.createElement(Ma,{light:r.createElement(Ea,null)}))}const ja=o.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;"]);function Sa(){return r.createElement(ja,null,r.createElement(Ma,{light:r.createElement(Ea,null)}),r.createElement(Ma,{light:r.createElement(xa,null)}),r.createElement(Ma,{light:r.createElement(fa,null)}))}const ka=o.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:12px;color:rgba(255,255,255,0.7);"]),Ta=o.ZP.div(["font-size:16px;"]),za=o.ZP.div(["height:92px;margin-bottom:15px;"]),Oa=o.ZP.div(["display:inline-flex;position:relative;"]),Za=o.ZP.div(["position:absolute;height:94px;width:257px;top:0;left:125px;right:121px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;"]);function Pa(){return r.createElement(Za,null,r.createElement(zo,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})),r.createElement(Oo,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})))}const La=o.ZP.div(["width:250px;display:flex;align-items:center;flex-direction:column;"]);function Ua(e){const t=function(){const{hostname:e,port:t}=window.location;return"443"!==t&&t?`${e}:${t}`:e}();return r.createElement("div",null,r.createElement(Oa,null,r.createElement(Pa,null),r.createElement(La,null,r.createElement(za,null,r.createElement(Sa,null)),r.createElement(Ta,null,"Teleport Proxy"),r.createElement(ka,null,t)),r.createElement(La,null,r.createElement(za,null,r.createElement(va,{desktopServiceRef:e.desktopServiceRef})),r.createElement(Ta,null,"Desktop Service"),r.createElement(ka,null,e.result&&e.result.hostname))))}var Qa=n(6828),Ra=n(7885);const Ya=o.ZP.div(["margin-top:120px;margin-left:-40px;display:flex;"]),Ga=o.ZP.div(["margin-top:100px;"]),Ba=o.ZP.div(["position:relative;margin-left:125px;margin-top:-43px;"]),Wa=(0,o.F4)(["from{opacity:0;}to{opacity:1;}"]),Va=o.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.8);border-radius:10px;box-shadow:0 10px 15px rgba(0,0,0,0.5);background:white;position:relative;animation:"," 0.9s ease-in 1s forwards;display:flex;flex-direction:column;justify-content:center;padding:10px 10px 10px 15px;opacity:0;width:240px;"],Wa),Ha=(0,o.ZP)(Ra.OL)(["background:#0091ea;color:white;border-radius:5px;margin-top:10px;text-decoration:none;padding:3px 10px;text-align:center;cursor:pointer;&:hover{background:#4db2f0;}"]),Fa=o.ZP.div(["color:#f50057;font-weight:bold;font-size:16px;"]);function Ja(e){return r.createElement(rt,{timeout:3e5},r.createElement(mt,{timeout:6e5,interval:3e3,resourceKind:Oe.Desktop},e.children))}const Ka=[En,Dn,Hn,Fn,{kind:Oe.Desktop,icon:r.createElement(g.Hi7,null),wrapper:e=>r.createElement(Ja,null,e),shouldPrompt:e=>0!==e&&e<3,views:[{title:"Select Resource"},{title:"Install Active Directory",component:yn},{title:"Connect Teleport",component:function(e){const[t,n]=(0,r.useState)(Ao.RunConfigureScript),o=Mo.find((e=>e.kind===t));let a;return null!==o.animation&&(a=r.createElement(jo,null,r.createElement(vo,null,r.createElement(ar,{mode:"out-in"},r.createElement(qn.ZP,{key:o.animation,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(e=>r.createElement("div",{style:fo(fo({},wo),Do[e])},o.animation===Co.RunCommand&&r.createElement(r.Suspense,{fallback:r.createElement(pr,{title:"Terminal"})},r.createElement(Ur,{isCopying:o.kind===Ao.CopyOutput})),o.animation===Co.CreateConfig&&r.createElement(ao,null),o.animation===Co.StartTeleport&&r.createElement(uo,null)))))))),r.createElement(gr,null,r.createElement(ar,{mode:"out-in"},r.createElement(qn.ZP,{key:t,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(o=>r.createElement("div",{style:fo(fo({},wo),No[o])},t===Ao.RunConfigureScript&&r.createElement(r.Suspense,{fallback:r.createElement(fr,null)},r.createElement(xr,{onNext:()=>n(Ao.CopyOutput)})),t===Ao.CopyOutput&&r.createElement(po,{onNext:()=>n(Ao.CreateConfig)}),t===Ao.CreateConfig&&r.createElement(go,{onNext:()=>n(Ao.StartTeleport)}),t===Ao.StartTeleport&&r.createElement(Io,{onNext:()=>e.nextStep()}))))),a)}},{title:"Discover Desktops",component:function(e){const t=(0,Y.Z)(),{result:n}=pt(),[o,i]=(0,r.useState)(!0),{clusterId:l}=(0,Qa.Z)(),{timedOut:s,result:c}=ct((e=>t.desktopService.fetchDesktops(l,{limit:14},e)),6e5,o,3e3),u=(0,r.useRef)(null);(0,r.useEffect)((()=>{o&&c&&14===c.agents.length&&i(!1)}),[o,c]);const d=(0,r.useRef)(),p=[];if(c&&c.agents){const e=c.agents.filter((e=>e.host_id===n.name));if(e.length)for(const t of e.values()){const e=t.labels.find((e=>"teleport.dev/os"===e.name)).value,n=t.labels.find((e=>"teleport.dev/os_version"===e.name)).value;p.push({os:e,osVersion:n,computerName:t.name,address:t.addr})}}let g;if(s)g=r.createElement(Va,null,r.createElement(Fa,null,"Oh no!")," We could not find any Desktops. Connect Desktops to your Active Directory for Teleport to automatically discover them.");else{const e=p.slice(0,3).map(((e,t)=>r.createElement(ua,{key:t,index:t,os:e.os,osVersion:e.osVersion,computerName:e.computerName,address:e.address,desktopServiceElement:u.current,containerElement:d.current}))),t=p.length-3;let n;if(t>0){let e="1",o="Desktops";1===t?o="Desktop":e=t>11?"10+":`${t}`,n=r.createElement(Va,{key:"view-more"},"We've found ",e," more ",o,"."," ",r.createElement(Ha,{to:m.Z.getDesktopsRoute(l)},"View them all here"))}g=r.createElement(r.Fragment,null,e,n)}return r.createElement(a.xu,null,r.createElement(we,null,"Discover Desktops"),r.createElement(a.xv,null,"We're discovering Desktops that are already connected to your Active Directory."),r.createElement(Ya,{ref:d},r.createElement(Ua,{result:n,desktopServiceRef:u}),r.createElement(Ba,null,g)),r.createElement(Ga,null,r.createElement(a.DF,{width:"165px",mr:3,onClick:()=>e.nextStep()},"Finish")))}},{title:"Finished",component:Se,hide:!0}]}],Xa=r.createContext(null);function qa(e){var t;const n=(0,et.Z)({customBanners:e.customBanners,initialAlerts:e.initialAlerts}),o=(0,l.TH)(),[a,i]=(0,r.useState)(0),[s,c]=(0,r.useState)(function(e){switch(e){case"application":return Oe.Application;case"database":return Oe.Database;case"desktop":return Oe.Desktop;case"kubernetes":return Oe.Kubernetes;default:return Oe.Server}}(null==o||null===(t=o.state)||void 0===t?void 0:t.entity)),[u,d]=(0,r.useState)(),[m,p]=(0,r.useState)(),g=Ka.find((e=>e.kind===s)),b=(0,r.useMemo)((()=>"function"==typeof g.views?f(g.views(m)):f(g.views)),[g.views,m]),h={agentMeta:u,alerts:n.alerts,currentStep:a,customBanners:n.customBanners,dismissAlert:n.dismissAlert,initAttempt:{status:n.status,statusText:n.statusText},logout:function(){_e.Z.logout()},nextStep:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=y(b,a+e);t&&i(a+e)},prevStep:function(){y(b,a-1)&&i(a-1)},onSelectResource:function(e){c(e)},resourceState:m,selectedResource:g,selectedResourceKind:s,setResourceState:p,updateAgentMeta:function(e){d(e)},views:b};return r.createElement(Xa.Provider,{value:h},e.children)}function $a(){return(0,r.useContext)(Xa)}const _a=o.ZP.div(["color:white;border-radius:8px;font-size:12px;padding:4px 6px;line-height:1;"]),ei=(0,o.ZP)("div")(["background:",";border-radius:8px;padding:12px 12px;color:white;cursor:pointer;","{background:",";}"],(e=>e.selected?"#5130c9":"#1d2752"),_a,(e=>e.selected?"#4126a1":"#512fc9")),ti=o.ZP.h3(["margin:10px 0 0 0;font-size:14px;font-weight:700;"]);function ni(e){let t;return e.database.popular&&(t=r.createElement(_a,null,"popular")),r.createElement(ei,{selected:e.selected,onClick:()=>e.onSelect()},r.createElement(a.kC,{justifyContent:"space-between",alignItems:"center"},function(e){switch(e.location){case Cn.AWS:return r.createElement(g.ZJk,{fontSize:22});case Cn.SelfHosted:return r.createElement(g.voY,{fontSize:22})}}(e.database),t),r.createElement(ti,null,e.database.name))}const ri=o.ZP.div(["display:grid;grid-template-columns:repeat(4,1fr);column-gap:10px;row-gap:15px;"]);var oi;!function(e){e.All="All",e.AWS="AWS",e.SelfHosted="Self Hosted"}(oi||(oi={}));const ai=[oi.All,oi.AWS,oi.SelfHosted];function ii(){const{resourceState:e,setResourceState:t}=$a(),[n,o]=(0,r.useState)(oi.All),i=[];for(const[o,a]of wn.entries()){switch(n){case oi.SelfHosted:if(a.location===Cn.AWS)continue;break;case oi.AWS:if(a.location===Cn.SelfHosted)continue}i.push(r.createElement(ni,{database:a,key:o,selected:a===e,onSelect:()=>t(a)}))}return r.createElement(a.xu,{mt:6},r.createElement(a.kC,{alignItems:"center",justifyContent:"space-between",mb:4},r.createElement(we,null,"Select Deployment Type"),r.createElement(a.xu,{width:"379px"},r.createElement(Q,{appearance:"round",size:"medium",tabs:ai,onChange:e=>o(ai[e])}))),r.createElement(ri,null,i))}function li(e){const{resourceState:t}=$a();let n=r.createElement(ii,null);return e.disabled&&(n=r.createElement(ze,{action:"add new Databases",productName:"Database Access"})),r.createElement(r.Fragment,null,n,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:!t||e.disabled}))}function si(e){let t=r.createElement(Re,null,r.createElement(a.xv,{typography:"h5",bold:!0,mb:"4px"},r.createElement(g.cEj,{mr:"8px",fontSize:"14px"}),"Note"),r.createElement(a.xv,null,"Teleport Desktop Access currently only supports Windows Desktops managed by Active Directory (AD)."),r.createElement(a.xv,null,"We are working on adding support for non-AD Windows Desktops."));return e.disabled&&(t=r.createElement(ze,{action:"add new Desktops",productName:"Desktop Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function ci(e){let t;return e.disabled&&(t=r.createElement(ze,{action:"add new Kubernetes resources",productName:"Kubernetes Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function ui(e){let t=r.createElement(di,null);return e.disabled&&(t=r.createElement(ze,{action:"add new Servers",productName:"Server Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function di(){return r.createElement(Re,null,r.createElement(a.xv,{typography:"h5"},"Teleport officially supports the following operating systems:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Ubuntu 14.04+"),r.createElement("li",null,"Debian 8+"),r.createElement("li",null,"RHEL/CentOS 7+"),r.createElement("li",null,"Amazon Linux 2"),r.createElement("li",null,"macOS (Intel)")),r.createElement(a.xv,null,"For a more comprehensive list, visit"," ",r.createElement(a.rU,{href:"https://goteleport.com/download",target:"_blank"},"https://goteleport.com/download"),"."))}const mi="data:image/png;base64,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";function pi(e){const t=(0,Y.Z)(),n=t.storeUser.state,{acl:o}=n,[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),u=[{name:"server",kind:Oe.Server,component:r.createElement(gi,{iconSrc:mi,title:"Server"}),permissionsNeeded:[o.nodes.list]},{name:"database",kind:Oe.Database,component:r.createElement(gi,{iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUVSURBVHgB7VdNbBtFFP5md+3EsR3nr6lJ89f0B4JEq7SoDQgqKK2oSqECoaoIVRwAwaUCqSeEhMSlcOSAxA0OnJAoolQNIgWFnxZKq6iEgpLWbVCTkp86dhxnvd6d2Z1h1nYaJ603ruHAoU9+mrW9+963877vzQxw1/5HRnBnRgquSleKvrsmpPMiFwUvK2i592nPdX/a9MjDew9cPRfYRoT/IZuSoEKUJuH+L0RcUZxJLWyNcDLft/7l/u/feO2lCfmcsxKYckCoAwMDbWP9vUdHfqp6yjJILc3KyI73Q9URx2jZnPoi+vSZdw/t3/9XAUxFIJSRkZEtwyc3fD3UrzS5yRecUZRl3Xvnxpp3nd5zcN++S8iX6dYkK8TwOfENxy6dUZoUyYJiJ2UWcrgv0u6b6fnSjVXqHi8QJBaL9abjSjtZSK4UAGj5sVzT41Ubj/Wd6kEFIKCbzN+xqZDYBSHfRdUWvdzZaN9qwGC0DiXK7wnCcigJ32NixwuLiRXpmntdALSS9RycA69NIZnJlLzHMwynVEmm59Gz14d1W1V897Gs8c/yd8lzzcmPnOfHYiPy1aL3UXRsM4BgBlPJlFeaFUAQLTd9FmOobmB49i0fdicUTIwQXL0AzFwD0kkBS+YKr3bgDziI3k/R+qAOS9Hxx7caEmMErd3ekvYEMT15fbattTUPSAhkLYq4lURgvYrNG1VZFgWMOaC2DebYyGQpdCOL62kLzHZgWvXySX/u+XQiaVQEoj4UUjWlQBuxOBgSjCPr4CZiLgA52q47XLotm+fSju3GaGtu4KXyeBIzGIlUqTSA9MzyrivyH+G9NBAiQHUVETQiEKwNoRIQpg0E5IxO/Kng9Gc8D2ZZ3qU4Fr8wQ8X07yE0NPjhr2OIZ9Il83iWw0cISc1nsGlXPeKjPnzzIUPGDKO+w0JtC4WvVgaogSwFgWkqmLkiZ23Ch8TlGhm4Cmu3MSi1WUzPznml8QbBGM31Rcps1LcTHHpPQ2rShyvnQxj9jWN2Wiojy0FNIXuGQLiZo7XdQe8+E/7oDVzsVzF1jaCtW1QOYiZxI93Z1ZW7doloS0LOiiSivRo6d/hzpeAiT9CsZcGkDPOGiVnDAJuW6qCL6tB1U1QEoqamhijKrbTJmBbSUoq3U4cjG8JywrrqiIa0ki3Tk5gN4VWaalbflpClTNy8MS9TqmsIWo2oCtWFUQkI07ZIuEnB+JCCwT4hG05RggWJlgCXV0cQq1ZrCEVtJHS9snIo3JFrh44te+oRO6fhq/cl20NBNHZZiKxh8EcEHBla8haUEqTjBKmxEKaGQuDz1Vi73UZojYUbqX+hjtxyCXftsNG5heDV7T7Mjldh+BeO2IBAJiWQ+DuvjqogUNfC0bzBxgOvUIQ6Exg6BVwbVtG+llcOwrHYzVfIqcOkyPjT6HiMYONuDarcaDBJRMbsHEF10xKGaZKUbiA5Zcu1w91C5Hc/QigVlUMcOXL40ufHT47K666FH22Z1J2Zucxt1w7iqoPzpW8uuBh788Xnf0AJBnkSc3Bw0Lx8OXbA4c744gLmLZOl6oDbSKZGY8PPyKuSW+OVNrr8yZ2PXjh7/vxOw8h+IsTC9mXlBYxLMQl/+qPhyR+3v3P49YsosdN27U4OP+qJEydaIqvbnggEA4/LQ886m/N7bS4aJV8EpSxJGRs3TeuCZZrnfj1z9vgHR9+O4z86/Cw3pciLj4GuVXQMvGsL9g91A5r2QZnbJgAAAABJRU5ErkJggg==",title:"Database"}),permissionsNeeded:[o.dbServers.read,o.dbServers.list]},{name:"kubernetes",kind:Oe.Kubernetes,component:r.createElement(gi,{iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdQSURBVHgB7VdrbBxXFf7mte+H7d2sH4ld22ltk8QhSkOhtSCAeEklKCURICBIUYugaish0dQEBAgJpQKqEiHiHxZIpVIjoSJiULGUpCUKpA6kCY7rxnazcez4kbV3197Z3dmdnZmdGc7cdaS0cWz3ofyoeq2r6517557vfuc759wBPmzvvXHUxX379vlpdFMXlp7dOeNHjhypG46PHxoeSeSGLk9cO/XfC4/Tcw91Hu+wvVPkfHd3d/DhRx87YGru7w/9wxuRBAklxYYYUdC6MzslZxYPfv6Bj/+F1hrU7bVsulYQzumk4ZGR3aGa6NOv93taDEXCx3Yb8AQrdjLXeZw7JiDYKqNua/61a/HLj3/toV2DNFVeDcxqIBzj4sXR0U9Ha6I/Gz/n6krGXdj+YBlagcfVcyIuv0qGYxYat5RR326BJ2Wc77fQ/JkMPDXFFy+NjP78kW98NU77mLcDw60AThgYGOjc2Nbxi9lR166xfwtou5/2MSVMD4mYGuah5oDtXwKGXgHi5wBvgOjy2vjyUyVoRQ6zV3W0flaGO1z441h8/Jn9e3c5YKy3g1kOBHf8+PF123fs6NZVzw9e6+P5aJON9k8ayCdFXOzzwRcCahoID2HyUGwM/xO47yvAQgJ47ocEJmTjyZcUNv7v7xIyWRW1nfkUH5SffaG353e9vb3Fmw0Ky7ngmWcPH+RE6amZN01u004LsRaLTcjTIubiIniCzktA/UYCQaff/Cng0r+A6AZALwG5FIeCzKGtq+KiWDMHJWf5xZD1OV9t41Tf0ecHb2ZjuXDiCqrG27aN6N0aFhQZilpiEzZh4ZfeaLgHuNBPi+n3f46R+igWkteAiyfof80mACacPbKFIhZKacjCLEauTiG1kLmFfRG3aTzHIeD1wCVJyBUKyBWLCG8MYFuViTN/8uLoT3l84iHg9POVIykZIJsEquptfPtwAcGmImbSBcwvZDCXyWJDNIK76mLIZGSsBYQtCALj39lcIO5DPh/0chk5pQDBp+KLB/yIn/bh8lmBMeCrstHUbJEGiKFtKhDKY3peQSKdgc/jxgObPoLUJI9JbcxRYRZrEWZPT8+G3Xv2/kGU3F8wLQumZZIIndGCphtQCZDPJSHs90MUKv5xQGYIZFYpIi3nYJErOpoaUBUI4NLkFK4lUrDN8tFHHt3/XSQSxdVA8LOJxJNef/BXY2dttO4wYZABBobCwbRsNqpGmQxZCLjdFHM2uUyFnC9ANww01kZhpyNIqUnI9jzqIxEUpgNY16Zhfj719Qd33v/izWws5w6upFvVoquM2KYi8oTZ76GSQBopmxWxsbdp1PUy0pqOctlEicYqdw1a26qRkrN4Ux9BTXUQ98Y2okTATEvGyOSCA6J66fArgqjQQVoIB/wsMpLZLLwkUAeMRiWBgWE4LAbEWbutrQXXJ8oYujJBDAFbWpsYe7PpRaYNVdPgEpc3t+xTiozKYal7iW7nZaVUonBV4KffAZ8XRl5hxirrecRn52DYBppq1zFQi/lKZGRojISDaF1fh/jULBHK3ZK6l8sT9oWL51/QdW3QQVGh34aHhOh3uVHSdcgkwLDfh7rqMERRYMzEqkJorIsy5iYTSUxcn2PgWtfXsnB/Y3wKi7L8cmJq7DgqqXtlJu7bdm+n3+dvn3zDQu09luN+1ukUxIrEjDonFASOTh6BRZRkiyqyJKDFXB6SQHWmaT3Ukobp5AIkSq+RcjM6t5Y7Ij5XI5mYwmrCtHhuKwnNF2rSSO08S1jWEiMMDVvFoVjSydcG832eMiNHf7U1VWx6ej4Ni8K6k7ThIhYd9maSixuScnEzTQ+sBoJC0OYEin8n0WTpZblQod9NYFRLX2LGZgxo5B6DoqM6GGBrZlOLzGBLfQxVQT9pQ8HEXJL0IbN3DMu6xd6KwuSpUIQp2XgpxPKqijJtUEWGBHqu6jrb1GkulwiDXHR1dh6xmjBaGmIU2irGSRdzaZnuGBVtJEiosrxGYZqm9rplWTM3hOmAceqIE6aOFgyzjFoSZcjvZfM6ZVGHpfbmBng8LhaWV2bmsJBVUBMKUg8wJuR88bqSXaB6+1Zh3u5SI5w4cbq1o7P9oCi5vkOAhLKTtm+kbioYOmXMALnL5XIx9RcohJ2MmSH6qQojSmHpaGk+4xhXskWl2PPKn4/9uq/vudxaQdyYE/r6+tu2bP/oT0RJ+mYlbVtwAJUIhEFgHJYcbeQpbRcJiJtE6JFczF3pbM7I5/K/H3x14De9hw+lcJsr3louus4a6W8nT25uu7vjt2R0pwNEJRc4OUPTDJtClgk5Gg6xEM3kFNJE4aWxodEDT//4iStY4X65VhA3GrtxDwxe2hMK+g+VyuZdDghK2zblD84Rp1Pqc0rxTDI5/8snvrX3FNZ47X83X0wOGNfJs+f3u92eH1HINVIB4zRDj6eSye6H9+zqXzJu4Q40oaurK9h36sz3/vry6cfwLr++3q/mGL5j36Af7PZ/5XPAPfv9l3EAAAAASUVORK5CYII=",title:"Kubernetes"}),permissionsNeeded:[o.kubeServers.read,o.kubeServers.list]},{name:"application",kind:Oe.Application,component:r.createElement(gi,{iconSrc:"data:image/png;base64,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",title:"Application"}),permissionsNeeded:[o.appServers.read,o.appServers.list]},{name:"desktop",kind:Oe.Desktop,component:r.createElement(gi,{iconSrc:mi,title:"Desktop"}),permissionsNeeded:[o.desktops.read,o.desktops.list]}],d=u.findIndex((t=>t.kind===e.selectedResourceKind)),m=Math.max(0,d),p=function(e,t){return[e.tokens.create,...t.permissionsNeeded].some((e=>!e))}(o,u[m]);return r.createElement(a.xu,null,r.createElement(we,null,"Select Resource Type"),r.createElement(De,null,"Users are able to add and access many different types of resources through Teleport. ",r.createElement("br",null),"Start by selecting the type of resource you want to add."),r.createElement(Q,{initialSelected:m,tabs:u,onChange:t=>e.onSelect(u[t].kind)}),e.selectedResourceKind===Oe.Database&&r.createElement(li,{disabled:p,onProceed:()=>c(!0)}),e.selectedResourceKind===Oe.Application&&r.createElement($e,{disabled:p,onProceed:()=>l(!0)}),e.selectedResourceKind===Oe.Desktop&&r.createElement(si,{disabled:p,onProceed:()=>e.onNext()}),e.selectedResourceKind===Oe.Kubernetes&&r.createElement(ci,{disabled:p,onProceed:()=>e.onNext()}),e.selectedResourceKind===Oe.Server&&r.createElement(ui,{disabled:p,onProceed:()=>e.onNext()}),i&&r.createElement(de,{onClose:()=>l(!1)}),s&&r.createElement(fe,{isEnterprise:t.isEnterprise,username:n.username,version:n.cluster.authVersion,authType:n.authType,onClose:()=>c(!1)}))}const gi=e=>{let{iconSrc:t,title:n}=e;return r.createElement(bi,null,r.createElement(a.Ee,{src:t,width:"32px",mr:2}),r.createElement(a.xv,{bold:!0,typography:"h5"},n))};var bi=(0,o.ZP)(a.kC)(["align-items:center;"]),hi=n(7424);function Ii(e){const t=(0,Y.Z)();return r.createElement(hi.z,{navItems:t.storeNav.getTopMenuItems(),logout:e.logout,username:t.storeUser.getUsername()})}const Ei=["alerts","initAttempt","customBanners","dismissAlert","currentStep","selectedResource","onSelectResource","logout","views"];function xi(){const e=$a(),{alerts:t,initAttempt:n,customBanners:o,dismissAlert:g,currentStep:b,selectedResource:h,onSelectResource:I,logout:E,views:x}=e,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ei);let A;if(b>0){const e=y(x,b).component;A=r.createElement(e,f),h.wrapper&&(A=h.wrapper(A))}else A=r.createElement(pi,{selectedResourceKind:h.kind,onSelect:e=>I(e),onNext:()=>f.nextStep()});const C=t.map((e=>{return{message:e.spec.message,severity:(t=e.spec.severity,t<5?"info":t<10?"warning":"danger"),link:e.metadata.labels[p.F],id:e.metadata.name};var t}));return r.createElement(d.t,{banners:C,customBanners:o,onBannerDismiss:g},r.createElement(yi,null,r.createElement(l.NL,{message:e=>e.pathname===m.Z.routes.discover||"Are you sure you want to exit the “Add New Resource” workflow? You’ll have to start from the beginning next time.",when:h.shouldPrompt(b)}),"processing"===n.status&&r.createElement(s.StyledIndicator,null,r.createElement(a.z$,null)),"failed"===n.status&&r.createElement(i.b0,null,n.statusText),"success"===n.status&&r.createElement(r.Fragment,null,r.createElement(T,{views:x,currentStep:b,selectedResource:h}),r.createElement(s.HorizontalSplit,null,r.createElement(s.ContentMinWidth,null,r.createElement(c.T,null,r.createElement(a.xv,{typography:"h5",bold:!0},"Manage Access"),r.createElement(Ii,{logout:E})),r.createElement(u.Ob,{pt:4,maxWidth:"1450px"},A))))))}function fi(e){return r.createElement(qa,{customBanners:e.customBanners,initialAlerts:e.initialAlerts},r.createElement(xi,null))}const yi=(0,o.ZP)(s.MainContainer)(["--sidebar-width:280px;"])},7067:(e,t,n)=>{n.d(t,{Ob:()=>d,OX:()=>c,u4:()=>u,E2:()=>m});var r=n(917),o=n(7849),a=n(135);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,r.ZP)(o.kC)(["flex-shrink:0;border-bottom:1px solid ",";height:56px;margin-left:-40px;margin-right:-40px;padding-left:40px;padding-right:40px;"],(e=>e.theme.colors.primary.main));c.defaultProps={alignItems:"center",mb:4};const u=(0,r.ZP)(o.xv)(["white-space:nowrap;"]);u.defaultProps=l(l({},o.xv.defaultProps),{},{typography:"h3"});const d=(0,r.ZP)(o.kC)(["width:100%;height:100%;flex-direction:column;::after{content:' ';padding-bottom:24px;}"]);d.defaultProps={theme:a.Z,px:6},r.ZP.div(["position:absolute;width:100%;height:100%;display:flex;"]),r.ZP.div(["display:flex;flex-direction:column;width:100%;"]);const m=r.ZP.button(["color:",";cursor:pointer;display:inline-flex;font-size:14px;padding:12px 40px;position:relative;text-decoration:none;font-weight:500;&:hover{background:",";}&.active{color:",";}&.active:after{background-color:",";content:'';position:absolute;bottom:0;left:0;width:100%;height:4px;}"],(e=>e.theme.colors.text.secondary),(e=>e.active?e.theme.colors.primary.light:"rgba(255, 255, 255, .06)"),(e=>e.theme.colors.light),(e=>e.theme.colors.accent))},1347:(e,t,n)=>{n.d(t,{r:()=>d,Z:()=>E});var r=n(2784),o=n(5070),a=n(3388),i=n(7849),l=n(917);const s=["text","fontFamily","allowMultiline","onCopy","bash"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=n(3757);function d(e){var t,n;let{lines:l,bash:s=!0}=e;const c=(0,r.useRef)([]),d=null===(t=window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toLowerCase().includes("firefox");return r.createElement(h,{bg:"bgTerminal",pl:3,pt:2,pr:7,borderRadius:2,pb:d?3:2},r.createElement(b,{mr:1},l.map(((e,t)=>{const n=t===l.length-1;return r.createElement(i.xu,{pt:2,pb:n?0:2,key:t,ref:e=>c.current[t]=e},e.comment&&r.createElement(p,null,e.comment),r.createElement(i.kC,null,r.createElement(i.kC,null,s&&r.createElement(i.xu,{mr:"1"},"$"),r.createElement("div",{className:"text-to-copy"},e.text)),r.createElement(I,{pr:3},r.createElement(g,{onClick:()=>function(e){(0,o.Z)(l[e].text).then((()=>{const t=c.current[e].getElementsByClassName("icon-container")[0];t.classList.toggle("copied"),setTimeout((()=>{t.classList.toggle("copied")}),1e3)}));const t=c.current[e].getElementsByClassName("text-to-copy")[0];(0,a.Z)(t)}(t)},r.createElement(m,{className:"icon-container"},r.createElement(u.CKM,{"data-testid":"btn-copy"}),r.createElement(u.JrY,{"data-testid":"btn-check"}))))))}))))}const m=l.ZP.div([".icon-check{display:none;}.icon-copy{display:block;}&.copied{.icon-check{display:block;}.icon-copy{display:none;}}"]),p=l.ZP.div(["color:rgb(117 113 94 / 80%);"]),g=(0,l.ZP)(i.PL)(["height:28px;width:28px;border-radius:20px;min-height:auto;padding:0;margin-top:-4px;"]),b=(0,l.ZP)(i.xu)(["white-space:pre;word-break:break-all;font-size:12px;font-family:",";overflow:scroll;line-height:20px;"],(e=>{let{theme:t}=e;return t.fonts.mono}));var h=(0,l.ZP)(i.xu)({position:"relative"}),I=(0,l.ZP)(i.xu)(["position:absolute;right:0px;"]);const E=function(e){let{text:t,fontFamily:n,allowMultiline:u,onCopy:d,bash:m=!0}=e,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,s);const g=n||(0,l.Fg)().fonts.mono,b=r.useRef(),[h,I]=r.useState((()=>"Copy")),E=m&&!u?{overflow:"auto",whiteSpace:"pre",wordBreak:"break-all",fontSize:"12px",fontFamily:g}:{wordBreak:"break-all",fontSize:"12px",fontFamily:g};return r.createElement(i.kC,c({bg:"bgTerminal",p:"2",alignItems:"center",justifyContent:"space-between",borderRadius:2},p),r.createElement(i.kC,{mr:"2",style:E},m&&r.createElement(i.xu,{mr:"1",style:{userSelect:"none"}},"$"),r.createElement("div",{ref:b},t)),r.createElement(i.DF,{onClick:function(){(0,o.Z)(t).then((()=>I("Copied"))),(0,a.Z)(b.current),d&&d()},style:{maxWidth:"48px",width:"100%",padding:"4px 8px",minHeight:"10px",fontSize:"10px"}},h))}},3228:(e,t,n)=>{n.d(t,{ES:()=>i,Kp:()=>o,RB:()=>r,Sl:()=>a});const r=e=>{const t=document.createElement("a");t.setAttribute("href",`${e}`),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;const n=t.encode(e),r=await crypto.subtle.digest("SHA-256",n),o=Array.from(new Uint8Array(r)),a=o.map((e=>e.toString(16).padStart(2,"0"))).join("");return a}function a(e){let{authType:t,clusterId:n,username:r,accessRequestId:o}=e;const{hostname:a,port:i}=window.location;return`tsh login --proxy=${a}:${i||"443"} ${"local"===t?`--auth=${t} --user=${r} `:""}${n}${o?` --request-id=${o}`:""}`}function i(e,t){return e&&t?e.filter((e=>!t.includes(e))):[]}},2010:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTMwcHgiIGhlaWdodD0iMTM3cHgiIHZpZXdCb3g9IjAgMCAxMzAgMTM3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dGVsZXBvcnQgbWVkYWxsaW9uIDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxRTI3NTEiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzBDMTQzRCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjAlIiB5MT0iMy4zNDk2MDkzNyUiIHgyPSIxMDAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzg0OUI1IiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTIzN0UiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGNpcmNsZSBpZD0icGF0aC0zIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU3LjUiPjwvY2lyY2xlPgogICAgICAgIDxmaWx0ZXIgeD0iLTcuMCUiIHk9Ii03LjAlIiB3aWR0aD0iMTEzLjklIiBoZWlnaHQ9IjExNy40JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTQiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSI0IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4yNCAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIyIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjIiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMiIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIyIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4xMiAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIyIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMiI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjIiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii0xMDYuOSUiIHk9Ii0xMDEuMyUiIHdpZHRoPSIzMTMuOSUiIGhlaWdodD0iMzAyLjYlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItNSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjgiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjE2IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjI0IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9Ijc5LjM5ODYwMDMlIiB5MT0iLTg1LjM5ODE3MTIlIiB4Mj0iMTMuNDYwMjg2NSUiIHkyPSIxOTEuOTY2NjY0JSIgaWQ9ImxpbmVhckdyYWRpZW50LTYiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iMTguMjI2OTA5MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U4RUFGNiIgc3RvcC1vcGFjaXR5PSIwLjI0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxmaWx0ZXIgeD0iLTEwNi45JSIgeT0iLTEwMS4zJSIgd2lkdGg9IjMxMy45JSIgaGVpZ2h0PSIzMDIuNiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci03Ij4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iOCIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMTYiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMjQgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlRlbGVwb3J0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iVGVsZXBvcnQtLS1Mb2dpbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY1Ni4wMDAwMDAsIC00My4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0idGVsZXBvcnQtbWVkYWxsaW9uLSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY0LjAwMDAwMCwgNDcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbCI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTQpIiB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIHN0cm9rZT0idXJsKCNsaW5lYXJHcmFkaWVudC0yKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InNxdWFyZSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU2LjUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci01KSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci03KSIgb3BhY2l0eT0iMC40NDA3Nzg0NiIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="}}]);