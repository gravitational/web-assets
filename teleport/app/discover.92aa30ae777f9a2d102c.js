"use strict";(self.webpackChunk_gravitational_teleport=self.webpackChunk_gravitational_teleport||[]).push([[23],{5070:(e,t,n)=>{function r(e){return navigator.clipboard.writeText(e).catch((e=>{window.prompt("Cannot copy to clipboard. Use ctrl/cmd + c",e)}))}n.d(t,{Z:()=>r})},3388:(e,t,n)=>{function r(e){let t,n;window.getSelection&&document.createRange&&(n=window.getSelection(),t=document.createRange(),t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t))}n.d(t,{Z:()=>r})},1271:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(917),a=n(2784),o=n(7849),i=n(8197),l=n(7038);const s=["label","labelTip","value","options","onChange","placeholder","maxMenuHeight","isClearable","isMulti","menuPosition","rule","isSearchable","isSimpleValue","autoFocus","isDisabled"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=()=>()=>({valid:!0}),m=e=>{let{text:t}=e;return a.createElement(d,null,` - ${t}`)};var d=(0,r.ZP)("span")({fontWeight:"normal",textTransform:"none"});const p=function(e){let{label:t,labelTip:n,value:r,options:d,onChange:p,placeholder:g,maxMenuHeight:h,isClearable:I,isMulti:b,menuPosition:E,rule:x=u,isSearchable:y=!1,isSimpleValue:A=!1,autoFocus:f=!1,isDisabled:C=!1}=e,M=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);const{valid:w,message:N}=(0,i.kQ)(x(r)),D=Boolean(!w),v=D?N:t;return a.createElement(o.xu,c({mb:"4"},M),t&&a.createElement(o.SO,{htmlFor:"select",hasError:D},v,n&&a.createElement(m,{text:n})),a.createElement(l.ZP,{inputId:"select",menuPosition:E,hasError:D,isSimpleValue:A,isSearchable:y,isClearable:I,value:r,onChange:p,options:d,maxMenuHeight:h,placeholder:g,isMulti:b,autoFocus:f,isDisabled:C}))}},4221:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(2784),a=n(8069),o=n.n(a);n(8170),n(8074),n(6110),n(997);const i=n(917).ZP.div(["overflow:hidden;border-radius:4px;flex:1;display:flex;position:relative;border:none;background:",";.ace-monokai{background:",";}.ace-monokai .ace_gutter,.ace-monokai .ace_gutter-cell{color:rgba(255,255,255,0.56);background:",";}> .ace_editor{position:absolute;top:8px;right:0px;bottom:0px;left:0px;}"],(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal),(e=>e.theme.colors.bgTerminal)),{UndoManager:l}=o().require("ace/undomanager");class s extends r.Component{constructor(){var e,t;super(...arguments),t=()=>{const e=this.editor.session.getUndoManager().isClean();this.props.onDirty&&this.props.onDirty(!e);const t=this.editor.session.getValue();this.props.onChange&&this.props.onChange(t)},(e="onChange")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}getData(){return this.sessions.map((e=>e.getValue()))}componentDidUpdate(e){e.activeIndex!==this.props.activeIndex&&this.setActiveSession(this.props.activeIndex),this.editor.resize()}createSession(e){let{content:t,type:n,tabSize:r=2}=e;const a="json"===n?"ace/mode/json":"ace/mode/yaml";let i=new(o().EditSession)(t),s=new l;return s.markClean(),i.setUndoManager(s),i.setUseWrapMode(!1),i.setOptions({tabSize:r,useSoftTabs:!0,useWorker:!1}),i.setMode(a),i}setActiveSession(e){let t=this.sessions[e];t||(t=this.createSession({content:""})),this.editor.setSession(t),this.editor.focus()}initSessions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.isDirty=!1,this.sessions=e.map((e=>this.createSession(e))),this.setActiveSession(0)}componentDidMount(){const{data:e,readOnly:t,theme:n="ace/theme/monokai"}=this.props;this.editor=o().edit(this.ace_viewer),this.editor.setFadeFoldWidgets(!0),this.editor.setWrapBehavioursEnabled(!0),this.editor.setHighlightActiveLine(!1),this.editor.setShowInvisibles(!1),this.editor.renderer.setShowGutter(!1),this.editor.renderer.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!0),this.editor.on("input",this.onChange),this.editor.setReadOnly(t),this.editor.setTheme(n),this.initSessions(e),this.editor.focus()}componentWillUnmount(){this.editor.destroy(),this.editor=null,this.session=null}render(){return r.createElement(i,null,r.createElement("div",{ref:e=>this.ace_viewer=e}))}}const c=s},9257:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Jo});var r=n(2784),a=n(917),o=n(7849),i=n(9124),l=n(4517),s=n(6735),c=n(2545),u=n(7067),m=n(9182),d=n(7278),p=n(3298),g=n(3757),h=n(161);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){let t=0;for(const n of e)n.views?t+=x(n.views):t+=1;return t}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];for(const r of e){const e=b(b({},r),{},{index:t,parent});r.views?(e.views=y(r.views,t),t+=x(r.views)):t+=1,n.push(e)}return n}function A(e,t){for(const n of e){if(n.views){const e=A(n.views,t);if(e)return e}if(t===n.index)return n}}function f(e,t){for(const n of e){if(n.index===t)return!0;if(n.views&&f(n.views,t))return!0}return!1}function C(e){if(e.view.hide)return null;let t,n=e.currentStep===e.view.index;e.view.views&&(t=r.createElement(o.xu,{ml:2},r.createElement(j,{views:e.view.views,currentStep:e.currentStep})),n||(n=f(e.view.views,e.currentStep)));const a=e.currentStep>e.view.index;return r.createElement(v,{active:a||n},r.createElement(M,null,function(e,t){return t?r.createElement(N,null):e?r.createElement(D,null):r.createElement(w,null)}(a,n),e.view.title),t)}const M=a.ZP.div(["display:flex;align-items:center;"]),w=a.ZP.span(["height:14px;width:14px;border:1px solid #9b9b9b;border-radius:50%;margin-right:8px;display:flex;align-items:center;justify-content:center;"]),N=(0,a.ZP)(w)(["border-color:",";background:",";:before{content:'';height:8px;width:8px;border-radius:50%;border:2px solid ",";}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.primary.main)),D=(0,a.ZP)(w)(["border-color:",";background:",";:before{content:'✓';}"],(e=>e.theme.colors.secondary.main),(e=>e.theme.colors.secondary.main)),v=(0,a.ZP)(o.xv)(["display:flex;flex-direction:column;color:",";margin-bottom:8px;"],(e=>e.active?"inherit":e.theme.colors.text.secondary));function j(e){const t=e.views.map(((t,n)=>r.createElement(C,{key:n,view:t,currentStep:e.currentStep})));return r.createElement(o.xu,{style:{marginLeft:7},mt:2},t)}const S=(0,a.ZP)(h.JL)(["min-width:var(--sidebar-width);width:var(--sidebar-width);"]),k=(0,a.ZP)(h.VY)(["padding:0 20px;"]);function T(e){let t;return e.views&&(t=r.createElement(j,{views:e.views,currentStep:e.currentStep})),r.createElement(S,null,r.createElement(h.TR,null),r.createElement(k,null,r.createElement(z,{border:"1px solid rgba(255,255,255,0.1);",borderRadius:"8px",p:3},r.createElement(o.kC,{alignItems:"center"},r.createElement(o.kC,{borderRadius:5,alignItems:"center",justifyContent:"center",bg:"secondary.main",height:"30px",width:"30px",mr:2},e.selectedResource?e.selectedResource.icon:r.createElement(g.xFH,null)),r.createElement(o.xv,{bold:!0},"Add New Resource")),r.createElement(o.xu,{mt:3},t))))}var z=(0,a.ZP)(o.xu)({backgroundColor:"rgba(255,255,255,0.02);"});const Z=a.ZP.div(["position:relative;"]),O=a.ZP.label(["cursor:pointer;display:flex;justify-content:center;padding:10px;width:","%;z-index:1;"],(e=>100/e.itemCount)),P=a.ZP.input(["display:none;"]),L=a.ZP.div(["background-color:#512fc9;border-radius:",";box-shadow:0px 2px 6px rgba(12,12,14,0.1);height:",";left:calc(","% + 8px);margin:",";position:absolute;top:0;transition:all 0.3s ease;width:calc(","% - 16px);"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"56px":"40px"),(e=>100/e.itemCount*e.activeIndex),(e=>"xlarge"===e.size?"12px 12px 12px 0":"4px 4px 4px 0"),(e=>100/e.itemCount)),U=a.ZP.nav(["align-items:center;background-color:rgba(255,255,255,0.05);border-radius:",";display:flex;height:",";justify-content:space-around;"],(e=>"square"===e.appearance?"8px":"60px"),(e=>"xlarge"===e.size?"80px":"47px")),Q=function(e){let{appearance:t="square",initialSelected:n=0,name:a="slide-tab",onChange:o,size:i="xlarge",tabs:l}=e;const[s,c]=(0,r.useState)(n);return(0,r.useEffect)((()=>{o(s)}),[s]),r.createElement(Z,null,r.createElement(U,{role:"tablist",appearance:t,size:i},l.map(((e,t)=>{const n="string"==typeof e,o=n?e:e.name,i=n?e:e.component;return r.createElement(O,{role:"tab",htmlFor:`${a}-${o}`,onClick:()=>c(t),itemCount:l.length,key:`${o}-${t}`},i,r.createElement(P,{type:"radio",name:a,id:`${a}-${o}`}))}))),r.createElement(L,{itemCount:l.length,activeIndex:s,appearance:t,size:i}))};var Y=n(9161),R=n(2398);function G(e){return r.createElement(B,{ml:"4",typography:"h5",key:e.title,active:e.active,onClick:e.onClick},r.createElement(g.ZPm,{as:e.Icon,mr:"2"}),e.title)}const B=(0,a.ZP)(o.xv)(["align-items:center;display:flex;padding:4px 8px;cursor:pointer;border-bottom:4px solid transparent;",""],(e=>{let{active:t,theme:n}=e;return t&&`\n    font-weight: 500;\n    border-bottom: 4px solid ${n.colors.accent};\n  `}));var V=n(1347);const W="https://get.gravitational.com/";function H(e,t,n){let r="linux-amd64";const a=n?"ent-":"";return"mac"===e?`${W}teleport-${a}${t}.pkg`:("linux32"===e&&(r="linux-386"),`${W}teleport-${a}v${t}-${r}-bin.tar.gz`)}const F=function(e){let{isEnterprise:t,version:n}=e;return r.createElement(o.xu,null,r.createElement(o.rU,{href:H("mac",n,t),target:"_blank",mr:"2"},"MacOS"),r.createElement(o.rU,{href:H("linux64",n,t),target:"_blank",mr:"2"},"Linux 64-bit"),r.createElement(o.rU,{href:H("linux32",n,t),target:"_blank"},"Linux 32-bit"))},J=`${d.Z.configDir}/app_config.yaml`,K=`teleport start --config=${J}`;function X(e,t){return`teleport configure --output=${J} --app-name=[example-app] --app-uri=http://localhost/ --roles=app --token=${e} --proxy=${t} --data-dir=${d.Z.configDir}`}const q=e=>{let{tshLoginCmd:t,host:n}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(V.Z,{mt:"2",text:t})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(V.Z,{mt:"2",text:"tctl tokens add --type=app"})),r.createElement(o.xu,{mb:"4"},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Configure your teleport agent",r.createElement(V.Z,{mt:"2",text:X("[generated-join-token]",n)})),r.createElement(o.xu,null,r.createElement(o.xv,{bold:!0,as:"span"},"Step 5")," - Start the Teleport agent with the generated configuration file",r.createElement(V.Z,{mt:"2",text:K})),r.createElement(o.xu,null,"* Note: For a self-hosted Teleport version, you may need to update DNS and obtain a TLS certificate for this application.\n            Learn more about application access ",r.createElement(o.rU,{href:"https://goteleport.com/docs/application-access/introduction/",target:"_blank"},"here"),"."))},$=e=>{let{token:t,host:n,createToken:a}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Configure your teleport agent",r.createElement(o.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(o.xv,{bold:!0,as:"span"},t.expiryText,".")),r.createElement(V.Z,{mt:"2",text:X(t.id,n)}),r.createElement(o.xu,null,r.createElement(o.ZP,{onClick:a},"Regenerate Token"))),r.createElement(o.xu,null,r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Start the Teleport agent with the configuration file",r.createElement(V.Z,{mt:"2",text:K})))},_=function(e){let{isEnterprise:t,user:n,version:a,onClose:i,isAuthTypeLocal:l,token:s,createToken:c,attempt:u}=e;const{hostname:m,port:d}=window.document.location,p=`${m}:${d||"443"}`;let g=`tsh login --proxy=${p}`;return l&&(g=`${g} --auth=local --user=${n}`),"processing"===u.status?r.createElement(o.xu,{textAlign:"center"},r.createElement(o.z$,null)):r.createElement(r.Fragment,null,r.createElement(Y.cZ,{flex:"0 0 auto"},r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," ","- Download Teleport package to your computer",r.createElement(F,{isEnterprise:t,version:a})),"failed"===u.status?r.createElement(q,{host:p,tshLoginCmd:g}):r.createElement($,{createToken:c,host:p,token:s})),r.createElement(Y.cN,null,r.createElement(o.PL,{onClick:i},"Close")))};var ee=n(8197),te=n(2030);const ne=/^[-\w/:. ]+$/,re=e=>()=>{if(!e)return{valid:!1,message:"Required"};try{new URL(e)}catch{return{valid:!1,message:"URL is invalid"}}return e.match(ne)?{valid:!0}:{valid:!1,message:"Invalid app URI"}},ae=/^[a-z]([-a-z0-9]*[a-z0-9])?$/,oe=e=>()=>e&&0!==e.length?e.length>63?{valid:!1,message:"Must be 63 chars or less"}:e.match(ae)?{valid:!0}:{valid:!1,message:"Invalid DNS sub-domain name"}:{valid:!1,message:"Required"},ie=(e,t,n)=>{const r=encodeURIComponent(n).replace(/'/g,"%27");return`sudo bash -c "$(curl -fsSL '${d.Z.baseUrl+d.Z.api.appNodeScriptPath.replace(":token",e).replace(":name",t).replace(":uri",r)}')"`},le=function(e){const{onClose:t,attempt:n,token:a}=e,[i,l]=r.useState(""),[s,c]=r.useState(""),[u,m]=r.useState("");function d(t){t.validate()&&e.onCreate(i,s)}function p(e){if(!e.validate())return;const t=ie(a.id,i,s);m(t)}function g(e,t){"Enter"===e.key&&(u?d(t):p(t))}return r.useEffect((()=>{if(i&&s){const e=ie(a.id,i,s);m(e)}}),[a]),r.createElement(ee.ZP,null,(e=>{let{validator:m}=e;return r.createElement(r.Fragment,null,r.createElement(Y.cZ,{minHeight:"254px",flex:"0 0 auto"},r.createElement(o.kC,{alignItems:"center",flexDirection:"row"},r.createElement(te.Z,{rule:oe,label:"App Name",autoFocus:!0,value:i,placeholder:"jenkins",width:"320px",mr:"3",onKeyPress:e=>g(e,m),onChange:e=>l(e.target.value.toLowerCase())}),r.createElement(te.Z,{rule:re,label:"INTERNAL APPLICATION URL",width:"100%",value:s,placeholder:"https://localhost:4000",onKeyPress:e=>g(e,m),onChange:e=>c(e.target.value)})),!u&&r.createElement(o.xv,{mb:"3"},"Teleport can automatically set up application access. Provide the name and URL of your application to generate our auto-installer script.",r.createElement(o.xv,{mt:"2"},"The script will install the Teleport agent to provide secure access to your application.")),"failed"===n.status&&r.createElement(o.bZ,{kind:"danger",children:n.statusText}),u&&r.createElement(r.Fragment,null,r.createElement(o.xv,{mb:"3"},"Use the script below to add an application to your cluster."," ","The script will be valid for",r.createElement(o.xv,{bold:!0,as:"span"},` ${a.expiryText}`,"."),function(){const e=`https://${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}.${window.location.host}`;return r.createElement(o.xv,null,"This app will be available on ","  ",r.createElement(o.rU,{target:"_blank",href:e},`${e}`))}(i)),r.createElement(V.Z,{text:u,mb:2}))),r.createElement(Y.cN,null,!u&&r.createElement(o.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>p(m)},"Generate Script"),u&&r.createElement(o.DF,{mr:"3",disabled:"processing"===n.status,onClick:()=>d(m)},"Regenerate"),r.createElement(o.PL,{disabled:"processing"===n.status,onClick:t},"Close")))}))};var se=n(4696);function ce(){return ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function ue(e){let{user:t,onClose:n,createToken:a,isEnterprise:i,version:l,attempt:s,automatic:c,setAutomatic:u,isAuthTypeLocal:m,token:d}=e;return r.createElement(Y.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%",minHeight:"330px"}),disableEscapeKeyDown:!1,onClose:n,open:!0},r.createElement(o.kC,{flex:"1",flexDirection:"column"},r.createElement(o.kC,{alignItems:"center",justifyContent:"space-between",mb:"4"},r.createElement(Y.$N,{mr:"auto"},"Add Application"),i&&r.createElement(r.Fragment,null,r.createElement(G,{Icon:g.$8D,title:"Automatically",active:c,onClick:()=>u(!0)}),r.createElement(G,{Icon:g.Oz3,title:"Manually",active:!c,onClick:()=>u(!1)}))),c&&r.createElement(le,{onClose:n,onCreate:a,attempt:s,token:d}),!c&&r.createElement(_,{isAuthTypeLocal:m,isEnterprise:i,onClose:n,user:t,version:l,createToken:a,attempt:s,token:d})))}const me=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)(""),a=e.storeUser.state.username,o=e.storeUser.state.cluster.authVersion,i=!e.storeUser.isSso(),l=e.isEnterprise,[s,c]=(0,r.useState)(l),[u,m]=(0,r.useState)();function d(){return n((()=>e.joinTokenService.fetchJoinToken({roles:["App"]}).then(m)))}return(0,r.useEffect)((()=>{d()}),[]),{user:a,version:o,createToken:d,attempt:t,automatic:s,setAutomatic:c,isAuthTypeLocal:i,isEnterprise:l,token:u}}((0,R.Z)());return r.createElement(ue,ce({},t,e))};var de=n(7038),pe=n(133);function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function he(e){let{createJoinToken:t,attempt:n,token:a,authType:i,username:l,onClose:s,isEnterprise:c,version:u}=e;const{hostname:m,port:d}=window.document.location,p=`${m}:${d||"443"}`,[g]=(0,r.useState)((()=>xe.map((e=>({value:e,label:e.title}))))),[h,I]=(0,r.useState)(g[0]),b="sso"===i?`tsh login --proxy=${p}`:`tsh login --proxy=${p} --auth=local --user=${l}`;return r.createElement(Y.ZP,{dialogCss:()=>({maxWidth:"600px",width:"100%"}),disableEscapeKeyDown:!1,onClose:s,open:!0},r.createElement(Y.fK,{mb:4},r.createElement(Y.$N,null,"Add Database")),r.createElement(Y.cZ,null,"processing"===n.status&&r.createElement(o.xu,{textAlign:"center"},r.createElement(o.z$,null)),"failed"===n.status&&r.createElement(be,{loginCommand:b,addCommand:Ee(h.value.type,h.value.protocol,p,""),selectedDb:h,onDbChange:e=>I(e),dbOptions:g,isEnterprise:c,version:u}),"success"===n.status&&r.createElement(Ie,{selectedDb:h,onDbChange:e=>I(e),dbOptions:g,command:Ee(h.value.type,h.value.protocol,p,a.id),expiry:a.expiryText,onRegenerateToken:t,isEnterprise:c,version:u})),"processing"!==n.status&&r.createElement(Y.cN,null,r.createElement(o.PL,{onClick:s},"Close")))}const Ie=e=>{let{selectedDb:t,onDbChange:n,dbOptions:a,expiry:i,command:l,onRegenerateToken:s,isEnterprise:c,version:u}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:c,version:u})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Select the database type and protocol to use",r.createElement(o.xu,{mt:2},r.createElement(de.ZP,{value:t,onChange:n,options:a,isSearchable:!0,maxMenuHeight:220}))),r.createElement(o.xu,{mb:2},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate the Teleport config file",r.createElement(o.xv,{mt:"1"},"The token will be valid for"," ",r.createElement(o.xv,{bold:!0,as:"span"},i,".")),r.createElement(V.Z,{mt:"2",text:l}),r.createElement(o.ZP,{onClick:s},"Regenerate Token")),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Start the Teleport agent with the following parameters",r.createElement(V.Z,{mt:"2",text:"teleport start"})),r.createElement(o.xu,null,"Learn more about database access in our ",r.createElement(o.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},be=e=>{let{loginCommand:t,addCommand:n,selectedDb:a,dbOptions:i,onDbChange:l,isEnterprise:s,version:c}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 1")," - Download Teleport package to your computer ",r.createElement(F,{isEnterprise:s,version:c})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 2")," - Login to Teleport",r.createElement(V.Z,{mt:"2",text:t})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 3")," - Generate a join token",r.createElement(V.Z,{mt:"2",text:"tctl tokens add --type=db"})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 4")," - Select the database type and protocol to use",r.createElement(o.xu,{mt:2},r.createElement(de.ZP,{value:a,onChange:l,options:i,isSearchable:!0,maxMenuHeight:220}))),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 5")," - Generate the Teleport config file",r.createElement(V.Z,{mt:"2",text:n})),r.createElement(o.xu,{mb:4},r.createElement(o.xv,{bold:!0,as:"span"},"Step 6")," - Start the Teleport agent with the following parameters",r.createElement(V.Z,{mt:"2",text:"teleport start"})),r.createElement(o.xu,null,"Learn more about database access in our ",r.createElement(o.rU,{href:"https://goteleport.com/docs/database-access/",target:"_blank"},"documentation"),"."))},Ee=(e,t,n,r)=>{let a=`teleport db configure create --token=${r||"[generated-join-token]"} --proxy=${n} --name=[db-name] --protocol=${t} --uri=[uri] -o file`;switch("sqlserver"===t&&(a=`${a} --ad-keytab-file=/path/to/teleport.keytab --ad-domain=EXAMPLE.COM --ad-spn=MSSQLSvc/sqlserver.example.com:1433`),e){case"self-hosted":return a;case"rds":return`${a} --aws-region=[region]`;case"redshift":return`${a} --aws-region=[region] --aws-redshift-cluster-id=[cluster-id]`;case"gcp":return`${a} --ca-cert-file=[instance-ca-filepath] --gcp-project-id=[project-id] --gcp-instance-id=[instance-id]`;default:return"unknown type and protocol"}},xe=[(0,pe.D)("rds","postgres"),(0,pe.D)("rds","mysql"),(0,pe.D)("rds","sqlserver"),(0,pe.D)("redshift","postgres"),(0,pe.D)("gcp","postgres"),(0,pe.D)("gcp","mysql"),(0,pe.D)("gcp","sqlserver"),(0,pe.D)("self-hosted","postgres"),(0,pe.D)("self-hosted","mysql"),(0,pe.D)("self-hosted","mongodb"),(0,pe.D)("self-hosted","sqlserver"),(0,pe.D)("self-hosted","redis")],ye=function(e){const t=function(e){const{attempt:t,run:n}=(0,se.Z)("processing"),[a,o]=(0,r.useState)();function i(){return n((()=>e.joinTokenService.fetchJoinToken({roles:["Db"]}).then(o)))}return(0,r.useEffect)((()=>{i()}),[]),{createJoinToken:i,attempt:t,token:a}}((0,R.Z)());return r.createElement(he,ge({},t,e))};var Ae=n(7933),fe=n(8227);const Ce=e=>{let{onProceed:t=null,proceedHref:n="",disableProceed:a=!1,lastStep:i=!1}=e;return r.createElement(o.xu,{mt:4},n&&r.createElement(o.DF,{size:"medium",as:"a",href:n,target:"_blank",width:"224px",mr:3,rel:"noreferrer"},"View Documentation"),t&&r.createElement(o.DF,{width:"165px",onClick:t,mr:3,disabled:a},i?"Finish":"Next"),r.createElement(fe.PL,{as:Ae.OL,to:d.Z.routes.root,mt:3,width:"165px"},"Exit"))},Me=(0,a.ZP)(o.oD)(["color:",";font-weight:normal;padding-left:0;font-size:inherit;min-height:auto;"],(e=>{let{theme:t}=e;return t.colors.link})),we=e=>{let{children:t}=e;return r.createElement(o.xv,{my:1,fontSize:"18px",bold:!0},t)},Ne=e=>{let{children:t}=e;return r.createElement(o.xv,{mb:5},t)},De=e=>{let{children:t,onPrev:n}=e;return r.createElement(o.kC,{alignItems:"center"},r.createElement(o.Ei,{size:1,title:"Go Back",onClick:n,ml:-2},r.createElement(g.xhZ,{fontSize:"24px"})),r.createElement(o.xv,{my:1,fontSize:"18px",bold:!0},t))};var ve=n(1392);const je=n.p+"assets/img/img-55ebd1.png";function Se(e){let t;return e.agentMeta&&e.agentMeta.resourceName&&(t=`Resource [${e.agentMeta.resourceName}] has been successfully added to\n        this Teleport Cluster.`),r.createElement(ke,{width:"600px",flexDirection:"column",alignItems:"center"},r.createElement(o.Ee,{width:"120px",height:"120px",src:je}),r.createElement(o.xv,{mt:3,mb:2,typography:"h4",bold:!0},"Resource Successfully Added"),r.createElement(o.xv,{mb:3},t," You can start accessing this resource right away or add another resource."),r.createElement(o.kC,null,r.createElement(o.DF,{width:"270px",size:"large",onClick:()=>ve.Z.push(d.Z.routes.root,!0),mr:3},"Browse Existing Resources"),r.createElement(o.PL,{width:"270px",size:"large",onClick:()=>ve.Z.reload()},"Add Another Resource")))}var ke=(0,a.ZP)(o.kC)(["margin:0 auto;text-align:center;"]);const Te=a.ZP.mark(["padding:2px 5px;border-radius:6px;background-color:rgb(255 255 255 / 17%);color:inherit;"]);var ze,Ze=n(4221);function Oe(e){switch(e){case ze.Application:return"App";case ze.Database:return"Db";case ze.Desktop:return"WindowsDesktop";case ze.Kubernetes:return"Kube";case ze.Server:return"Node"}}function Pe(e){let t;return e.stepNumber&&(t=`Step ${e.stepNumber}: `),r.createElement(Le,null,r.createElement(o.xv,{bold:!0},t,e.title),r.createElement(V.Z,{text:e.text,mt:2,mb:1,bash:e.isBash}))}!function(e){e[e.Application=0]="Application",e[e.Database=1]="Database",e[e.Desktop=2]="Desktop",e[e.Kubernetes=3]="Kubernetes",e[e.Server=4]="Server"}(ze||(ze={}));const Le=a.ZP.div(["background:rgba(255,255,255,0.05);border-radius:8px;padding:16px;margin-bottom:12px;"]),Ue=(0,a.ZP)(o.xv)(["display:flex;align-items:center;.icon{margin-right:8px;}"]),Qe=(0,a.ZP)(o.xu)(["width:100%;margin-top:32px;border-radius:8px;background-color:",";padding:24px;"],(e=>e.theme.colors.primary.light));(0,a.ZP)("span")({fontSize:"12px",fontWeight:"lighter"}),(0,a.ZP)("span")({fontSize:"12px",fontWeight:"lighter"}),(0,a.ZP)(o.Ei)(["&:disabled{opacity:0.65;pointer-events:none;}"]),(0,a.ZP)(o.oD)(["padding-left:0px;&:disabled{.icon-add{opacity:0.35;}pointer-events:none;}"]),(0,a.ZP)(g.mm_)(["font-weight:bold;letter-spacing:4px;margin-top:-2px;&:after{content:' ';}"]);const Ye="data:image/png;base64,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";function Re(e){return r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5"},"You are not able to ",e.action,". There are two possible reasons for this:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Your Teleport Enterprise license does not include ",e.productName,". Reach out to your Teleport administrator to enable ",e.productName,"."),r.createElement("li",null,"You don’t have sufficient permissions to ",e.action,". Reach out to your Teleport administrator to request additional permissions.")))}function Ge(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Applications",productName:"Application Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Be(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Databases",productName:"Database Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Ve(e){let t=r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5",bold:!0,mb:"4px"},r.createElement(g.cEj,{mr:"8px",fontSize:"14px"}),"Note"),r.createElement(o.xv,null,"Teleport Desktop Access currently only supports Windows Desktops managed by Active Directory (AD)."),r.createElement(o.xv,null,"We are working on adding support for non-AD Windows Desktops."));return e.disabled&&(t=r.createElement(Re,{action:"add new Desktops",productName:"Desktop Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function We(e){let t;return e.disabled&&(t=r.createElement(Re,{action:"add new Kubernetes resources",productName:"Kubernetes Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function He(e){let t=r.createElement(Fe,null);return e.disabled&&(t=r.createElement(Re,{action:"add new Servers",productName:"Server Access"})),r.createElement(r.Fragment,null,t,r.createElement(Ce,{onProceed:()=>e.onProceed(),disableProceed:e.disabled}))}function Fe(){return r.createElement(Qe,null,r.createElement(o.xv,{typography:"h5"},"Teleport officially supports the following operating systems:"),r.createElement("ul",{style:{paddingLeft:28}},r.createElement("li",null,"Ubuntu 14.04+"),r.createElement("li",null,"Debian 8+"),r.createElement("li",null,"RHEL/CentOS 7+"),r.createElement("li",null,"Amazon Linux 2"),r.createElement("li",null,"macOS (Intel)")),r.createElement(o.xv,null,"For a more comprehensive list, visit"," ",r.createElement(o.rU,{href:"https://goteleport.com/download",target:"_blank"},"https://goteleport.com/download"),"."))}function Je(e){const t=(0,R.Z)(),n=t.storeUser.state,{acl:a}=n,[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),u=[{name:"server",kind:ze.Server,component:r.createElement(Ke,{iconSrc:Ye,title:"Server"}),permissionsNeeded:[a.nodes.list]},{name:"database",kind:ze.Database,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUVSURBVHgB7VdNbBtFFP5md+3EsR3nr6lJ89f0B4JEq7SoDQgqKK2oSqECoaoIVRwAwaUCqSeEhMSlcOSAxA0OnJAoolQNIgWFnxZKq6iEgpLWbVCTkp86dhxnvd6d2Z1h1nYaJ603ruHAoU9+mrW9+963877vzQxw1/5HRnBnRgquSleKvrsmpPMiFwUvK2i592nPdX/a9MjDew9cPRfYRoT/IZuSoEKUJuH+L0RcUZxJLWyNcDLft/7l/u/feO2lCfmcsxKYckCoAwMDbWP9vUdHfqp6yjJILc3KyI73Q9URx2jZnPoi+vSZdw/t3/9XAUxFIJSRkZEtwyc3fD3UrzS5yRecUZRl3Xvnxpp3nd5zcN++S8iX6dYkK8TwOfENxy6dUZoUyYJiJ2UWcrgv0u6b6fnSjVXqHi8QJBaL9abjSjtZSK4UAGj5sVzT41Ubj/Wd6kEFIKCbzN+xqZDYBSHfRdUWvdzZaN9qwGC0DiXK7wnCcigJ32NixwuLiRXpmntdALSS9RycA69NIZnJlLzHMwynVEmm59Gz14d1W1V897Gs8c/yd8lzzcmPnOfHYiPy1aL3UXRsM4BgBlPJlFeaFUAQLTd9FmOobmB49i0fdicUTIwQXL0AzFwD0kkBS+YKr3bgDziI3k/R+qAOS9Hxx7caEmMErd3ekvYEMT15fbattTUPSAhkLYq4lURgvYrNG1VZFgWMOaC2DebYyGQpdCOL62kLzHZgWvXySX/u+XQiaVQEoj4UUjWlQBuxOBgSjCPr4CZiLgA52q47XLotm+fSju3GaGtu4KXyeBIzGIlUqTSA9MzyrivyH+G9NBAiQHUVETQiEKwNoRIQpg0E5IxO/Kng9Gc8D2ZZ3qU4Fr8wQ8X07yE0NPjhr2OIZ9Il83iWw0cISc1nsGlXPeKjPnzzIUPGDKO+w0JtC4WvVgaogSwFgWkqmLkiZ23Ch8TlGhm4Cmu3MSi1WUzPznml8QbBGM31Rcps1LcTHHpPQ2rShyvnQxj9jWN2Wiojy0FNIXuGQLiZo7XdQe8+E/7oDVzsVzF1jaCtW1QOYiZxI93Z1ZW7doloS0LOiiSivRo6d/hzpeAiT9CsZcGkDPOGiVnDAJuW6qCL6tB1U1QEoqamhijKrbTJmBbSUoq3U4cjG8JywrrqiIa0ki3Tk5gN4VWaalbflpClTNy8MS9TqmsIWo2oCtWFUQkI07ZIuEnB+JCCwT4hG05RggWJlgCXV0cQq1ZrCEVtJHS9snIo3JFrh44te+oRO6fhq/cl20NBNHZZiKxh8EcEHBla8haUEqTjBKmxEKaGQuDz1Vi73UZojYUbqX+hjtxyCXftsNG5heDV7T7Mjldh+BeO2IBAJiWQ+DuvjqogUNfC0bzBxgOvUIQ6Exg6BVwbVtG+llcOwrHYzVfIqcOkyPjT6HiMYONuDarcaDBJRMbsHEF10xKGaZKUbiA5Zcu1w91C5Hc/QigVlUMcOXL40ufHT47K666FH22Z1J2Zucxt1w7iqoPzpW8uuBh788Xnf0AJBnkSc3Bw0Lx8OXbA4c744gLmLZOl6oDbSKZGY8PPyKuSW+OVNrr8yZ2PXjh7/vxOw8h+IsTC9mXlBYxLMQl/+qPhyR+3v3P49YsosdN27U4OP+qJEydaIqvbnggEA4/LQ886m/N7bS4aJV8EpSxJGRs3TeuCZZrnfj1z9vgHR9+O4z86/Cw3pciLj4GuVXQMvGsL9g91A5r2QZnbJgAAAABJRU5ErkJggg==",title:"Database"}),permissionsNeeded:[a.dbServers.read,a.dbServers.list]},{name:"kubernetes",kind:ze.Kubernetes,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,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",title:"Kubernetes"}),permissionsNeeded:[a.kubeServers.read,a.kubeServers.list]},{name:"application",kind:ze.Application,component:r.createElement(Ke,{iconSrc:"data:image/png;base64,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",title:"Application"}),permissionsNeeded:[a.appServers.read,a.appServers.list]},{name:"desktop",kind:ze.Desktop,component:r.createElement(Ke,{iconSrc:Ye,title:"Desktop"}),permissionsNeeded:[a.desktops.read,a.desktops.list]}],m=u.findIndex((t=>t.kind===e.selectedResourceKind)),d=Math.max(0,m),p=function(e,t){return[e.tokens.create,...t.permissionsNeeded].some((e=>!e))}(a,u[d]);return r.createElement(o.xu,null,r.createElement(we,null,"Select Resource Type"),r.createElement(Ne,null,"Users are able to add and access many different types of resources through Teleport. ",r.createElement("br",null),"Start by selecting the type of resource you want to add."),r.createElement(Q,{initialSelected:d,tabs:u,onChange:t=>e.onSelect(u[t].kind)}),e.selectedResourceKind===ze.Database&&r.createElement(Be,{disabled:p,onProceed:()=>c(!0)}),e.selectedResourceKind===ze.Application&&r.createElement(Ge,{disabled:p,onProceed:()=>l(!0)}),e.selectedResourceKind===ze.Desktop&&r.createElement(Ve,{disabled:p,onProceed:()=>e.onNext()}),e.selectedResourceKind===ze.Kubernetes&&r.createElement(We,{disabled:p,onProceed:()=>e.onNext()}),e.selectedResourceKind===ze.Server&&r.createElement(He,{disabled:p,onProceed:()=>e.onNext()}),i&&r.createElement(me,{onClose:()=>l(!1)}),s&&r.createElement(ye,{isEnterprise:t.isEnterprise,username:n.username,version:n.cluster.authVersion,authType:n.authType,onClose:()=>c(!1)}))}a.ZP.div(["background:rgba(255,255,255,0.05);border:",";border-radius:8px;box-sizing:border-box;cursor:pointer;height:72px;padding:12px;width:242px;&:hover{border:2px solid rgba(255,255,255,0.1);}"],(e=>e.selected?"2px solid rgba(255, 255, 255, 0.1);":"2px solid rgba(255, 255, 255, 0)")),a.ZP.div(["align-items:center;background-color:#512fc9;border-radius:33px;box-sizing:border-box;font-size:10px;height:15px;line-height:11px;padding:2px 10px;max-width:57px;"]);const Ke=e=>{let{iconSrc:t,title:n}=e;return r.createElement(Xe,null,r.createElement(o.Ee,{src:t,width:"32px",mr:2}),r.createElement(o.xv,{bold:!0,typography:"h5"},n))};var Xe=(0,a.ZP)(o.kC)(["align-items:center;"]),qe=n(7424);function $e(e){const t=(0,R.Z)();return r.createElement(qe.z,{navItems:t.storeNav.getTopMenuItems(),logout:e.logout,username:t.storeUser.getUsername()})}var _e=n(4852),et=n(2944),tt=n(4998);n(3364),n(3665);const nt=r.createContext(null);function rt(e){const[t,n]=(0,r.useState)(null),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(i&&i>Date.now()){o(!1);const e=window.setTimeout((()=>o(!0)),i-Date.now());return()=>clearTimeout(e)}}),[i]);const s=(0,r.useCallback)((()=>{l(Date.now()+e.timeout)}),[e.timeout]);return r.createElement(nt.Provider,{value:{joinToken:t,setJoinToken:n,timeout:i,startTimer:s,timedOut:a}},e.children)}let at,ot;function it(){ot=null}function lt(){return(0,r.useContext)(nt).joinToken}function st(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"token";const a=(0,R.Z)(),o=(0,r.useContext)(nt);function i(){return at=new AbortController,ot={promise:a.joinTokenService.fetchJoinToken({roles:[Oe(e)],method:n,agentMatcherLabel:t},at.signal).then((e=>{if(!e.internalResourceId)throw new Error("internal resource ID is required to discover the newly added resource, but none was provided");ot.response=e,o.setJoinToken(e),o.startTimer()})).catch((e=>{ot.error=e}))},ot}if((0,r.useEffect)((()=>()=>{var e;null===(e=at)||void 0===e||e.abort(),it()}),[]),ot){if(ot.error)throw ot.error;if(ot.response)return{joinToken:ot.response,reloadJoinToken:i,timedOut:o.timedOut,timeout:o.timeout};throw ot.promise}throw i().promise}function ct(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const o=(0,r.useRef)(new AbortController),[i,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);return(0,r.useEffect)((()=>{n&&!i&&(m(null),c(!1),l(!0)),!n&&i&&l(!1)}),[e,n,i]),(0,r.useEffect)((()=>{if(i&&t>Date.now()){const e=window.setTimeout((()=>{c(!0)}),t-Date.now());return()=>clearTimeout(e)}}),[i,t]),(0,r.useEffect)((()=>{if(i){o.current=new AbortController;const t=window.setInterval((async()=>{try{const n=await e(o.current.signal);n&&(clearInterval(t),m(n))}catch{}}),a);return()=>{clearInterval(t),o.current.abort()}}}),[i,s,a,e]),{timedOut:s,result:u}}var ut=n(4195);const mt=r.createContext(null);function dt(e){const t=(0,R.Z)(),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),l=lt(),{timedOut:s,result:c}=ct((n=>function(n){const r=t.storeUser.getClusterId(),a={search:`${ut.E} ${l.internalResourceId}`,limit:1};switch(e.resourceKind){case ze.Server:return t.nodeService.fetchNodes(r,a,n);case ze.Desktop:return t.desktopService.fetchDesktopServices(r,a,n);case ze.Kubernetes:return t.kubeService.fetchKubernetes(r,a,n);case ze.Database:return t.databaseService.fetchDatabases(r,a,n)}}(n).then((e=>e.agents.length?e.agents[0]:null))),o,n,e.interval);(0,r.useEffect)((()=>{n&&Date.now()>o&&a(!1)}),[n,o,s]);const u=(0,r.useCallback)((()=>{i(Date.now()+e.timeout),a(!0)}),[e.timeout]);return(0,r.useEffect)((()=>{c&&(i(null),a(!1))}),[c]),r.createElement(mt.Provider,{value:{active:n,start:u,result:c,timedOut:s,timeout:o}},e.children)}function pt(){const e=(0,r.useContext)(mt);return(0,r.useEffect)((()=>{e.active||e.start()}),[]),e}function gt(e){let{timeout:t,message:n="This script is valid for another"}=e;const[,a]=(0,r.useState)(0);(0,r.useEffect)((()=>{const e=window.setInterval((()=>{Date.now()>=t&&clearInterval(e),a((e=>e+1))}),1e3);return()=>clearInterval(e)}),[t]);const{minutes:o,seconds:i}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(t-Date.now()),l=String(i).padStart(2,"0"),s=String(o).padStart(2,"0");return r.createElement("span",null,n," ",s,":",l)}const ht=e=>{let{command:t,poll:n,pollingTimeout:a,header:i}=e;return r.createElement(It,{mt:4,p:3,borderRadius:3,pollState:n.state},i||r.createElement(o.xv,{bold:!0},"Command"),r.createElement(o.xu,{mt:2,mb:1},r.createElement(V.r,{lines:[{text:t}]})),"polling"===n.state&&r.createElement(bt,null,r.createElement(g.r6F,{fontSize:4}),r.createElement(gt,{timeout:a,message:`${n.customStateDesc||"Waiting for Teleport Service"}  |  `})),"success"===n.state&&r.createElement(Ue,null,r.createElement(g.yGk,{ml:1,color:"success"}),n.customStateDesc||"The Teleport Service successfully join this Teleport cluster"),"error"===n.state&&r.createElement(o.xu,null,r.createElement(Ue,null,r.createElement(g.v3j,{ml:1,color:"danger"}),n.error.customErrContent||"We could not detect the Teleport Service you were trying to add"),r.createElement(o.xv,{bold:!0,mt:4},"Possible reasons"),r.createElement(Et,null,n.error.reasonContents.map(((e,t)=>r.createElement("li",{key:t},e))))))},It=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);padding:",";border-radius:",";border:2px solid ",";"],(e=>`${e.theme.space[3]}px`),(e=>`${e.theme.space[2]}px`),(e=>{switch(e.pollState){case"error":return e.theme.colors.danger;case"success":return e.theme.colors.success;default:return"#2F3659"}}));var bt=(0,a.ZP)(Ue)(["white-space:pre;"]),Et=(0,a.ZP)("ul")(["margin-top:6px;margin-bottom:0;"]);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){const{joinToken:t,reloadJoinToken:n,timeout:a}=st(ze.Server),{timedOut:o,start:i,result:l}=pt();let s={state:"polling",customStateDesc:"Waiting for Teleport SSH Service"};return o?s={state:"error",error:{customErrContent:r.createElement(r.Fragment,null,"We could not detect the server you were trying to add."," ",r.createElement(Me,{ml:1,onClick:function(){n(),i()}},"Generate a new command")),reasonContents:[r.createElement(r.Fragment,null,"The command was not run on the server you were trying to add"),r.createElement(r.Fragment,null,"The Teleport SSH Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"journalctl status teleport"))]}}:l&&(s={state:"success",customStateDesc:"The server successfully joined this Teleport cluster"}),r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(Ne,null,"Install and configure the Teleport SSH Service.",r.createElement("br",null),"Run the following command on the server you want to add."),r.createElement(ht,{command:(c=t.id,`sudo bash -c "$(curl -fsSL ${d.Z.getNodeScriptUrl(c)})"`),poll:s,pollingTimeout:a}),r.createElement(Ce,{onProceed:function(){e.updateAgentMeta(yt(yt({},e.agentMeta),{},{resourceName:l.hostname,node:l}))},disableProceed:"success"!==s.state}));var c}const Ct=e=>{let{nextStep:t,pollState:n,children:a}=e;return r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(Ne,null,"Install and configure the Teleport SSH Service.",r.createElement("br",null),"Run the following command on the server you want to add."),r.createElement(It,{pollState:n},a),r.createElement(Ce,{onProceed:t,disableProceed:!n||"error"===n||"polling"===n}))};var Mt=n(7896),wt=n(8777),Nt=n(6666),Dt=n(9249),vt=n(7371),jt=n(5754),St=n(1987),kt=n(5058),Tt=(n(3528),n(8316),n(1997)),zt=n(1774),Zt=(n(8951),n(8726),n(4486));function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pt,Lt,Ut,Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),a=String(t.label).toLowerCase();return r===n||a===n},Yt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,Nt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Qt(e,t)}))||n.some((function(t){return Qt(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Rt=(Pt=zt.S,Ut=Lt=function(e){(0,jt.Z)(o,e);var t,n,a=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,kt.Z)(t);if(n){var a=(0,kt.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,St.Z)(this,e)});function o(e){var t;(0,Dt.Z)(this,o),(t=a.call(this,e)).select=void 0,t.onChange=function(e,n){var r=t.props,a=r.getNewOptionData,o=r.inputValue,i=r.isMulti,l=r.onChange,s=r.onCreateOption,c=r.value,u=r.name;if("select-option"!==n.action)return l(e,n);var m=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==m)l(e,n);else if(s)s(o);else{var p=a(o,o),g={action:"create-option",name:u};l(i?[].concat((0,wt.Z)((0,Tt.C)(c)),[p]):p,g)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return(0,vt.Z)(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,a=e.getNewOptionData,o=e.inputValue,i=e.isLoading,l=e.isValidNewOption,s=e.value,c=e.options||[],u=this.state.newOption;u=l(o,(0,Tt.C)(s),c)?a(o,r(o)):void 0,this.setState({newOption:u,options:!t&&i||!u?c:"first"===n?[u].concat((0,wt.Z)(c)):[].concat((0,wt.Z)(c),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,t=this.state.options;return r.createElement(Pt,(0,Mt.Z)({},this.props,{ref:function(t){e.select=t},options:t,onChange:this.onChange}))}}]),o}(r.Component),Lt.defaultProps=Yt,Ut);const Gt=(0,Zt.m)(Rt);var Bt=n(135);const Vt=["isMulti","isClearable","isDisabled","autoFocus"];function Wt(){return Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt.apply(this,arguments)}function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kt={multiValue:(e,t)=>t.data.isFixed?Ft(Ft({},e),{},{backgroundColor:"gray"}):e,multiValueLabel:(e,t)=>t.data.isFixed?Ft(Ft({},e),{},{color:Bt.Z.colors.text.onDark,paddingRight:6}):t.isDisabled?Ft(Ft({},e),{},{paddingRight:6}):Ft(Ft({},e),{},{color:Bt.Z.colors.text.onLight}),multiValueRemove:(e,t)=>t.data.isFixed||t.isDisabled?Ft(Ft({},e),{},{display:"none"}):Ft(Ft({},e),{},{cursor:"pointer",color:Bt.Z.colors.text.onLight}),menuList:e=>Ft(Ft({},e),{},{color:Bt.Z.colors.text.onLight})},Xt=e=>{let{isMulti:t=!0,isClearable:n=!0,isDisabled:a=!1,autoFocus:o=!1}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Vt);return r.createElement(Gt,Wt({className:"react-select",components:{DropdownIndicator:null},styles:Kt},i,{isMulti:t,isClearable:n,isDisabled:a,autoFocus:o}))};function qt(e){let{accessKind:t,traitKind:n,traitDesc:a}=e;switch(t){case"ssoUserAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(_t,null,"You don’t have any ",n," ",a," defined.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the required ",n," ",a,"."),r.createElement($t,{traitKind:n,userAccessReadOnly:!0}));case"noAccessAndNoTraits":return r.createElement(r.Fragment,null,r.createElement(_t,null,"You don’t have ",n," access.",r.createElement("br",null),"Please ask your Teleport administrator to update your role:"),r.createElement($t,{traitKind:n}));case"noAccessButHasTraits":return r.createElement(r.Fragment,null,r.createElement(_t,null,"You don't have permission to add new ",n," ",a,".",r.createElement("br",null),"If you don't see the ",n," ",a," that you require, please ask your Teleport administrator to update your role:"),r.createElement($t,{traitKind:n}));case"ssoUserButHasTraits":return r.createElement(r.Fragment,null,r.createElement(_t,null,"SSO users are not able to add new ",n," ",a,".",r.createElement("br",null),"If you don't see the ",n," ",a," that you require, please ask your Teleport administrator to update your role:"),r.createElement($t,{traitKind:n,userAccessReadOnly:!0}))}}function $t(e){let{traitKind:t,userAccessReadOnly:n}=e;switch(t){case"Kubernetes":return n?r.createElement(o.kC,{minHeight:"215px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    kubernetes_groups:\n    # Define Kubernetes groups for this role.\n    - kubeGroup1\n    - kubeGroup2\n    kubernetes_users:\n    # Define Kubernetes users for this role.\n    - kubeUser1\n    - kubeUser2\n"})):r.createElement(o.kC,{minHeight:"370px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    # Define Kubernetes groups for this role.\n    kubernetes_groups:\n    - '{{internal.kubernetes_groups}}'\n    - kubeGroup1\n    - kubeGroup2\n    # Define Kubernetes users for this role.\n    kubernetes_users:\n    - '{{internal.kubernetes_users}}'\n    - kubeUser1\n    - kubeUser2\n    rules:\n    # Rule that allows users to define their own Kubernetes users and groups.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"OS":return n?r.createElement(o.kC,{minHeight:"150px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - osUser1\n    - osUser2\n"})):r.createElement(o.kC,{minHeight:"245px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    # List of allowed SSH logins\n    logins:\n    - '{{internal.logins}}'\n    - osUser1\n    - osUser2\n    rules:\n    # Rule that allows users to define their own logins\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"Database":return n?r.createElement(o.kC,{minHeight:"210px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - dbUser1\n    - '*'\n"})):r.createElement(o.kC,{minHeight:"340px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    # List of databases on the database server users can access\n    db_names:\n    - '{{internal.db_names}}'\n    - dbName1\n    - '*'\n    # List of database users allowed to open database connections with\n    db_users:\n    - '{{internal.db_users}}'\n    - dbUser1\n    - '*'\n    rules:\n    # Rule that allows users to define their own Database names and users.\n    - resources:\n      - user\n      verbs:\n      - update\n"}));case"ConnDiag":return r.createElement(o.kC,{minHeight:"190px",mt:3},r.createElement(en,{content:"kind: role\nspec:\n  allow:\n    rules:\n    - resources:\n      - connection_diagnostic\n      verbs:\n      - create\n      - read\n      - update\n"}))}}const _t=e=>{let{children:t}=e;return r.createElement(o.xv,{mt:4,width:"100px"},t)},en=e=>{let{content:t}=e;return r.createElement(Ze.Z,{readOnly:!0,data:[{content:t,type:"yaml"}]})};function tn(e){let{attempt:t,fetchUserTraits:n,canEditUser:a,isSsoUser:i,hasTraits:l,traitKind:s,traitDescription:c,headerSubtitle:u,onProceed:m,children:d,infoContent:p}=e;const h=!i&&a;let I;switch(t.status){case"failed":I=r.createElement(r.Fragment,null,r.createElement(o.xv,{my:3},r.createElement(g.v3j,{ml:1,mr:2,color:"danger"}),"Encountered Error: ",t.statusText),r.createElement(Me,{ml:1,onClick:n},"Retry"));break;case"processing":I=r.createElement(o.xu,{mt:4,textAlign:"center",height:"70px",width:"300px"},r.createElement(o.z$,{delay:"none"}));break;case"success":I=i&&!l?r.createElement(qt,{accessKind:"ssoUserAndNoTraits",traitKind:s,traitDesc:c}):h||l?r.createElement(r.Fragment,null,r.createElement(nn,null,d),!i&&!a&&r.createElement(qt,{accessKind:"noAccessButHasTraits",traitKind:s,traitDesc:c}),i&&r.createElement(qt,{accessKind:"ssoUserButHasTraits",traitKind:s,traitDesc:c})):r.createElement(qt,{accessKind:"noAccessAndNoTraits",traitKind:s,traitDesc:c})}return r.createElement(o.xu,{maxWidth:"700px"},r.createElement(we,null,"Set Up Access"),r.createElement(Ne,null,u),p,r.createElement(o.xu,{mb:3},I),r.createElement(Ce,{onProceed:m,disableProceed:"failed"===t.status||"processing"===t.status||!l}))}const nn=(0,a.ZP)(o.xu)(["max-width:700px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var rn=n(3228);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e){const t=(0,R.Z)(),[n,a]=(0,r.useState)(),{attempt:o,run:i,setAttempt:l,handleError:s}=(0,se.Z)("processing"),c="sso"===t.storeUser.state.authType,u=t.storeUser.getUserAccess().edit,m=cn(n);let d=e.agentMeta,p=cn();switch(e.selectedResourceKind){case ze.Kubernetes:const t=d.kube;p.kubeUsers=(0,rn.ES)(t.users,m.kubeUsers),p.kubeGroups=(0,rn.ES)(t.groups,m.kubeGroups);break;case ze.Server:const n=d.node;p.logins=(0,rn.ES)(n.sshLogins,m.logins);break;case ze.Database:const r=d.db;p.databaseUsers=(0,rn.ES)(r.users,m.databaseUsers),p.databaseNames=(0,rn.ES)(r.names,m.databaseNames);break;default:throw new Error(`useUserTraits.ts:statiTraits: resource kind ${e.selectedResourceKind} is not handled`)}async function g(r){if(!c&&u){!function(t){let n=e.agentMeta;switch(e.selectedResourceKind){case ze.Kubernetes:const r=n.kube;e.updateAgentMeta(on(on({},n),{},{kube:on(on({},r),{},{users:[...p.kubeUsers,...t.kubeUsers],groups:[...p.kubeGroups,...t.kubeGroups]})}));break;case ze.Server:const a=n.node;e.updateAgentMeta(on(on({},n),{},{node:on(on({},a),{},{sshLogins:[...p.logins,...t.logins]})}));break;case ze.Database:const o=n.db;e.updateAgentMeta(on(on({},n),{},{db:on(on({},o),{},{users:[...p.databaseUsers,...t.databaseUsers],names:[...p.databaseNames,...t.databaseNames]})}));break;default:throw new Error(`useUserTraits.ts:updateResourceMetaDynamicTraits: resource kind ${e.selectedResourceKind} is not handled`)}}(r),l({status:"processing"});try{await t.userService.updateUser(on(on({},n),{},{traits:on(on({},n.traits),r)})),await t.userService.applyUserTraits(),e.nextStep()}catch(e){s(e)}}else e.nextStep()}return(0,r.useEffect)((function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(a)))}),[t.storeUser,t.userService,i]),{attempt:o,onProceed:function(t){switch(e.selectedResourceKind){case ze.Kubernetes:const n=new Set;t.kubeUsers.forEach((e=>{p.kubeUsers.includes(e.value)||n.add(e.value)}));const r=new Set;t.kubeGroups.forEach((e=>{p.kubeGroups.includes(e.value)||r.add(e.value)})),g({kubeUsers:[...n],kubeGroups:[...r]});break;case ze.Server:const a=new Set;t.logins.forEach((e=>{p.logins.includes(e.value)||a.add(e.value)})),g({logins:[...a]});break;case ze.Database:const o=new Set;t.databaseUsers.forEach((e=>{p.databaseUsers.includes(e.value)||o.add(e.value)}));const i=new Set;t.databaseNames.forEach((e=>{p.databaseNames.includes(e.value)||i.add(e.value)})),g({databaseUsers:[...o],databaseNames:[...i]});break;default:throw new Error(`useUserTrait.ts:onProceed: resource kind ${e.selectedResourceKind} is not handled`)}},fetchUserTraits:function(){i((()=>t.userService.fetchUser(t.storeUser.getUsername()).then(a)))},isSsoUser:c,canEditUser:u,initSelectedOptions:function(e){return un({trait:e,staticTraits:p,dynamicTraits:m})},getFixedOptions:function(e){return un({trait:e,staticTraits:p})},getSelectableOptions:e=>un({trait:e,dynamicTraits:m}),dynamicTraits:m,staticTraits:p}}function cn(e){return{logins:(null==e?void 0:e.traits.logins)||[],databaseUsers:(null==e?void 0:e.traits.databaseUsers)||[],databaseNames:(null==e?void 0:e.traits.databaseNames)||[],kubeUsers:(null==e?void 0:e.traits.kubeUsers)||[],kubeGroups:(null==e?void 0:e.traits.kubeGroups)||[],windowsLogins:(null==e?void 0:e.traits.windowsLogins)||[],awsRoleArns:(null==e?void 0:e.traits.awsRoleArns)||[]}}function un(e){let{trait:t,staticTraits:n,dynamicTraits:r}=e,a=[];n&&(a=n[t].map((e=>({value:e,label:e,isFixed:!0}))));let o=[];return r&&(o=r[t].map((e=>({value:e,label:e,isFixed:!1})))),[...a,...o]}const mn=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function dn(){return dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dn.apply(this,arguments)}function pn(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:a,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,mn),[s,c]=(0,r.useState)(""),[u,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&m(n("logins"))}),[e.attempt.status,n]);const d=u.length>0,p=!e.isSsoUser&&e.canEditUser;return r.createElement(tn,dn({},l,{headerSubtitle:"Select the OS users you will use to connect to server.",traitKind:"OS",traitDescription:"users",hasTraits:d,onProceed:function(){t({logins:u})}}),r.createElement(o.xu,{mb:2},"OS Users",r.createElement(Xt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:c,onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":m([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing OS users and press enter",value:u,isDisabled:!p,onChange:(e,t)=>{"clear"===t.action?m(a("logins")):m(e||[])},options:i("logins")})))}const gn=e=>{const t=e.filter((e=>"root"!==e)).sort();return t.length===e.length?e:["root",...t]};function hn(e){let{attempt:t,startSshSession:n,logins:a,runConnectionDiagnostic:i,diagnosis:l,nextStep:s,prevStep:c,canTestConnection:u}=e;const[m]=(0,r.useState)((()=>a.map((e=>({value:e,label:e}))))),[d,p]=(0,r.useState)(m[0]);let h;"processing"===t.status?h=r.createElement(Ue,null,r.createElement(g.r6F,{fontSize:4}),"Testing in-progress"):"failed"===t.status||l&&!l.success?h=r.createElement(Ue,null,r.createElement(g.v3j,{ml:1,color:"danger"}),"Testing failed"):"success"===t.status&&null!=l&&l.success&&(h=r.createElement(Ue,null,r.createElement(g.yGk,{ml:1,color:"success"}),"Testing complete"));const I=!!l||"failed"===t.status;return r.createElement(o.xu,null,r.createElement(De,{onPrev:c},"Test Connection"),r.createElement(Ne,null,"Optionally verify that you can successfully connect to the server you just added."),r.createElement(In,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Pick the OS user to test"),r.createElement(o.xu,{width:"320px"},r.createElement(o.SO,null,"Select Login"),r.createElement(de.ZP,{value:d,options:m,onChange:e=>p(e),isDisabled:"processing"===t.status}))),r.createElement(In,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Verify that the server is accessible"),r.createElement(o.kC,{alignItems:"center",mt:3},u?r.createElement(r.Fragment,null,r.createElement(o.PL,{width:"200px",onClick:()=>i(d.value),disabled:"processing"===t.status},l?"Restart Test":"Test Connection"),r.createElement(o.xu,{ml:4},h)):r.createElement(o.xu,null,r.createElement(o.xv,null,"You don't have permission to test connection.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the ",r.createElement(Te,null,"connection_diagnostic")," rule:"),r.createElement($t,{traitKind:"ConnDiag"}))),I&&r.createElement(o.xu,{mt:3},"failed"===t.status&&`Encountered Error: ${t.statusText}`,"success"===t.status&&r.createElement(o.xu,null,l.traces.map(((e,t)=>"failed"===e.status?r.createElement(Ue,{alignItems:"baseline"},r.createElement(g.liM,{mr:1,color:"danger"}),e.details,r.createElement("br",null),e.error):"success"===e.status?r.createElement(Ue,{key:t},r.createElement(g.yGk,{mr:1,color:"success"}),e.details):r.createElement(Ue,{key:t},r.createElement(g.HNF,{mr:1}),e.details)))))),r.createElement(In,null,r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Connect to the server"),r.createElement(o.PL,{width:"200px",onClick:()=>n(d.value)},"Start Session")),r.createElement(Ce,{onProceed:s,lastStep:!0}))}const In=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);function bn(e){return r.createElement(rt,{timeout:3e5},r.createElement(dt,{timeout:3e5,interval:3e3,resourceKind:ze.Server},e.children))}const En={kind:ze.Server,icon:r.createElement(g.xFH,null),wrapper:e=>r.createElement(bn,null,e),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){return r.createElement(tt.$,{onRetry:it,fallbackFn:e=>r.createElement(Ct,{pollState:"error",nextStep:()=>null},r.createElement(Ue,{mt:2,mb:3},r.createElement(g.v3j,{ml:1,color:"danger"}),"Encountered Error: ",e.error.message),r.createElement(Me,{ml:2,onClick:e.retry},"Refetch a command"))},r.createElement(r.Suspense,{fallback:r.createElement(o.xu,{height:"144px"},r.createElement(Ct,{nextStep:()=>null},r.createElement(o.xu,{textAlign:"center",height:"108px"},r.createElement(o.z$,{delay:"none"}))))},r.createElement(ft,e)))}},{title:"Set Up Access",component:function(e){const t=sn(e);return r.createElement(pn,t)}},{title:"Test Connection",component:function(e){const t=function(e){let{ctx:t,props:n}=e;const{attempt:a,run:o}=(0,se.Z)(""),[i,l]=(0,r.useState)(),s=t.storeUser.getConnectionDiagnosticAccess(),c=s.create&&s.edit&&s.read;return{attempt:a,startSshSession:function(e){const r=n.agentMeta,a=d.Z.getSshConnectRoute({clusterId:t.storeUser.getClusterId(),serverId:r.node.id,login:e});(0,rn.RB)(a)},logins:gn(n.agentMeta.node.sshLogins),runConnectionDiagnostic:function(e){const r=n.agentMeta;l(null),o((()=>t.agentService.createConnectionDiagnostic({resourceKind:"node",resourceName:r.node.hostname,sshPrincipal:e}).then(l)))},diagnosis:i,nextStep:n.nextStep,prevStep:n.prevStep,canTestConnection:c}}({ctx:(0,R.Z)(),props:e});return r.createElement(hn,t)}},{title:"Finished",component:Se,hide:!0}]};function xn(e){return`(Invoke-WebRequest -Uri ${e}).Content | Invoke-Expression`}const yn=[{title:"Install Active Directory",command:xn(d.Z.getInstallADDSPath())},{title:"Install AD Certificate Services",command:xn(d.Z.getInstallADCSPath())}];function An(e){return r.createElement(o.xu,null,r.createElement(we,null,"Install Active Directory"),r.createElement(o.xv,{mb:4},"If you haven't already, install Active Directory and AD Certificate Services."),function(e){return e.map(((e,t)=>r.createElement(Pe,{key:t,stepNumber:t+1,title:e.title,text:e.command})))}(yn),r.createElement(Ce,{onProceed:()=>e.nextStep()}))}const fn={kind:ze.Database,icon:r.createElement(g.voY,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:An,views:[{title:"Deploy Database Agent",component:An},{title:"Register a Database",component:An},{title:"Configure mTLS",component:An}]},{title:"Setup Access",component:An},{title:"Test Connection",component:An}]};function Cn(e){return r.createElement(rt,{timeout:3e5},r.createElement(dt,{timeout:3e5,interval:3e3,resourceKind:ze.Kubernetes},e.children))}const Mn=["onProceed","initSelectedOptions","getFixedOptions","getSelectableOptions"];function wn(){return wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(this,arguments)}function Nn(e){const{onProceed:t,initSelectedOptions:n,getFixedOptions:a,getSelectableOptions:i}=e,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Mn),[s,c]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[d,p]=(0,r.useState)(""),[g,h]=(0,r.useState)([]);(0,r.useEffect)((()=>{"success"===e.attempt.status&&(m(n("kubeGroups")),h(n("kubeUsers")))}),[e.attempt.status,n]);const I=u.length>0||g.length>0,b=!e.isSsoUser&&e.canEditUser;return r.createElement(tn,wn({},l,{headerSubtitle:"Allow access from your Kubernetes user and groups to interact with your Kubernetes Clusters.",traitKind:"Kubernetes",traitDescription:"users and groups",hasTraits:I,onProceed:function(){t({kubeGroups:u,kubeUsers:g})}}),r.createElement(o.xu,{mb:4},"Kubernetes Groups",r.createElement(Xt,{inputValue:s,isClearable:u.some((e=>!e.isFixed)),onInputChange:e=>c(e),onKeyDown:function(e){if(s)switch(e.key){case"Enter":case"Tab":m([...u,{value:s,label:s}]),c(""),e.preventDefault()}},placeholder:"Start typing groups and press enter",value:u,isDisabled:!b,onChange:(e,t)=>{"clear"===t.action?m(a("kubeGroups")):m(e||[])},options:i("kubeGroups"),autoFocus:!0})),r.createElement(o.xu,{mb:2},"Kubernetes Users",r.createElement(Xt,{inputValue:d,isClearable:g.some((e=>!e.isFixed)),onInputChange:p,onKeyDown:function(e){if(d)switch(e.key){case"Enter":case"Tab":h([...g,{value:d,label:d}]),p(""),e.preventDefault()}},placeholder:"Start typing users and press enter",value:g,isDisabled:!b,onChange:(e,t)=>{"clear"===t.action?h(a("kubeUsers")):h(e||[])},options:i("kubeUsers")})))}var Dn=n(7097);function vn(){return vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vn.apply(this,arguments)}function jn(e){const{joinToken:t,reloadJoinToken:n,timeout:a}=st(ze.Kubernetes);return r.createElement(o.xu,null,r.createElement(Sn,null),r.createElement(kn,null),r.createElement(Tn,{generateScript:n,namespace:e.namespace,setNamespace:e.setNamespace,clusterName:e.clusterName,setClusterName:e.setClusterName,hasJoinToken:!!t}),r.createElement(zn,{namespace:e.namespace,clusterName:e.clusterName,joinToken:t,pollingTimeout:a,nextStep:e.nextStep,updateAgentMeta:e.updateAgentMeta}))}const Sn=()=>r.createElement(r.Fragment,null,r.createElement(we,null,"Configure Resource"),r.createElement(Ne,null,"Install Teleport Service in your cluster via Helm to easily connect your Kubernetes cluster with Teleport.",r.createElement("br",null),"For all the available values of the helm chart see the"," ",r.createElement(o.rU,{href:"https://goteleport.com/docs/kubernetes-access/helm/reference/teleport-kube-agent/",target:"_blank"},"the documentation"),".")),kn=()=>r.createElement(Zn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Add teleport-agent chart to your charts repository"),r.createElement(V.r,{lines:[{text:"helm repo add teleport https://charts.releases.teleport.dev && helm repo update"}]})),Tn=e=>{let{namespace:t,setNamespace:n,clusterName:a,setClusterName:i,hasJoinToken:l,error:s,onRetry:c,generateScript:u}=e;return r.createElement(Zn,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Generate a command to automatically configure and install the teleport-agent namespace"),r.createElement(ee.ZP,null,(e=>{let{validator:m}=e;return r.createElement(r.Fragment,null,r.createElement(o.xu,{mb:4},r.createElement(te.Z,{mb:3,rule:(0,Dn.lp)("Namespace is required"),label:"Teleport Service Namespace",autoFocus:!0,value:t,placeholder:"teleport",width:"100%",mr:"3",onChange:e=>n(e.target.value)}),r.createElement(te.Z,{rule:(0,Dn.lp)("Kubernetes Cluster Name is required"),label:"Kubernetes Cluster Name",labelTip:"Name shown to Teleport users connecting to the cluster",value:a,placeholder:"my-cluster",width:"100%",mr:"3",onChange:e=>i(e.target.value)})),r.createElement(o.PL,{width:"200px",type:"submit",disabled:!s&&!u,onClick:()=>s?c():function(e){e.validate()&&u()}(m)},l?"Regenerate Command":"Generate Command"))})),s&&r.createElement(o.xu,null,r.createElement(Ue,{mt:3},r.createElement(g.v3j,{ml:1,color:"danger"}),"Encountered Error: ",s.message)))},zn=e=>{let{namespace:t,clusterName:n,joinToken:a,pollingTimeout:i,nextStep:l,updateAgentMeta:s}=e;const c=(0,R.Z)().storeUser.state.cluster.authVersion,{hostname:u,port:m}=window.document.location,d=`${u}:${m||"443"}`,{timedOut:p,result:g}=pt();let h={state:"polling"};return p?h={state:"error",error:{reasonContents:[r.createElement(r.Fragment,null,"The command was not run on the server you were trying to add, regenerate command and try again."),r.createElement(r.Fragment,null,"The Teleport Service could not join this Teleport cluster. Check the logs for errors by running ",r.createElement("br",null),r.createElement(Te,null,"kubectl logs -l app=teleport-agent -n ",t))]}}:g&&(h={state:"success"}),r.createElement(r.Fragment,null,r.createElement(ht,{command:(I={namespace:t,clusterName:n,proxyAddr:d,tokenId:a.id,clusterVersion:c,resourceId:a.internalResourceId},`cat << EOF > prod-cluster-values.yaml\nroles: kube\nauthToken: ${I.tokenId}\nproxyAddr: ${I.proxyAddr}\nkubeClusterName: ${I.clusterName}\nteleportVersionOverride: ${I.clusterVersion}\nlabels:\n    teleport.internal/resource-id: ${I.resourceId}\nEOF\n \nhelm install teleport-agent teleport/teleport-kube-agent -f prod-cluster-values.yaml --create-namespace --namespace ${I.namespace}`),poll:h,pollingTimeout:i,header:r.createElement(r.Fragment,null,r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Run the command below on the server running your Kubernetes cluster. May take up to a minute for the Teleport Service to join after running the command."))}),r.createElement(Ce,{onProceed:function(){s({kube:g,resourceName:g.name}),l()},disableProceed:"success"!==h.state}));var I},Zn=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]);var On=n(1271);function Pn(e){let{attempt:t,runConnectionDiagnostic:n,diagnosis:a,nextStep:i,prevStep:l,canTestConnection:s,kube:c,authType:u,username:m,clusterId:d}=e;const p=c.users.map((e=>({value:e,label:e}))),h=c.groups.map((e=>({value:e,label:e}))),[I,b]=(0,r.useState)("default"),[E,x]=(0,r.useState)(h),[y,A]=(0,r.useState)((()=>p[0]||{value:m,label:m}));let f;"processing"===t.status?f=r.createElement(Ue,null,r.createElement(g.r6F,{fontSize:4}),"Testing in-progress"):"failed"===t.status||a&&!a.success?f=r.createElement(Ue,null,r.createElement(g.v3j,{ml:1,color:"danger"}),"Testing failed"):"success"===t.status&&null!=a&&a.success&&(f=r.createElement(Ue,null,r.createElement(g.yGk,{ml:1,color:"success"}),"Testing complete"));const C=!!a||"failed"===t.status;return r.createElement(ee.ZP,null,(e=>{let{validator:M}=e;return r.createElement(o.xu,null,r.createElement(De,{onPrev:l},"Test Connection"),r.createElement(Ne,null,"Optionally verify that you can successfully connect to the Kubernetes cluster you just added."),r.createElement(Un,{mb:5},r.createElement(o.xv,{bold:!0},"Step 1"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Define the namespace to test."),r.createElement(o.xu,{width:"500px"},r.createElement(te.Z,{label:"Namespace",rule:(0,Dn.lp)("Namespace is required"),autoFocus:!0,value:I,placeholder:"Enter namespace",onChange:e=>b(e.target.value)}))),r.createElement(Un,{mb:5},r.createElement(o.xv,{bold:!0},"Step 2"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Select groups and a user to test."),r.createElement(o.xu,{width:"500px"},r.createElement(On.Z,{label:"Kubernetes groups",placeholder:0===h.length?"No groups defined":"Click to select groups",isSearchable:!0,isMulti:!0,isClearable:!1,value:E,onChange:e=>x(e),options:h,isDisabled:"processing"===t.status||0===h.length})),r.createElement(o.xu,{width:"500px"},r.createElement(On.Z,{label:"Kubernetes user",labelTip:0===p.length?"Defaulted to your teleport username":"",isSearchable:!0,isClearable:!0,placeholder:"Select a user",value:y,onChange:e=>A(e),options:p,isDisabled:"processing"===t.status||0===p.length}))),r.createElement(Un,{mb:5},r.createElement(o.xv,{bold:!0},"Step 3"),r.createElement(o.xv,{typography:"subtitle1",mb:3},"Verify that the Kubernetes is accessible"),r.createElement(o.kC,{alignItems:"center",mt:3},s?r.createElement(r.Fragment,null,r.createElement(o.PL,{width:"200px",onClick:()=>function(e){e.validate()&&n({namespace:I,user:null==y?void 0:y.value,groups:null==E?void 0:E.map((e=>e.value))})}(M),disabled:"processing"===t.status},a?"Restart Test":"Test Connection"),r.createElement(o.xu,{ml:4},f)):r.createElement(o.xu,null,r.createElement(o.xv,null,"You don't have permission to test connection.",r.createElement("br",null),"Please ask your Teleport administrator to update your role and add the ",r.createElement(Te,null,"connection_diagnostic")," rule:"),r.createElement($t,{traitKind:"ConnDiag"}))),C&&r.createElement(o.xu,{mt:3},"failed"===t.status&&`Encountered Error: ${t.statusText}`,"success"===t.status&&r.createElement(o.xu,null,a.traces.map(((e,t)=>"failed"===e.status?r.createElement(Ln,{error:e.error,details:e.details,key:t}):"success"===e.status?r.createElement(Yn,{key:t},r.createElement(g.yGk,{mr:1,color:"success"}),e.details):r.createElement(Ue,{key:t},r.createElement(g.HNF,{mr:1}),e.details)))))),r.createElement(Un,null,r.createElement(o.xv,{bold:!0,mb:3},"To Access your Kubernetes cluster"),r.createElement(o.xu,{mb:2},"Log into your Teleport cluster",r.createElement(V.Z,{mt:"1",text:(0,rn.Sl)({authType:u,username:m,clusterId:d})})),r.createElement(o.xu,{mb:2},"Log into your Kubernetes cluster",r.createElement(V.Z,{mt:"1",text:`tsh kube login ${c.name}`})),r.createElement(o.xu,null,"Use kubectl",r.createElement(V.Z,{mt:"1",text:"kubectl get pods"}))),r.createElement(Ce,{onProceed:i,lastStep:!0}))}))}const Ln=e=>{let{details:t,error:n}=e;const[a,o]=(0,r.useState)(!1);return r.createElement(Rn,null,r.createElement(g.liM,{mr:1,color:"danger"}),r.createElement("div",null,r.createElement("div",null,t),r.createElement("div",null,r.createElement(Qn,{onClick:()=>o((e=>!e))},a?"Hide":"Click for extra"," details"),a&&r.createElement("div",null,n))))},Un=(0,a.ZP)(o.xu)(["max-width:800px;background-color:rgba(255,255,255,0.05);border-radius:8px;padding:20px;"]),Qn=(0,a.ZP)(o.oD)(["min-height:auto;padding:0;font-weight:inherit;text-decoration:underline;"]);var Yn=(0,a.ZP)(Ue)({alignItems:"baseline"}),Rn=(0,a.ZP)(Ue)({alignItems:"baseline"});const Gn={kind:ze.Kubernetes,icon:r.createElement(g.YJo,null),wrapper:e=>r.createElement(Cn,null,e),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"},{title:"Configure Resource",component:function(e){const[t,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[l,s]=(0,r.useState)(e.runJoinTokenPromise);return r.createElement(tt.$,{onRetry:it,fallbackFn:e=>r.createElement(o.xu,null,r.createElement(Sn,null),r.createElement(kn,null),r.createElement(Tn,{error:e.error,onRetry:e.retry,namespace:t,setNamespace:n,clusterName:a,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0}))},r.createElement(r.Suspense,{fallback:r.createElement(o.xu,null,r.createElement(Sn,null),r.createElement(kn,null),r.createElement(Tn,{namespace:t,setNamespace:n,clusterName:a,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0}))},!l&&r.createElement(o.xu,null,r.createElement(Sn,null),r.createElement(kn,null),r.createElement(Tn,{generateScript:()=>s(!0),namespace:t,setNamespace:n,clusterName:a,setClusterName:i}),r.createElement(Ce,{onProceed:()=>null,disableProceed:!0})),l&&r.createElement(jn,vn({},e,{namespace:t,setNamespace:n,clusterName:a,setClusterName:i}))))}},{title:"Set Up Access",component:function(e){const t=sn(e);return r.createElement(Nn,t)}},{title:"Test Connection",component:function(e){const t=function(e){let{ctx:t,props:n}=e;const{attempt:a,run:o}=(0,se.Z)(""),[i,l]=(0,r.useState)(),s=t.storeUser.getConnectionDiagnosticAccess(),c=s.create&&s.edit&&s.read,{username:u,authType:m,cluster:d}=t.storeUser.state;return{attempt:a,runConnectionDiagnostic:function(e){const r=n.agentMeta;l(null),o((()=>t.agentService.createConnectionDiagnostic({resourceKind:"kube_cluster",resourceName:r.kube.name,kubeImpersonation:e}).then(l)))},diagnosis:i,nextStep:n.nextStep,prevStep:n.prevStep,canTestConnection:c,kube:n.agentMeta.kube,username:u,authType:m,clusterId:d.clusterId}}({ctx:(0,R.Z)(),props:e});return r.createElement(Pn,t)}},{title:"Finished",component:Se,hide:!0}]},Bn={kind:ze.Application,icon:r.createElement(g.Ljw,null),shouldPrompt:e=>0!==e,views:[{title:"Select Resource"}]};var Vn,Wn,Hn=n(1665),Fn=(n(3980),n(4657)),Jn=n(7008),Kn="out-in",Xn="in-out",qn=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},$n=((Vn={})["out-in"]=function(e){var t=e.current,n=e.changeState;return r.cloneElement(t,{in:!1,onExited:qn(t,"onExited",(function(){n(Fn.d0,null)}))})},Vn[Xn]=function(e){var t=e.current,n=e.changeState,a=e.children;return[t,r.cloneElement(a,{in:!0,onEntered:qn(a,"onEntered",(function(){n(Fn.d0)}))})]},Vn),_n=((Wn={})["out-in"]=function(e){var t=e.children,n=e.changeState;return r.cloneElement(t,{in:!0,onEntered:qn(t,"onEntered",(function(){n(Fn.cn,r.cloneElement(t,{in:!0}))}))})},Wn[Xn]=function(e){var t=e.current,n=e.children,a=e.changeState;return[r.cloneElement(t,{in:!1,onExited:qn(t,"onExited",(function(){a(Fn.cn,r.cloneElement(n,{in:!0}))}))}),r.cloneElement(n,{in:!0})]},Wn),er=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={status:Fn.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,Hn.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===Fn.d0&&e.mode===Xn?{status:Fn.d0}:!t.current||((n=t.current)===(a=e.children)||r.isValidElement(n)&&r.isValidElement(a)&&null!=n.key&&n.key===a.key)?{current:r.cloneElement(e.children,{in:!0})}:{status:Fn.Ix};var n,a},n.render=function(){var e,t=this.props,n=t.children,a=t.mode,o=this.state,i=o.status,l=o.current,s={children:n,current:l,changeState:this.changeState,status:i};switch(i){case Fn.d0:e=_n[a](s);break;case Fn.Ix:e=$n[a](s);break;case Fn.cn:e=l}return r.createElement(Jn.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(r.Component);er.propTypes={},er.defaultProps={mode:Kn};const tr=er,nr=a.ZP.div(["border-radius:5px;width:100%;box-shadow:0px 0px 20px 0px rgba(0,0,0,0.43);"]),rr=a.ZP.div(["background:#040b1d;height:32px;position:relative;display:flex;align-items:center;justify-content:center;border-top-left-radius:5px;border-top-right-radius:5px;"]),ar=a.ZP.div(["display:flex;position:absolute;top:50%;left:10px;transform:translate(0,-50%);"]),or=a.ZP.div(["width:12px;height:12px;border-radius:50%;margin-right:5px;"]),ir=a.ZP.div(["background:#04162c;height:var(--content-height,660px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),lr=a.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;"]);function sr(e){return r.createElement(rr,null,r.createElement(ar,null,r.createElement(or,{style:{backgroundColor:"#f95e57"}}),r.createElement(or,{style:{backgroundColor:"#fbbe2e"}}),r.createElement(or,{style:{backgroundColor:"#31c842"}})),e.title)}function cr(e){return r.createElement(nr,null,r.createElement(sr,{title:e.title}),r.createElement(ir,null,e.children))}const ur=a.ZP.div(["width:100%;display:flex;overflow-x:hidden;padding-bottom:50px;margin-top:-24px;padding-top:24px;"]),mr=a.ZP.div(["display:inline-flex;align-items:center;transition:0.2s ease-in opacity;cursor:pointer;font-size:18px;margin-bottom:30px;"]),dr=a.ZP.div(["font-size:30px;margin-right:20px;"]),pr=a.ZP.div(["display:flex;flex:1;flex-direction:column;margin-right:30px;"]),gr=(a.ZP.div(["flex:0 0 600px;margin-left:30px;"]),a.ZP.div([""]));function hr(e){const{joinToken:t,reloadJoinToken:n,timeout:a,timedOut:i}=st(ze.Desktop);let l;if(i)l=r.createElement(gr,null,r.createElement(o.xv,{mb:4},"That script expired."),r.createElement(fe.DF,{onClick:n},"Generate another"));else{const n=xn(d.Z.getConfigureADUrl(t.id));l=r.createElement(gr,null,r.createElement(V.Z,{text:n,mt:2,mb:5,bash:!0,allowMultiline:!0}),r.createElement(fe.DF,{onClick:()=>e.onNext()},"Next"),r.createElement(o.xu,{mt:4},r.createElement(gt,{timeout:a})))}return r.createElement(pr,null,r.createElement(mr,null,r.createElement(dr,null,r.createElement(g.oI9,null)),"1. Run the configure Active Directory script"),l)}function Ir(){return r.createElement(pr,null,r.createElement(mr,null,r.createElement(dr,null,r.createElement(g.oI9,null)),"1. Run the configure Active Directory script"),r.createElement(gr,null,r.createElement(br,null)))}const br=a.ZP.div(["width:340px;height:84px;background:url(",") no-repeat;"],"data:image/svg+xml;base64,PHN2ZwogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICByb2xlPSJpbWciCiAgd2lkdGg9IjM0MCIKICBoZWlnaHQ9Ijg0IgogIGFyaWEtbGFiZWxsZWRieT0ibG9hZGluZy1hcmlhIgogIHZpZXdCb3g9IjAgMCAzNDAgODQiCiAgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIKPgogIDx0aXRsZSBpZD0ibG9hZGluZy1hcmlhIj5Mb2FkaW5nLi4uPC90aXRsZT4KICA8cmVjdAogICAgeD0iMCIKICAgIHk9IjAiCiAgICB3aWR0aD0iMTAwJSIKICAgIGhlaWdodD0iMTAwJSIKICAgIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIgogICAgc3R5bGU9J2ZpbGw6IHVybCgiI2ZpbGwiKTsnCiAgLz4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj4KICAgICAgPHJlY3QgeD0iMCIgeT0iMCIgcng9IjMiIHJ5PSIzIiB3aWR0aD0iNjciIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9Ijc2IiB5PSIwIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjEyNyIgeT0iNDgiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjUzIiBoZWlnaHQ9IjExIiAvPgogICAgICA8cmVjdCB4PSIxODciIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjQ4IiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjAiIHk9IjcxIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIzNyIgaGVpZ2h0PSIxMSIgLz4KICAgICAgPHJlY3QgeD0iMTgiIHk9IjIzIiByeD0iMyIgcnk9IjMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTEiIC8+CiAgICAgIDxyZWN0IHg9IjE2NiIgeT0iMjMiIHJ4PSIzIiByeT0iMyIgd2lkdGg9IjE3MyIgaGVpZ2h0PSIxMSIgLz4KICAgIDwvY2xpcFBhdGg+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImZpbGwiPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMC41OTk5NjQiCiAgICAgICAgc3RvcC1jb2xvcj0iIzIyMmM1OSIKICAgICAgICBzdG9wLW9wYWNpdHk9IjEiCiAgICAgID4KICAgICAgICA8YW5pbWF0ZQogICAgICAgICAgYXR0cmlidXRlTmFtZT0ib2Zmc2V0IgogICAgICAgICAgdmFsdWVzPSItMjsgLTI7IDEiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICAgIDxzdG9wCiAgICAgICAgb2Zmc2V0PSIxLjU5OTk2IgogICAgICAgIHN0b3AtY29sb3I9IiM3NTY5YjAiCiAgICAgICAgc3RvcC1vcGFjaXR5PSIxIgogICAgICA+CiAgICAgICAgPGFuaW1hdGUKICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9mZnNldCIKICAgICAgICAgIHZhbHVlcz0iLTE7IC0xOyAyIgogICAgICAgICAga2V5VGltZXM9IjA7IDAuMjU7IDEiCiAgICAgICAgICBkdXI9IjJzIgogICAgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiCiAgICAgICAgLz4KICAgICAgPC9zdG9wPgogICAgICA8c3RvcAogICAgICAgIG9mZnNldD0iMi41OTk5NiIKICAgICAgICBzdG9wLWNvbG9yPSIjMjIyYzU5IgogICAgICAgIHN0b3Atb3BhY2l0eT0iMSIKICAgICAgPgogICAgICAgIDxhbmltYXRlCiAgICAgICAgICBhdHRyaWJ1dGVOYW1lPSJvZmZzZXQiCiAgICAgICAgICB2YWx1ZXM9IjA7IDA7IDMiCiAgICAgICAgICBrZXlUaW1lcz0iMDsgMC4yNTsgMSIKICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAvPgogICAgICA8L3N0b3A+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KPC9zdmc+Cg==");var Er;!function(e){e.Argument="#cfa7ff",e.Keyword="#5af78e",e.Error="#f07278",e.Label="rgba(255, 255, 255, 0.7)",e.Punctuation="#81ceee"}(Er||(Er={}));const xr=a.ZP.div(["width:100%;background:rgba(255,255,255,0.3);position:absolute;left:0;z-index:0;transform:translate3d(0,0,0);transition-property:height;"]),yr=a.ZP.div(["position:relative;z-index:1;"]);function Ar(e){const t=(0,r.useRef)();(0,r.useLayoutEffect)((()=>{t.current.scrollTop=t.current.scrollHeight}),[e.counter]);const n=(0,r.useRef)();let a;if((0,r.useEffect)((()=>{if(!e.selectedLines)return;const t=e.selectedLines.end-e.selectedLines.start,r=window.setTimeout((()=>{n.current.style.height=20*(t+1)+"px"}),1e3);return()=>clearTimeout(r)}),[e.selectedLines]),e.selectedLines){const t=e.selectedLines.end-e.selectedLines.start;a=r.createElement(xr,{ref:n,style:{top:20*(e.selectedLines.start+1),transitionTimingFunction:`steps(${t+2}, jump-none)`,transitionDuration:.08*t+"s",height:0}})}return r.createElement(Dr,{ref:t},r.createElement(vr,null,r.createElement(yr,null,function(e,t){if(!e.length)return r.createElement(Mr,{key:"cursor"},"$ ",r.createElement(Nr,null));const n=e.map((e=>r.createElement(r.Fragment,{key:e.id},e.isCommand?r.createElement(Mr,null,"$",e.text.length>0?" ":""):null,function(e,t,n){let a,o=e;const i=o.indexOf("#");i>-1&&(o=e.substring(0,i),a=r.createElement(wr,null,e.substring(i,e.length)));const l=o.split(" "),s=[];e:for(const[e,a]of l.entries())if(t||!/(https?:\/\/\S+)/g.test(a)){if(n)for(const t of n){const n=fr(a,t);if(n){s.push(r.createElement(Cr,{key:`${t.key}-${e}`},n," "));continue e}}s.push(r.createElement(Cr,{key:e},a," "))}else s.push(r.createElement(r.Fragment,{key:e},r.createElement("a",{key:e,style:{color:"#feaa01",textDecoration:"underline"},href:a,target:"_blank",rel:"noopener noreferrer"},a)," "));return r.createElement(r.Fragment,null,s,a)}(e.text,e.isCommand,t),e.isCurrent&&e.isCommand?r.createElement(Nr,null):null,r.createElement("br",null))));return n}(e.lines,e.highlights)),a))}function fr(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}const Cr=a.ZP.span(["user-select:none;"]),Mr=a.ZP.span(["user-select:none;color:rgb(204,204,204);"]),wr=a.ZP.span(["user-select:none;color:rgb(255,255,255,0.4);"]),Nr=a.ZP.span(["display:inline-block;width:6px;height:15px;background:#ffffff;vertical-align:middle;"]),Dr=a.ZP.div(["background:#04162c;height:inherit;overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px;"]),vr=a.ZP.div(["font-size:12px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;line-height:20px;white-space:pre-wrap;margin:10px 16px;position:relative;"]);function jr(e){return new Promise((t=>window.setTimeout(t,e)))}function Sr(e){const t=(0,r.useRef)(0),n=(0,r.useMemo)((()=>async function*(e,t){let n=0,r=0,a=!1;const o=[];if(t>0){for(let n=0;n<t;n++)o.push({id:n,text:e[n].text,isCommand:e[n].isCommand,isCurrent:n===t});yield o}for(;;){if(!(t<e.length))return yield o,o;if(e[t].isCommand)if(n>e[t].text.length)o[t].isCurrent=t===e.length-1,n=0,yield o,await jr(300),t+=1;else{const r=e[t].delay;isNaN(r)||(yield o,await jr(r),yield o),0===n&&(await jr(100),o.push({id:t,text:"",isCommand:e[t].isCommand,isCurrent:!0}),yield o,await jr(600)),o[t].text=e[t].text.substring(0,n),n+=1}else{const i=e[t].delay;isNaN(i)||(await jr(i),yield o);const l=e[t].frames;if(l)if(r<l.length){const e=l[r]();0!==r||a||(a=!0,o.push({id:t,text:e.text,isCurrent:!1,isCommand:!1})),o[t].text=e.text,isNaN(e.delay)||(yield o,await jr(e.delay),yield o),r+=1}else a&&e[t+1]&&(o[t].text=e[t].text,n=0,r=0,t+=1,a=!1),r=0;else o.push({id:t,text:e[t].text,isCommand:!1,isCurrent:!1}),yield o,n=0,t+=1}yield o}}(e.lines,t.current)),[e.lines]),[a,o]=(0,r.useState)(0),[i,l]=(0,r.useState)(!1),s=(0,r.useRef)([]);(0,r.useEffect)((()=>{let r,a;async function i(){const{value:r,done:c}=await n.next();if(r){if(r.length){const e=r[r.length-1].id+1;e>t.current&&(t.current=e)}s.current=r,o((e=>e+1))}if(c)return l(!0),e.onCompleted&&e.onCompleted(),void o((e=>e+1));a=requestAnimationFrame(i)}function c(){a=requestAnimationFrame(i)}return e.startDelay?r=window.setTimeout(c,e.startDelay):c(),()=>{cancelAnimationFrame(a),clearTimeout(r)}}),[e.startDelay,e.lines,n]);let c=s.current;return e.stopped&&(c=e.lines.map(((t,n)=>({id:n,text:t.text,isCommand:t.isCommand,isCurrent:n===e.lines.length-1})))),r.createElement(cr,{title:"Terminal"},r.createElement(Ar,{lines:c,completed:i,counter:a,highlights:e.highlights,selectedLines:e.selectedLines}))}const kr=e=>[{text:xn(d.Z.getConfigureADUrl(e.id)),isCommand:!0},{text:"Running...",isCommand:!1,delay:800},{text:`\nversion: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}\n`,isCommand:!1,delay:500},{text:"Desktop Access Configuration Reference: https://goteleport.com/docs/desktop-access/reference/configuration/",isCommand:!1,delay:500},{text:"",isCommand:!0}],Tr={start:4,end:29},zr=[{key:"keyword",color:Er.Keyword,keywords:["Invoke-WebRequest","Invoke-Expression"]},{key:"arg",color:Er.Argument,keywords:["-Uri"]}];function Zr(e){const{joinToken:t}=st(ze.Desktop);return r.createElement(Sr,{lines:kr(t),highlights:zr,selectedLines:e.isCopying?Tr:null,stopped:e.isCopying})}function Or(e){return null}function Pr(e){const t=e.items.map(((t,n)=>r.createElement(Ur,{key:n,active:n===e.activeIndex,onClick:()=>e.onSelect(n)},r.createElement(Qr,null,r.createElement(g.EKh,null)),t)));return r.createElement(Lr,null,t)}const Lr=a.ZP.div(["background:#0a102c;display:flex;"]),Ur=a.ZP.div(["background:rgba(255,255,255,0.1);padding:8px 20px 10px 15px;cursor:pointer;position:relative;&:after{content:'';position:absolute;bottom:0;height:2px;left:0;right:0;background:",";}"],(e=>e.active?"linear-gradient(to right, #ec008c, #fc6767)":"transparent")),Qr=(0,a.ZP)("span")(["font-size:14px;margin-right:10px;position:relative;top:1px;"]);var Yr;function Rr(e){const[t,n]=(0,r.useState)(0),a=r.Children.map(e.children,(e=>e.type===Or?{name:e.props.name,content:e.props.code,language:e.props.language}:null)).filter(Boolean),o=a.map((e=>e.name)),{content:i,language:l}=a[t],s=function(e,t){if(t===Yr.YAML)return function(e){if(!e)return[];const t=[{key:"string",keywords:["'\\*'"],color:Er.Keyword},{key:"certificate",match:/(-----.*?-----)/,color:Er.Punctuation}],n=e.split("\n"),a=[];for(const[e,o]of n.entries()){const n=Gr(o,": |",e,t);if(n){a.push(n);continue}const i=Gr(o,":",e,t);i?a.push(i):o?a.push(r.createElement("div",{key:e},Br(o,t))):a.push(r.createElement("div",{key:e}," "))}return a}(e);throw new Error("Language not supported")}(i,l),c=[];if(i){const e=i.split("\n").length;for(let t=0;t<=e;t++)c.push(r.createElement(Xr,{key:t,"data-line-number":t+1,active:t===e}))}else c.push(r.createElement(Xr,{key:0,"data-line-number":1,active:!0}));return r.createElement(nr,null,r.createElement(sr,{title:e.title}),r.createElement(Pr,{items:o,activeIndex:t,onSelect:n}),r.createElement(ir,{style:{height:585}},r.createElement(lr,{style:{display:"flex"}},r.createElement(Kr,null,c),r.createElement(qr,null,s,r.createElement($r,null,r.createElement(Jr,null))))))}function Gr(e,t,n,a){if(!e.includes(t))return;const o=e.indexOf(t);let i=e.substring(o+t.length,e.length);return r.createElement("div",{key:n},r.createElement(Wr,null,e.substring(0,o)),r.createElement(Hr,null,t),Br(i,a))}function Br(e,t){for(const n of t)if(n.match&&n.match.test(e))return e.split(n.match).map(((e,t)=>{if(e)return t%2==0?r.createElement("span",{key:t},e):r.createElement("span",{key:`${n.key}-${t}`,style:{color:n.color}},e)})).filter(Boolean);const n=e.split(" "),a=[];e:for(const[e,o]of n.entries()){for(const n of t)if(n.keywords){const t=Vr(o,n);if(t){a.push(r.createElement("span",{key:`${n.key}-${e}`},t," "));continue e}}a.push(r.createElement("span",{key:e},o," "))}return a}function Vr(e,t){const n=new RegExp(`(${t.keywords.join("|")})`);return n.test(e)?e.split(n).map(((e,n)=>{if(e)return n%2==0?r.createElement("span",{key:n},e):r.createElement("span",{key:`${t.key}-${n}`,style:{color:t.color}},e)})).filter(Boolean):null}!function(e){e[e.YAML=0]="YAML"}(Yr||(Yr={}));const Wr=a.ZP.span(["color:#d4656b;"]),Hr=a.ZP.span(["color:#81ceee;"]),Fr=(0,a.F4)(["0%{opacity:0;}"]),Jr=a.ZP.span(["display:inline-block;width:2px;height:15px;background:#ffffff;vertical-align:middle;animation:"," 1.5s steps(2) infinite;"],Fr),Kr=a.ZP.div(["user-select:none;width:55px;"]),Xr=a.ZP.div(["background:",";color:",";text-align:right;padding-right:20px;&:before{content:attr(data-line-number);}"],(e=>e.active?"rgba(0, 0, 0, 0.3)":"none"),(e=>e.active?"rgba(255, 255, 255, 0.6)":"rgba(255, 255, 255, 0.3)")),qr=a.ZP.div(["width:100%;"]),$r=a.ZP.div(["background:rgba(0,0,0,0.3);width:100%;"]),_r=e=>`version: v3\nteleport:\n  auth_token: ${e.id}\n  proxy_server: ${window.location.hostname}:${window.location.port||"443"}\n\nauth_service:\n  enabled: no\nssh_service:\n  enabled: no\nproxy_service:\n  enabled: no\n\nwindows_desktop_service:\n  enabled: yes\n  ldap:\n    addr:        127.0.0.1:636\n    domain:      TELEPORT\n    username:    example\n    server_name: desktop.teleport.example\n    insecure_skip_verify: false\n    ldap_ca_cert: |\n      -----THIS IS JUST AN EXAMPLE-----\n  discovery:\n    base_dn: '*'\n  labels:\n    teleport.internal/resource-id: ${e.internalResourceId}`;var ea;function ta(){const e=lt(),[t,n]=(0,r.useState)(ea.Original),{content:a}=(e=>[{kind:ea.Original,content:""},{kind:ea.Pasted,content:_r(e)}])(e).find((e=>e.kind===t));return(0,r.useEffect)((()=>{n(ea.Original);const e=window.setTimeout((()=>n(ea.Pasted)),1500);return()=>clearTimeout(e)}),[]),r.createElement(na,null,r.createElement(Rr,{title:"Your IDE"},r.createElement(Or,{language:Yr.YAML,name:"/etc/teleport.yaml",code:a})))}!function(e){e[e.Original=0]="Original",e[e.Pasted=1]="Pasted"}(ea||(ea={}));const na=(0,a.ZP)("div")(["user-select:none;"]),ra=[{text:"sudo systemctl start teleport",isCommand:!0},{text:"sudo systemctl status teleport",isCommand:!0},{text:"• teleport.service - Teleport SSH Service\n   Loaded: loaded\n   Active: active (running)",isCommand:!1,delay:100},{text:"logout # We'll take it from here",isCommand:!0},{text:"\n",isCommand:!1,delay:30}],aa=["_","_","_","-","`","`","'","´","-","_","_","_"],oa=[{key:"keyword",color:Er.Keyword,keywords:["sudo","systemctl","active","\\(running\\)","•","wait","logout","✔"]},{key:"error",color:Er.Error,keywords:["✖","Oh","no!"]},{key:"label",color:Er.Label,keywords:["Hostname:","Address:"]}];function ia(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)([...ra]),{active:o,result:i,timedOut:l,timeout:s}=pt(),c=(0,r.useRef)(0);(0,r.useEffect)((()=>{c.current=i?null:s}),[s,i]);const[u,m]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(i&&!g)return a((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✔ Found your Teleport node"},{isCommand:!1,text:`  Hostname: ${i.hostname}`},{isCommand:!1,text:`   Address: ${i.addr}`}])),void h(!0);g||(e&&o&&!u&&a((e=>[...e,{text:"wait your.teleport.instance",isCommand:!0},{isCommand:!1,text:""},{isCommand:!1,text:"- Waiting to hear from your Teleport node",frames:aa.map((e=>()=>{if(Date.now()>c.current)return{text:"- Waiting to hear from your Teleport node"};const{minutes:t,seconds:n}=function(e){if(e<0)return{minutes:0,seconds:0};return{minutes:Math.floor(e/6e4),seconds:Math.floor(e%6e4/1e3).toFixed(0).padStart(2,"0")}}(c.current-Date.now());return{text:`${e} Waiting to hear from your Teleport node (${t}:${n} remaining)`,delay:70}}))}])),l&&!d&&a((e=>[...e,{isCommand:!1,text:""},{isCommand:!1,text:"✖ Oh no! We couldn't find your Teleport node."}])),e&&m(o),p(l))}),[i,l,o,g,d,u,e]),r.createElement(la,null,r.createElement(Sr,{stopped:null!==i,lines:n,startDelay:800,highlights:oa,onCompleted:()=>t(!0)}))}const la=a.ZP.div(["--content-height:400px;"]);function sa(e){return r.createElement(pr,null,r.createElement(mr,null,r.createElement(dr,null,r.createElement(g.TUt,null)),"2. Copy the outputted Teleport config"),r.createElement(gr,null,r.createElement(o.xv,{mb:4},"You'll need this in the next step."),r.createElement(fe.DF,{onClick:()=>e.onNext()},"Next")))}function ca(e){return r.createElement(pr,null,r.createElement(mr,null,r.createElement(dr,null,r.createElement(g.EKh,null)),"3. Create /etc/teleport.yaml"),r.createElement(gr,null,r.createElement(o.xv,{mb:4},"Paste the output you just copied into /etc/teleport.yaml."),r.createElement(fe.DF,{onClick:()=>e.onNext()},"Next")))}var ua=n(2010);function ma(e){return r.createElement(pr,null,r.createElement(mr,null,r.createElement(dr,null,r.createElement(pa,null)),"4. Start Teleport"),e.children)}function da(e){const{active:t,result:n,start:a,timedOut:i}=pt();return i?r.createElement(ma,null,r.createElement(gr,null,r.createElement(o.xv,{mb:4},"We looked everywhere but we couldn't find your Teleport node."),r.createElement(fe.DF,{disabled:t,onClick:()=>a()},"Retry"))):n?r.createElement(ma,null,r.createElement(gr,null,r.createElement(o.xv,{mb:4},"Success! We've detected the new Teleport node you configured."),r.createElement(fe.DF,{onClick:()=>e.onNext()},"Next"))):r.createElement(ma,null,r.createElement(gr,null,r.createElement(o.xv,{mb:4},"Once you've started Teleport, we'll detect it here."),r.createElement(fe.DF,{disabled:!n,onClick:()=>e.onNext()},"Next")))}const pa=a.ZP.div(["width:30px;height:30px;background:url(",") no-repeat;background-size:contain;top:1px;position:relative;"],ua);function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ba,Ea;!function(e){e[e.RunConfigureScript=0]="RunConfigureScript",e[e.CopyOutput=1]="CopyOutput",e[e.CreateConfig=2]="CreateConfig",e[e.StartTeleport=3]="StartTeleport",e[e.Finished=4]="Finished"}(ba||(ba={})),function(e){e[e.RunCommand=0]="RunCommand",e[e.CreateConfig=1]="CreateConfig",e[e.StartTeleport=2]="StartTeleport"}(Ea||(Ea={}));const xa=[{kind:ba.RunConfigureScript,animation:Ea.RunCommand},{kind:ba.CopyOutput,animation:Ea.RunCommand},{kind:ba.CreateConfig,animation:Ea.CreateConfig},{kind:ba.StartTeleport,animation:Ea.StartTeleport},{kind:ba.Finished,animation:null}],ya={transition:"opacity 250ms, transform 250ms",opacity:0,width:"100%"},Aa={entering:{opacity:0,transform:"translateX(50px)"},entered:{opacity:1,transform:"translateX(0%)"},exiting:{opacity:0,transform:"translateX(-50px)"},exited:{opacity:0,transform:"translateX(-50px)"}},fa={entering:{opacity:0,transform:"translateY(50px)"},entered:{opacity:1,transform:"translateY(0%)"},exiting:{opacity:0,transform:"translateY(-50px)"},exited:{opacity:0,transform:"translateY(-50px)"}},Ca=a.ZP.div(["width:650px;display:flex;flex-direction:column;max-width:875px;flex:1 0 850px;align-items:flex-end;margin-left:-101px;position:relative;z-index:1;padding-right:20px;"]),Ma=a.ZP.div(["position:relative;width:calc(100% - 100px);padding:20px 100px;left:100px;"]),wa=(0,a.F4)(["from{width:0;}to{width:260px;}"]),Na=a.ZP.div(["position:absolute;top:43px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;animation:"," 1s ease-in forwards;svg{path{fill:none;}}"],wa),Da=(0,a.F4)(["0%{stroke-dashoffset:-250;}100%{stroke-dashoffset:0;}"]),va=a.ZP.svg(["position:absolute;z-index:1;path{stroke:#278348;stroke-width:4;fill:none;}"]),ja=(0,a.ZP)(va)(["stroke-dasharray:5,20;stroke-dashoffset:0;z-index:2;animation:"," 5s cubic-bezier(0.78,0.11,0.27,0.94) alternate infinite 0.6s;path{stroke:#32c842;}"],Da);function Sa(e){return r.createElement(Na,{style:{width:e.width,height:e.height,left:-e.width}},r.createElement(va,{width:e.width,height:e.height},e.children),r.createElement(ja,{width:e.width,height:e.height},e.children))}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ta{constructor(){ka(this,"x0",void 0),ka(this,"y0",void 0),ka(this,"x1",null),ka(this,"y1",null),ka(this,"path","")}moveTo(e,t){this.path+=`M${this.x0=this.x1=+e},${this.y0=this.y1=+t}`}closePath(){null!==this.x1&&(this.x1=this.x0,this.y1=this.y0,this.path+="Z")}lineTo(e,t){this.path+=`L${this.x1=+e},${this.y1=+t}`}bezierCurveTo(e,t,n,r,a,o){this.path+=`C${+e},${+t},${+n},${+r},${this.x1=+a},${this.y1=+o}`}}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Za(e){return e<0?-1:1}function Oa(e,t){const n=e.x1-e.x0;return n?(3*(e.y1-e.y0)/n-t)/2:t}function Pa(e,t,n){const r=e.x0,a=e.y0,o=e.x1,i=e.y1,l=(o-r)/3;e.path.bezierCurveTo(r+l,a+l*t,o-l,i-l*n,o,i)}function La(e,t,n){const r=e.x1-e.x0,a=t-e.x1,o=(e.y1-e.y0)/(r||a<0&&-0),i=(n-e.y1)/(a||r<0&&-0),l=(o*a+i*r)/(r+a);return(Za(o)+Za(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(l))||0}class Ua{constructor(e){za(this,"path",void 0),za(this,"line",void 0),za(this,"x0",void 0),za(this,"x1",void 0),za(this,"y0",void 0),za(this,"y1",void 0),za(this,"t0",void 0),za(this,"p",void 0),this.path=e}areaStart(){this.line=0}areaEnd(){this.line=NaN}lineStart(){this.x0=this.x1=this.y0=this.y1=this.t0=NaN,this.p=0}lineEnd(){switch(this.p){case 2:this.path.moveTo(this.x1,this.y1);break;case 3:Pa(this,this.t0,Oa(this,this.t0))}(this.line||0!==this.line&&1===this.p)&&this.path.closePath(),this.line=1-this.line}point(e,t){let n=NaN;if(t=+t,(e=+e)!==this.x1||t!==this.y1){switch(this.p){case 0:this.p=1,this.line?this.path.lineTo(e,t):this.path.moveTo(e,t);break;case 1:this.p=2;break;case 2:this.p=3,Pa(this,Oa(this,n=La(this,e,t)),n);break;default:Pa(this,this.t0,n=La(this,e,t))}this.x0=this.x1,this.x1=e,this.y0=this.y1,this.y1=t,this.t0=n}}}const Qa=a.ZP.div(["color:rgba(0,0,0,0.8);display:flex;align-items:center;color:#9cb974;font-size:12px;font-weight:500;margin-bottom:5px;"]),Ya=a.ZP.span(["margin-right:5px;font-size:14px;font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;"]),Ra=a.ZP.div(["display:flex;align-items:center;justify-content:center;padding:0 7px;margin-left:1px;"]),Ga=(0,a.ZP)(Ra)(["background:#323436;box-sizing:border-box;border-bottom:1px solid #92c7ef;"]),Ba=a.ZP.div(["background:url(",") no-repeat;width:15px;height:13px;position:relative;top:1px;background-size:contain;"],"data:image/svg+xml;base64,PHN2ZyBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDYuOTUgNS44NSI+PHBhdGggZD0iTTYuNTguMzhILjM4djEuMzloMi4yOXYzLjdoMS42di0zLjdoMi4zVi4zOFoiIHN0eWxlPSJmaWxsOndoaXRlIi8+PC9zdmc+Cg=="),Va=a.ZP.div(["display:flex;height:30px;"]),Wa=a.ZP.div(["background:#d9d9d9;font-size:12px;display:flex;justify-content:space-between;padding:5px 10px;line-height:1;color:rgba(0,0,0,0.8);border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;font-weight:bold;"]),Ha=a.ZP.div(["background:white;padding:13px 10px 5px;font-size:12px;line-height:1;"]),Fa=a.ZP.div(["background:url(",") no-repeat;width:16px;height:16px;background-size:contain;flex:0 0 16px;"],"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjBweCIgeT0iMHB4IgogICAgIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIKICAgICB2aWV3Qm94PSIwIDAgNDggNDgiCiAgICAgc3R5bGU9IiBmaWxsOiMwMDAwMDA7Ij4KICA8cGF0aCBmaWxsPSIjZmZmIgogICAgICAgIGQ9Ik0yMCAyNS4wMjZMNS4wMTEgMjUgNS4wMTIgMzcuNzQ0IDIwIDM5LjgxOHpNMjIgMjUuMDNMMjIgNDAuMDk1IDQyLjk5NSA0MyA0MyAyNS4wNjZ6TTIwIDguMjU2TDUgMTAuMzggNS4wMTQgMjMgMjAgMjN6TTIyIDcuOTczTDIyIDIzIDQyLjk5NSAyMyA0Mi45OTUgNXoiLz4KPC9zdmc+Cg=="),Ja=a.ZP.div(["background:#000000;display:flex;justify-content:space-between;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding-right:5px;height:30px;color:white;font-size:10px;align-items:center;"]),Ka=a.ZP.div(["color:rgba(0,0,0,0.5);font-size:12px;margin-bottom:5px;"]),Xa=a.ZP.div(["color:black;font-weight:bold;font-size:15px;margin:10px 0;"]),qa=a.ZP.div(["color:black;font-size:13px;display:flex;justify-content:space-between;"]),$a=a.ZP.div(["margin-top:3px;font-size:11px;color:rgba(0,0,0,0.6);"]),_a=a.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:13px;color:rgba(0,0,0,0.8);"]),eo=a.ZP.div(["font-size:10px;margin-bottom:10px;"]);function to(e){return r.createElement(r.Fragment,null,r.createElement(Wa,null,r.createElement("div",null,"Teleport"),r.createElement(g.X1q,{color:"black"})),r.createElement(Ha,null,r.createElement(Qa,null,r.createElement(Ya,null,"✔")," Teleport found this Desktop"),r.createElement(Xa,null,e.computerName),r.createElement(o.kC,{justifyContent:"space-between"},r.createElement(eo,null,r.createElement(Ka,null,"Operating System"),r.createElement(qa,null,e.os),r.createElement($a,null,e.osVersion)),r.createElement(eo,null,r.createElement(o.kC,{flexDirection:"column",alignItems:"flex-end"},r.createElement(Ka,null,"Address"),r.createElement(_a,null,e.address))))),r.createElement(Ja,null,r.createElement(Va,null,r.createElement(Ra,null,r.createElement(Fa,null)),r.createElement(Ga,null,r.createElement(Ba,null))),r.createElement("div",null,function(){const e=new Date;return`${e.getHours()}:${e.getMinutes().toString().padStart(2,"0")}`}())))}const no=(0,a.F4)(["from{opacity:0;}to{opacity:1;}"]),ro=a.ZP.div(["margin-bottom:30px;"]),ao=a.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.4);position:relative;animation:"," 0.9s ease-in 1s forwards;box-shadow:0 10px 20px 0 rgba(0,0,0,0.3);min-width:330px;max-width:500px;display:flex;flex-direction:column;justify-content:center;opacity:0;"],no);function oo(e){const t=(0,r.useRef)(),[n,a]=(0,r.useState)(null);let o;return(0,r.useLayoutEffect)((()=>{e.desktopServiceElement&&t.current&&e.containerElement&&a(function(e,t,n){if(!t||!e||!n)return null;const r=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=a.left-r.right,l=new Ta,s=new Ua(l);s.lineStart();const c=a.top-o.top+a.height/2-1,u=r.top-o.top+r.height/2;return s.point(0,u-8),s.point(40,u-8),s.point(i-10,c+2),s.point(i,c+2),s.lineEnd(),{width:i,height:o.height,path:l.path}}(e.desktopServiceElement,t.current,e.containerElement))}),[e.desktopServiceElement&&t.current&&e.containerElement]),n&&(o=r.createElement(Sa,{width:n.width,height:n.height},r.createElement("path",{d:n.path}))),r.createElement(ro,{ref:t},o,r.createElement(ao,null,r.createElement(to,{os:e.os,osVersion:e.osVersion,address:e.address,computerName:e.computerName})))}const io=a.ZP.div(["width:80px;height:16px;padding:0 7px;box-sizing:border-box;background:#f5e6fe;margin-bottom:8px;border-radius:5px;display:flex;align-items:center;position:relative;z-index:5;"]),lo=a.ZP.div(["display:flex;align-items:center;"]),so=(0,a.F4)(["46%{opacity:1;}50%{opacity:0;}54%{opacity:1;}"]),co=(0,a.F4)(["27%{opacity:1;}30%{opacity:0;}33%{opacity:1;}"]),uo=(0,a.F4)(["68%{opacity:1;}70%{opacity:0;}72%{opacity:1;}"]),mo=a.ZP.div(["width:6px;height:6px;border-radius:50%;margin-right:5px;"]),po=(0,a.ZP)(mo)(["background:#31c842;"]),go=(0,a.ZP)(po)(["animation:"," 8s step-start 0s infinite;"],so),ho=(0,a.ZP)(po)(["animation:"," 10s step-start 0s infinite;"],co),Io=(0,a.ZP)(po)(["animation:"," 12s step-start 0s infinite;"],uo),bo=a.ZP.div(["display:flex;flex:1;align-items:flex-end;flex-direction:column;"]),Eo=a.ZP.div(["height:3px;border-radius:5px;background:rgba(0,0,0,0.4);margin-left:5px;overflow:hidden;"]),xo=a.ZP.div(["display:flex;justify-content:space-between;margin-bottom:2px;"]);function yo(e){return r.createElement(io,null,r.createElement(lo,null,e.light),r.createElement(bo,null,r.createElement(xo,null,r.createElement(Eo,{style:{width:5}}),r.createElement(Eo,{style:{width:30}})),r.createElement(Eo,{style:{width:20}})))}const Ao=(0,a.F4)(["0%{box-shadow:0 0 0 0 rgba(255,255,255,0),0 0 0 40px rgba(255,255,255,0.18);}100%{box-shadow:0 0 0 40px rgba(255,255,255,0.18),0 0 0 40px rgba(204,233,251,0);}"]),fo=a.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;justify-content:center;height:82px;"]),Co=a.ZP.div(["animation:"," 1.5s linear infinite;border-radius:50%;width:100px;height:100px;position:absolute;z-index:-1;top:50%;left:50%;transform:translate(-50%,calc(-50% - 10px));&::after{z-index:0;border-radius:50%;position:absolute;content:'';display:block;width:100px;height:100px;background:rgba(34,44,89,1);transform:scale(1);}"],Ao);function Mo(e){return r.createElement(fo,{ref:e.desktopServiceRef},r.createElement(Co,null),r.createElement(yo,{light:r.createElement(go,null)}))}const wo=a.ZP.div(["display:flex;flex-direction:column;position:relative;padding-bottom:10px;"]);function No(){return r.createElement(wo,null,r.createElement(yo,{light:r.createElement(go,null)}),r.createElement(yo,{light:r.createElement(ho,null)}),r.createElement(yo,{light:r.createElement(Io,null)}))}const Do=a.ZP.div(["font-family:Menlo,DejaVu Sans Mono,Consolas,Lucida Console,monospace;font-size:12px;color:rgba(255,255,255,0.7);"]),vo=a.ZP.div(["font-size:16px;"]),jo=a.ZP.div(["height:92px;margin-bottom:15px;"]),So=a.ZP.div(["display:inline-flex;position:relative;"]),ko=a.ZP.div(["position:absolute;height:94px;width:257px;top:0;left:125px;right:121px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;overflow:hidden;"]);function To(){return r.createElement(ko,null,r.createElement(va,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})),r.createElement(ja,{width:254,height:94,viewBox:"0 0 254 93.5"},r.createElement("path",{d:"M1.5,0V76.74c0,8.43,7.62,15.26,17.02,15.26H235.48c9.4,0,17.02-6.83,17.02-15.26V32.42"})))}const zo=a.ZP.div(["width:250px;display:flex;align-items:center;flex-direction:column;"]);function Zo(e){const t=function(){const{hostname:e,port:t}=window.location;return"443"!==t&&t?`${e}:${t}`:e}();return r.createElement("div",null,r.createElement(So,null,r.createElement(To,null),r.createElement(zo,null,r.createElement(jo,null,r.createElement(No,null)),r.createElement(vo,null,"Teleport Proxy"),r.createElement(Do,null,t)),r.createElement(zo,null,r.createElement(jo,null,r.createElement(Mo,{desktopServiceRef:e.desktopServiceRef})),r.createElement(vo,null,"Desktop Service"),r.createElement(Do,null,e.result&&e.result.hostname))))}var Oo=n(6828),Po=n(7885);const Lo=a.ZP.div(["margin-top:120px;margin-left:-40px;display:flex;"]),Uo=a.ZP.div(["margin-top:100px;"]),Qo=a.ZP.div(["position:relative;margin-left:125px;margin-top:-43px;"]),Yo=(0,a.F4)(["from{opacity:0;}to{opacity:1;}"]),Ro=a.ZP.div(["box-sizing:border-box;color:rgba(0,0,0,0.8);border-radius:10px;box-shadow:0 10px 15px rgba(0,0,0,0.5);background:white;position:relative;animation:"," 0.9s ease-in 1s forwards;display:flex;flex-direction:column;justify-content:center;padding:10px 10px 10px 15px;opacity:0;width:240px;"],Yo),Go=(0,a.ZP)(Po.OL)(["background:#0091ea;color:white;border-radius:5px;margin-top:10px;text-decoration:none;padding:3px 10px;text-align:center;cursor:pointer;&:hover{background:#4db2f0;}"]),Bo=a.ZP.div(["color:#f50057;font-weight:bold;font-size:16px;"]);function Vo(e){return r.createElement(rt,{timeout:3e5},r.createElement(dt,{timeout:6e5,interval:3e3,resourceKind:ze.Desktop},e.children))}const Wo=[En,fn,Gn,Bn,{kind:ze.Desktop,icon:r.createElement(g.Hi7,null),wrapper:e=>r.createElement(Vo,null,e),shouldPrompt:e=>0!==e&&e<3,views:[{title:"Select Resource"},{title:"Install Active Directory",component:An},{title:"Connect Teleport",component:function(e){const[t,n]=(0,r.useState)(ba.RunConfigureScript),a=xa.find((e=>e.kind===t));let o;return null!==a.animation&&(o=r.createElement(Ma,null,r.createElement(Ca,null,r.createElement(tr,{mode:"out-in"},r.createElement(Fn.ZP,{key:a.animation,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(e=>r.createElement("div",{style:ha(ha({},ya),Aa[e])},a.animation===Ea.RunCommand&&r.createElement(r.Suspense,{fallback:r.createElement(cr,{title:"Terminal"})},r.createElement(Zr,{isCopying:a.kind===ba.CopyOutput})),a.animation===Ea.CreateConfig&&r.createElement(ta,null),a.animation===Ea.StartTeleport&&r.createElement(ia,null)))))))),r.createElement(ur,null,r.createElement(tr,{mode:"out-in"},r.createElement(Fn.ZP,{key:t,timeout:250,mountOnEnter:!0,unmountOnExit:!0},(a=>r.createElement("div",{style:ha(ha({},ya),fa[a])},t===ba.RunConfigureScript&&r.createElement(r.Suspense,{fallback:r.createElement(Ir,null)},r.createElement(hr,{onNext:()=>n(ba.CopyOutput)})),t===ba.CopyOutput&&r.createElement(sa,{onNext:()=>n(ba.CreateConfig)}),t===ba.CreateConfig&&r.createElement(ca,{onNext:()=>n(ba.StartTeleport)}),t===ba.StartTeleport&&r.createElement(da,{onNext:()=>e.nextStep()}))))),o)}},{title:"Discover Desktops",component:function(e){const t=(0,R.Z)(),{result:n}=pt(),[a,i]=(0,r.useState)(!0),{clusterId:l}=(0,Oo.Z)(),{timedOut:s,result:c}=ct((e=>t.desktopService.fetchDesktops(l,{limit:14},e)),6e5,a,3e3),u=(0,r.useRef)(null);(0,r.useEffect)((()=>{a&&c&&14===c.agents.length&&i(!1)}),[a,c]);const m=(0,r.useRef)(),p=[];if(c&&c.agents){const e=c.agents.filter((e=>e.host_id===n.name));if(e.length)for(const t of e.values()){const e=t.labels.find((e=>"teleport.dev/os"===e.name)).value,n=t.labels.find((e=>"teleport.dev/os_version"===e.name)).value;p.push({os:e,osVersion:n,computerName:t.name,address:t.addr})}}let g;if(s)g=r.createElement(Ro,null,r.createElement(Bo,null,"Oh no!")," We could not find any Desktops. Connect Desktops to your Active Directory for Teleport to automatically discover them.");else{const e=p.slice(0,3).map(((e,t)=>r.createElement(oo,{key:t,index:t,os:e.os,osVersion:e.osVersion,computerName:e.computerName,address:e.address,desktopServiceElement:u.current,containerElement:m.current}))),t=p.length-3;let n;if(t>0){let e="1",a="Desktops";1===t?a="Desktop":e=t>11?"10+":`${t}`,n=r.createElement(Ro,{key:"view-more"},"We've found ",e," more ",a,"."," ",r.createElement(Go,{to:d.Z.getDesktopsRoute(l)},"View them all here"))}g=r.createElement(r.Fragment,null,e,n)}return r.createElement(o.xu,null,r.createElement(we,null,"Discover Desktops"),r.createElement(o.xv,null,"We're discovering Desktops that are already connected to your Active Directory."),r.createElement(Lo,{ref:m},r.createElement(Zo,{result:n,desktopServiceRef:u}),r.createElement(Qo,null,g)),r.createElement(Uo,null,r.createElement(o.DF,{width:"165px",mr:3,onClick:()=>e.nextStep()},"Finish")))}},{title:"Finished",component:Se,hide:!0}]}];function Ho(e){var t;const n=(0,et.Z)(e),a=(0,l.TH)(),[o,i]=(0,r.useState)(0),[s,c]=(0,r.useState)(function(e){switch(e){case"application":return ze.Application;case"database":return ze.Database;case"desktop":return ze.Desktop;case"kubernetes":return ze.Kubernetes;default:return ze.Server}}(null==a||null===(t=a.state)||void 0===t?void 0:t.entity)),[u,m]=(0,r.useState)(),d=Wo.find((e=>e.kind===s)),p=(0,r.useMemo)((()=>y(d.views)),[d.views]);return{agentMeta:u,alerts:n.alerts,currentStep:o,customBanners:n.customBanners,dismissAlert:n.dismissAlert,initAttempt:{status:n.status,statusText:n.statusText},logout:function(){_e.Z.logout()},nextStep:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=A(p,o+e);t&&i(o+1)},prevStep:function(){A(p,o-1)&&i(o-1)},onSelectResource:function(e){c(e)},selectedResource:d,selectedResourceKind:s,updateAgentMeta:function(e){m(e)},views:p}}const Fo=["alerts","initAttempt","customBanners","dismissAlert","currentStep","selectedResource","onSelectResource","logout","views"];function Jo(e){const t=Ho({initialAlerts:e.initialAlerts,customBanners:e.customBanners}),{alerts:n,initAttempt:a,customBanners:g,dismissAlert:h,currentStep:I,selectedResource:b,onSelectResource:E,logout:x,views:y}=t,f=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,Fo);let C;if(I>0){const e=A(y,I).component;C=r.createElement(e,f),b.wrapper&&(C=b.wrapper(C))}else C=r.createElement(Je,{selectedResourceKind:b.kind,onSelect:e=>E(e),onNext:()=>f.nextStep()});const M=n.map((e=>{return{message:e.spec.message,severity:(t=e.spec.severity,t<5?"info":t<10?"warning":"danger"),link:e.metadata.labels[p.F],id:e.metadata.name};var t}));return r.createElement(m.t,{banners:M,customBanners:g,onBannerDismiss:h},r.createElement(Ko,null,r.createElement(l.NL,{message:e=>e.pathname===d.Z.routes.discover||"Are you sure you want to exit the “Add New Resource” workflow? You’ll have to start from the beginning next time.",when:b.shouldPrompt(I)}),"processing"===a.status&&r.createElement(s.StyledIndicator,null,r.createElement(o.z$,null)),"failed"===a.status&&r.createElement(i.b0,null,a.statusText),"success"===a.status&&r.createElement(r.Fragment,null,r.createElement(T,{views:y,currentStep:I,selectedResource:b}),r.createElement(s.HorizontalSplit,null,r.createElement(s.ContentMinWidth,null,r.createElement(c.T,null,r.createElement(o.xv,{typography:"h5",bold:!0},"Manage Access"),r.createElement($e,{logout:x})),r.createElement(u.Ob,{pt:4,maxWidth:"1450px"},C))))))}const Ko=(0,a.ZP)(s.MainContainer)(["--sidebar-width:280px;"])},7067:(e,t,n)=>{n.d(t,{Ob:()=>m,OX:()=>c,u4:()=>u,E2:()=>d});var r=n(917),a=n(7849),o=n(135);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(0,r.ZP)(a.kC)(["flex-shrink:0;border-bottom:1px solid ",";height:56px;margin-left:-40px;margin-right:-40px;padding-left:40px;padding-right:40px;"],(e=>e.theme.colors.primary.main));c.defaultProps={alignItems:"center",mb:4};const u=(0,r.ZP)(a.xv)(["white-space:nowrap;"]);u.defaultProps=l(l({},a.xv.defaultProps),{},{typography:"h3"});const m=(0,r.ZP)(a.kC)(["width:100%;height:100%;flex-direction:column;::after{content:' ';padding-bottom:24px;}"]);m.defaultProps={theme:o.Z,px:6},r.ZP.div(["position:absolute;width:100%;height:100%;display:flex;"]),r.ZP.div(["display:flex;flex-direction:column;width:100%;"]);const d=r.ZP.button(["color:",";cursor:pointer;display:inline-flex;font-size:14px;padding:12px 40px;position:relative;text-decoration:none;font-weight:500;&:hover{background:",";}&.active{color:",";}&.active:after{background-color:",";content:'';position:absolute;bottom:0;left:0;width:100%;height:4px;}"],(e=>e.theme.colors.text.secondary),(e=>e.active?e.theme.colors.primary.light:"rgba(255, 255, 255, .06)"),(e=>e.theme.colors.light),(e=>e.theme.colors.accent))},1347:(e,t,n)=>{n.d(t,{r:()=>m,Z:()=>E});var r=n(2784),a=n(5070),o=n(3388),i=n(7849),l=n(917);const s=["text","fontFamily","allowMultiline","onCopy","bash"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var u=n(3757);function m(e){var t,n;let{lines:l,bash:s=!0}=e;const c=(0,r.useRef)([]),m=null===(t=window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toLowerCase().includes("firefox");return r.createElement(I,{bg:"bgTerminal",pl:3,pt:2,pr:7,borderRadius:2,pb:m?3:2},r.createElement(h,{mr:1},l.map(((e,t)=>{const n=t===l.length-1;return r.createElement(i.xu,{pt:2,pb:n?0:2,key:t,ref:e=>c.current[t]=e},e.comment&&r.createElement(p,null,e.comment),r.createElement(i.kC,null,r.createElement(i.kC,null,s&&r.createElement(i.xu,{mr:"1"},"$"),r.createElement("div",{className:"text-to-copy"},e.text)),r.createElement(b,{pr:3},r.createElement(g,{onClick:()=>function(e){(0,a.Z)(l[e].text).then((()=>{const t=c.current[e].getElementsByClassName("icon-container")[0];t.classList.toggle("copied"),setTimeout((()=>{t.classList.toggle("copied")}),1e3)}));const t=c.current[e].getElementsByClassName("text-to-copy")[0];(0,o.Z)(t)}(t)},r.createElement(d,{className:"icon-container"},r.createElement(u.CKM,{"data-testid":"btn-copy"}),r.createElement(u.JrY,{"data-testid":"btn-check"}))))))}))))}const d=l.ZP.div([".icon-check{display:none;}.icon-copy{display:block;}&.copied{.icon-check{display:block;}.icon-copy{display:none;}}"]),p=l.ZP.div(["color:rgb(117 113 94 / 80%);"]),g=(0,l.ZP)(i.PL)(["height:28px;width:28px;border-radius:20px;min-height:auto;padding:0;margin-top:-4px;"]),h=(0,l.ZP)(i.xu)(["white-space:pre;word-break:break-all;font-size:12px;font-family:",";overflow:scroll;line-height:20px;"],(e=>{let{theme:t}=e;return t.fonts.mono}));var I=(0,l.ZP)(i.xu)({position:"relative"}),b=(0,l.ZP)(i.xu)(["position:absolute;right:0px;"]);const E=function(e){let{text:t,fontFamily:n,allowMultiline:u,onCopy:m,bash:d=!0}=e,p=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);const g=n||(0,l.Fg)().fonts.mono,h=r.useRef(),[I,b]=r.useState((()=>"Copy")),E=d&&!u?{overflow:"auto",whiteSpace:"pre",wordBreak:"break-all",fontSize:"12px",fontFamily:g}:{wordBreak:"break-all",fontSize:"12px",fontFamily:g};return r.createElement(i.kC,c({bg:"bgTerminal",p:"2",alignItems:"center",justifyContent:"space-between",borderRadius:2},p),r.createElement(i.kC,{mr:"2",style:E},d&&r.createElement(i.xu,{mr:"1",style:{userSelect:"none"}},"$"),r.createElement("div",{ref:h},t)),r.createElement(i.DF,{onClick:function(){(0,a.Z)(t).then((()=>b("Copied"))),(0,o.Z)(h.current),m&&m()},style:{maxWidth:"48px",width:"100%",padding:"4px 8px",minHeight:"10px",fontSize:"10px"}},I))}},3228:(e,t,n)=>{n.d(t,{ES:()=>i,Kp:()=>a,RB:()=>r,Sl:()=>o});const r=e=>{const t=document.createElement("a");t.setAttribute("href",`${e}`),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;const n=t.encode(e),r=await crypto.subtle.digest("SHA-256",n),a=Array.from(new Uint8Array(r)),o=a.map((e=>e.toString(16).padStart(2,"0"))).join("");return o}function o(e){let{authType:t,clusterId:n,username:r,accessRequestId:a}=e;const{hostname:o,port:i}=window.location;return`tsh login --proxy=${o}:${i||"443"} ${"local"===t?`--auth=${t} --user=${r} `:""}${n}${a?` --request-id=${a}`:""}`}function i(e,t){return e&&t?e.filter((e=>!t.includes(e))):[]}},2010:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTMwcHgiIGhlaWdodD0iMTM3cHgiIHZpZXdCb3g9IjAgMCAxMzAgMTM3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dGVsZXBvcnQgbWVkYWxsaW9uIDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxRTI3NTEiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzBDMTQzRCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjAlIiB5MT0iMy4zNDk2MDkzNyUiIHgyPSIxMDAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzg0OUI1IiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTIzN0UiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGNpcmNsZSBpZD0icGF0aC0zIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU3LjUiPjwvY2lyY2xlPgogICAgICAgIDxmaWx0ZXIgeD0iLTcuMCUiIHk9Ii03LjAlIiB3aWR0aD0iMTEzLjklIiBoZWlnaHQ9IjExNy40JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTQiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSI0IiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4yNCAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIyIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIyIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjIiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMiIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIyIj48L2ZlQ29tcG9zaXRlPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC4xMiAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIyIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMiI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjIiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8ZmlsdGVyIHg9Ii0xMDYuOSUiIHk9Ii0xMDEuMyUiIHdpZHRoPSIzMTMuOSUiIGhlaWdodD0iMzAyLjYlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItNSI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjgiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjE2IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjI0IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+CiAgICAgICAgICAgIDxmZU1lcmdlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiPjwvZmVNZXJnZU5vZGU+CiAgICAgICAgICAgIDwvZmVNZXJnZT4KICAgICAgICA8L2ZpbHRlcj4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9Ijc5LjM5ODYwMDMlIiB5MT0iLTg1LjM5ODE3MTIlIiB4Mj0iMTMuNDYwMjg2NSUiIHkyPSIxOTEuOTY2NjY0JSIgaWQ9ImxpbmVhckdyYWRpZW50LTYiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iMTguMjI2OTA5MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U4RUFGNiIgc3RvcC1vcGFjaXR5PSIwLjI0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxmaWx0ZXIgeD0iLTEwNi45JSIgeT0iLTEwMS4zJSIgd2lkdGg9IjMxMy45JSIgaGVpZ2h0PSIzMDIuNiUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci03Ij4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iOCIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMTYiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUdhdXNzaWFuQmx1cj4KICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuMjQgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlRlbGVwb3J0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iVGVsZXBvcnQtLS1Mb2dpbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY1Ni4wMDAwMDAsIC00My4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0idGVsZXBvcnQtbWVkYWxsaW9uLSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY0LjAwMDAwMCwgNDcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbCI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTQpIiB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIHN0cm9rZT0idXJsKCNsaW5lYXJHcmFkaWVudC0yKSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InNxdWFyZSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iNTcuNSIgY3k9IjU3LjUiIHI9IjU2LjUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci01KSIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9ImdyYXZpdHkvbG9nby90ZWxlcG9ydCIgZmlsdGVyPSJ1cmwoI2ZpbHRlci03KSIgb3BhY2l0eT0iMC40NDA3Nzg0NiIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBvdmVybGF5OyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTYpIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzEuMzUzNDcxMiw0OC43MzExNzMxIEM3MS44NzI1MDQzLDQ5LjEwMjE5NjEgNzIuMDU4NjQzOSw0OS44MDY5Nzc0IDcxLjc5OTY2NjksNTAuNDAwNTA1NyBDNzAuMzE2NDgzNSw1NC45NjQwMzI0IDY3Ljc1OTYyNDIsNTkuMzA1MDUzNSA2NC42MDg3MzYzLDYyLjkwMzQ4ODMgQzY0LjE2NDY5ODUsNjMuNDIzMDI4NyA2My41MzQ1MjA2LDYzLjYwNzczMDEgNjIuOTQxMDMxNiw2My4zNDg0OTk5IEw1My43ODYxOTE1LDYwLjE1NzgxMTYgQzUxLjUyNDk5NzcsNjIuMDEzNDY1OCA0OC45Njc1OTg1LDYzLjQ5NzAxNyA0Ni4yMjUxMzkyLDY0LjU3MjgyMTMgTDQ0LjQwOTA2MjMsNzQuMDcwODk3NCBDNDQuMjk3OTE3OSw3NC42NjQ0MjU3IDQzLjc3ODg4NDUsNzUuMjIxMjMwMSA0My4xNDgxNjc0LDc1LjI5NTIxODcgQzQwLjc3NjkwODYsNzUuNzQwNzY5OCAzOC40MDQwMzA3LDc2IDM1Ljk1ODMxNTksNzYgQzMzLjUxMTUyMiw3NiAzMS4xMzk3MjMzLDc1Ljc0MDIyOTYgMjguNzY3OTI0Nyw3NS4yOTUyMTg3IEMyOC4xMzcyMDc1LDc1LjIyMTIzMDEgMjcuNjE4NzEzOCw3NC42NjQ0MjU3IDI3LjUwNzU2OTUsNzQuMDcwODk3NCBMMjUuNjkxNDkyNiw2NC41NzI4MjEzIEMyMi45NDkwMzMxLDYzLjQ5NzAxNyAyMC4zMTcxNzgzLDYyLjAxMzQ2NTggMTguMTMwNDQwNCw2MC4xNTc4MTE2IEw4Ljk3NTYwMDEyLDYzLjM0ODQ5OTkgQzguMzgyNjUwNDcsNjMuNjA4MjY5NiA3Ljc1MjQ3Mjg2LDYzLjQyMzAyODcgNy4zMDczNTU5OSw2Mi45MDM0ODgzIEM0LjE1NzAwNzQ4LDU5LjMwNTA1MzUgMS41OTk2MDg2OCw1NC45NjQwMzI0IDAuMTE2OTY0ODAyLDUwLjQwMDUwNTcgQy0wLjE0MjU1MTgyOSw0OS44MDY5Nzc0IDAuMDQzMDQ4NDIzMSw0OS4xMDIxOTYxIDAuNTYxNTQyMTUzLDQ4LjczMTE3MzEgTDcuODI1MzEwMTgsNDIuNDI0ODY1MyBDNy41NjU3OTM1NSw0MS4wMTQyMjI3IDcuNDkxODc3MTcsMzkuNDkzNDA3MiA3LjQ5MTg3NzE3LDM4LjAwOTMxNTggQzcuNDkxODc3MTcsMzYuNTI1NzY0NiA3LjU2NjMzMzA3LDM1LjAwMzg2OSA3LjgyNTMxMDE4LDMzLjU5NDMwNjUgTDAuNTYxMDAyNjE0LDI3LjI4NjkxODcgQzAuMDQyNTA4ODg3MywyNi45MTU4OTU5IC0wLjE0MzA5MTM2NSwyNi4yMTE2NTQ2IDAuMTE2NDI1MjY3LDI1LjYxNzU4NjEgQzEuNTk5MDY5MTQsMjEuMDU0NTk5NiA0LjE1NjQ2Nzk2LDE2LjcxMzU3ODYgNy4zMDY4MTY0MywxMy4xMTUxNDM0IEM3Ljc1MTkzMzMzLDEyLjU5NTYwMzQgOC4zODIxMTA5NSwxMi40MTAzNjIgOC45NzUwNjA1NiwxMi42NzAxMzIgTDE4LjEyOTkwMDksMTUuODYwMjgwMSBDMjAuMzE2NjM4OCwxNC4wMDUxNjYxIDIyLjk0ODQ5MzYsMTIuNTIxNjE0OSAyNS42OTA5NTMxLDExLjQ0NTI3MDcgTDI3LjUwNzAzLDEuOTQ3NzM0NzUgQzI3LjYxODE3NDMsMS4zNTQyMDYyNiAyOC4xMzcyMDc1LDAuNzk3NDAyMDEzIDI4Ljc2NzM4NTEsMC43MjM0MTM0NzUgQzMzLjUxMTUyMiwtMC4yNDExMzc4MjUgMzguNDAzNDkxMiwtMC4yNDExMzc4MjUgNDMuMTQ3NjI3OCwwLjcyMzQxMzQ3NSBDNDMuNzc4MzQ1MiwwLjc5NzQwMjAxMyA0NC4yOTczNzgzLDEuMzU0MjA2MjYgNDQuNDA4NTIzMSwxLjk0NzczNDc1IEw0Ni4yMjQwNjAxLDExLjQ0NDczMDcgQzQ4Ljk2NjUxOTQsMTIuNTIxMDc0OCA1MS41MjQ0NTc4LDE0LjAwNDYyNiA1My43ODUxMTI0LDE1Ljg1OTc0MDEgTDYyLjkzOTk1MjUsMTIuNjY5NTkyIEM2My41MzM0NDE1LDEyLjQwOTI4MTkgNjQuMTYzNjE5NCwxMi41OTUwNjM0IDY0LjYwNzY1NzIsMTMuMTE0NjAzMyBDNjcuNzU4NTQ1MSwxNi43MTMwMzg2IDcwLjMxNTQwNDQsMjEuMDU0MDU5NSA3MS43OTg1ODc4LDI1LjYxNzA0NiBDNzIuMDU4NjQzOSwyNi4yMTExMTQ2IDcxLjg3MjUwNDMsMjYuOTE1MzU1OCA3MS4zNTM0NzEyLDI3LjI4NjM3ODYgTDY0LjA4OTE2MzQsMzMuNTkzNzY2NCBDNjQuMzQ4Njc5OSwzNS4wMDM4NjkgNjQuNDIyNTk2NywzNi41MjUyMjQ4IDY0LjQyMjU5NjcsMzguMDA4Nzc2IEM2NC40MjI1OTY3LDM5LjQ5Mjg2NzMgNjQuMzQ4Njc5OSw0MS4wMTQyMjI3IDY0LjA4OTE2MzQsNDIuNDI0MzI1NSBMNzEuMzUzNDcxMiw0OC43MzExNzMxIFogTTM2LDYyLjUwOTc0MiBDNDkuNTQxNjI4LDYyLjUwOTc0MiA2MC41MTkxMzU0LDUxLjUzNjI3MzQgNjAuNTE5MTM1NCwzOCBDNjAuNTE5MTM1NCwyNC40NjM3MjY2IDQ5LjU0MTYyOCwxMy40OTAyNTggMzYsMTMuNDkwMjU4IEMyMi40NTgzNzIsMTMuNDkwMjU4IDExLjQ4MDg2NDYsMjQuNDYzNzI2NiAxMS40ODA4NjQ2LDM4IEMxMS40ODA4NjQ2LDUxLjUzNjI3MzQgMjIuNDU4MzcyLDYyLjUwOTc0MiAzNiw2Mi41MDk3NDIgWiBNMzYsNTkuNDE3NDEwMyBDMjQuMTY3NDI2NSw1OS40MTc0MTAzIDE0LjU3NTA3OTUsNDkuODI4NTkyNCAxNC41NzUwNzk1LDM4IEMxNC41NzUwNzk1LDI2LjE3MTQwNzYgMjQuMTY3NDI2NSwxNi41ODI1ODk3IDM2LDE2LjU4MjU4OTcgQzQ3LjgzMjU3MzUsMTYuNTgyNTg5NyA1Ny40MjQ5MjA1LDI2LjE3MTQwNzYgNTcuNDI0OTIwNSwzOCBDNTcuNDI0OTIwNSw0OS44Mjg1OTI0IDQ3LjgzMjU3MzUsNTkuNDE3NDEwMyAzNiw1OS40MTc0MTAzIFogTTI0LjAwNTk1MDksMjggTDI0LjAwNTk1MDksMzQuMDAyMTUxNSBMMzMuMDAyOTc1NSwzNC4wMDIxNTE1IEwzMy4wMDI5NzU1LDQ5LjAwODE2MzUgTDQwLDQ5LjAwODE2MzUgTDQwLDM0LjAwMjE1MTUgTDQ5LjAwMzkwNjIsMzQuMDAyMTUxNSBMNDkuMDAzOTA2MiwyOCBMMjQuMDA1OTUwOSwyOCBaIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="}}]);